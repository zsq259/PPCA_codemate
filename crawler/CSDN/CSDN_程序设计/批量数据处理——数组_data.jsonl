{"Answer": "1.页面传递一个字符串，如：\r\nvar idStr = “1,2,3,”;\r\nidStr作为参数传递给后台\r\n\r\n2.后者这样处理：\r\nString[] ids = idStr.split(\",\");\r\n这样就可以对ids随意处理了", "Konwledge_Point": "批量数据处理——数组", "Question": ["执行一个批量操作，前台传的数组，后面用集合能接收到么", ["一个批量修改商品状态，传多个商品id进来，前台传的是[1,2,3,]这样的，我但是我后面用的是List能接收到么", "\n如果接收不到，那前台要怎么传，后台的类型已经定好了，不能先接收数组转集合"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;let arr &amp;#61; []&lt;br /&gt;\nfor(let i &amp;#61; 0 ,l &amp;#61; data.length; i&amp;#43;&amp;#43;){&lt;!-- --&gt;&lt;br /&gt;\n    if(i &amp;#61;&amp;#61;&amp;#61; 0){&lt;!-- --&gt;&lt;br /&gt;\n        arr.push([data[i]])&lt;br /&gt;\n    }else{&lt;!-- --&gt;&lt;br /&gt;\n        let flag &amp;#61; false&lt;br /&gt;\n        try{&lt;!-- --&gt;&lt;br /&gt;\n            arr.forEach(item&amp;#61;&amp;gt;{&lt;!-- --&gt;&lt;br /&gt;\n                if(item[0].type &amp;#61;&amp;#61;&amp;#61; data[i].type){&lt;!-- --&gt;&lt;br /&gt;\n                    item.push(data[i])&lt;br /&gt;\n                    flag &amp;#61; true&lt;br /&gt;\n                    throw &amp;#39;&amp;#39;&lt;br /&gt;\n                }&lt;br /&gt;\n            })&lt;br /&gt;\n        }.catch(e){}&lt;br /&gt;\n        if(!flag){&lt;!-- --&gt;&lt;br /&gt;\n            arr.push([data[i]])&lt;br /&gt;\n        }&lt;br /&gt;\n    }&lt;br /&gt;\n}&lt;br /&gt;\n//data 就是你的数据&lt;br /&gt;\n// arr 最后得到的是一个个分类好的数组  二维数组 不知道你想要哪种&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["js处理后台返回数据，把相同数据的值放到数组中？", ["\n\n", " 我想把相同type的value值放到一个数组中去，请问有什么好的方法么，求帮助~", "\n\n", " "]], "Tag": "程序设计"}
{"Answer": "http://iask.sina.com.cn/b/3590024.html", "Konwledge_Point": "批量数据处理——数组", "Question": ["请问vb语言的互斥技术能不能用在控件里定义的数组中，实现数组多笔数据的同时操作？", ["请问vb语言的互斥技术能不能用在控件里定义的数组中，实现数组多笔数据的同时操作？怎么使用数组进行互斥技术的批量读写？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;&lt;img alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/507028240726172.png\" /&gt;&lt;br /&gt;对Python列表使用乘法&amp;#xff0c;对于不可变对象&amp;#xff08;如数字、字符串&amp;#xff09;而言是复制值&amp;#xff0c;但对可变对象&amp;#xff08;如列表、字典&amp;#xff09;而言则是复制引用&amp;#xff0c;因此对于包含可变对象的列表切莫使用列表乘法&amp;#xff0c;可使用列表生成式代替。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何给变量批量赋值ndarray数组？", ["\n", "如图，这样批量赋值的话，改变a的大小为什么会同步改变b的大小？", "\n", "a,b = np.ones(2) , np.ones(2)", "这样写的话就没有上述问题了，但我要是想同时赋值10个变量，这样写代码会很冗长，有没有什么办法呢？"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;I've modified your code to make it work:&lt;/p&gt;\n\n&lt;p&gt;form.php&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;form method=\"POST\" action=\"form.php\"&amp;gt;\n&amp;lt;input type=\"text\" name=\"waw\" /&amp;gt;\n&amp;lt;input type=\"submit\" /&amp;gt;\n&amp;lt;/form&amp;gt;\n\n&amp;lt;form method=\"POST\" action=\"input.php\"&amp;gt;\n&amp;lt;?php \n$i=0;\n\nwhile ($i&amp;lt;$_GET['waw'])\n{\n?&amp;gt;\n\n&amp;lt;!-- Person #1 --&amp;gt;\n\n&amp;lt;input type=\"text\" name=\"username[]\" /&amp;gt;\n\n&amp;lt;input type=\"text\" name=\"phonenum[]\" /&amp;gt;\n\n&amp;lt;input type=\"text\" name=\"add[]\" /&amp;gt;&amp;lt;br /&amp;gt;\n\n\n&amp;lt;?php \n$i++;\n}\n?&amp;gt;\n&amp;lt;input type=\"submit\" /&amp;gt;\n&amp;lt;/form&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;input.php&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;?php\n\n\n$username=\"maizakath\";\n$password=\"12345\";\n$database=\"tryinsert\";\nmysql_connect('localhost',$username,$password);\n@mysql_select_db($database) or die(\"&amp;lt;b&amp;gt;Unable to specified database&amp;lt;/b&amp;gt;\");\n\n\n\n$sql_start = 'INSERT INTO `mytable` VALUES '; \n$sql_array = array(); \n$queue_num = $_POST['waw']; \nforeach ($_POST['username'] as $row=&amp;gt;$name)\n{\n$username = $name;\n$phonenum = $_POST['phonenum'][$row];\n$add = $_POST['add'][$row];\n$sql_array[] = '(\"' . $username . '\", \"'.$phonenum.'\", \"'.$add.'\")'; \nif (count($sql_array) &amp;gt;= $queue_num) {\n  $query_single=$sql_start . implode(', ', $sql_array);\n  mysql_query($query_single); \n  $sql_array = array(); \n}\n}\n\nif (count($sql_array) &amp;gt; 0)  {\n  $query = $sql_start . implode(', ', $sql_array);\n  mysql_query($query)or die(mysql_error());\n}\n\n?&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It works fine. I've just tested it on my local machine.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT(Comments)&lt;/strong&gt;: &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Usage of variable $queue_num in input.php is senseless, because this variable is available only in form.php script('wow' input placed in another form, which is submitted to file form.php, not input.php). So &lt;code&gt;if (count($sql_array) &amp;gt;= $queue_num)&lt;/code&gt; block works wrong;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Check your config settings for the database connection(as I've wrote in comment, you have to define constant with name 'localhost' or enclose word localhost with quotes);&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;I've modified your form, because it had wrong structure;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;I didn't understand the objective of creating first form in form.php.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;You can modify this code to make it more appropriate for your case. But firsat of all try to use this one.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Note.&lt;/strong&gt; Use &lt;a href=\"http://ua2.php.net/manual/en/function.var-dump.php\" rel=\"nofollow noreferrer\"&gt;var_dump()&lt;/a&gt; function to see your $_POST array during debugging to understand, what variables are available.&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何使用PHP将多个数组插入数据库", ["\n\n", "I need help. What seems to be the problem with our php codes? We can't seem to insert our data into our database. I'm just a beginner and I'm tasked to store multiple data into multiple arrays into our database. What we're actually doing is to enter a number (ex: 5) and 5 forms should show within that page. each form would consist of name address and tel phone number. after that we submit it to our database. We have already controlled hot many forms to show but we weren't able to store the data inserted. Can anyone help us please? Thank you.", "\n\n", "form.php", "\n\n", "<form method=\"POST\" action=\"form.php\">\n<input type=\"text\" name=\"waw\" />\n<input type=\"submit\" />\n\n<?php \n$i=0;\n\nwhile ($i<$_POST['waw'])\n{\n?>\n</form>\n\n<form method=\"POST\" action=\"input.php\">\n<!-- Person #1 -->\n\n<input type=\"text\" name=\"username[]\" />\n\n<input type=\"text\" name=\"phonenum[]\" />\n\n<input type=\"text\" name=\"add[]\" />\n\n\n<?php \n$i++;\n}\n?>\n<input type=\"submit\" />\n</form>\n", "\n\n", "input.php", "\n\n", "<?php\n\n$username=\"maizakath\";\n$password=\"12345\";\n$database=\"tryinsert\";\nmysql_connect(localhost,$username,$password);\n@mysql_select_db($database) or die(\"<b>Unable to specified database</b>\");\n\n\n\n$sql_start = 'INSERT INTO `mytable` VALUES '; \n$sql_array = array(); \n$queue_num = $_POST['waw']; \nforeach ($_POST['username'] as $row=>$name)\n{\n$username = $name;\n$phonenum = $_POST['phonenum'][$row];\n$add = $_POST['add'][$row];\n$sql_array[] = '(' . $username . ', ' . $phonenum . ', ' . $add . ')'; \nif (count($sql_array) >= $queue_num)\n{ \nmysql_query($sql_start . implode(', ', $sql_array)); \n$sql_array = array(); \n}\n}\nif (count($sql_array) > 0) \n{\nmysql_query($sql_start . implode(', ', $sql_array))or die(mysql_error());\n} \n\n\n?>\n", "\n    "]], "Tag": "程序设计"}
{"Answer": "Mybatis内置的ExecutorType有3种，默认的是simple，该模式下它为每个语句的执行创建一个新的预处理语句，单条提交sql；而batch模式重复使用已经预处理的语句，并且批量执行所有更新语句，显然batch性能将更优。batch模式也有自己的问题，比如在Insert操作时，在事务没有提交之前，是没有办法获取到自增的id，这在某型情形下是不符合业务要求的；", "Konwledge_Point": "批量数据处理——数组", "Question": ["spring batch批量数据处理框架和mybatis自带的批量数据处理有啥不一样啊", ["spring batch批量数据处理框架和mybatis自带的批量数据处理有啥不一样啊"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;&lt;a id=\"textarea_1645491263807_1645491597945_0\" target=\"_blank\"&gt;&lt;span class=\"md_link_url\"&gt;axios中文文档|axios中文网 | axios&lt;/span&gt;&lt;/a&gt;&lt;br /&gt;axios的官网中paramsSerializer的配置是用来格式化参数的&amp;#xff0c;可以用这个配置项将参数配置成数组就可以了&amp;#xff0c;还有删除请求最好用delete&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt; &lt;span class=\"hljs-regexp\"&gt;//&lt;/span&gt; &amp;#96;paramsSerializer&amp;#96; 是一个负责 &amp;#96;params&amp;#96; 序列化的函数\n &lt;span class=\"hljs-regexp\"&gt;//&lt;/span&gt; (e.g. https:&lt;span class=\"hljs-regexp\"&gt;//&lt;/span&gt;www.npmjs.com&lt;span class=\"hljs-regexp\"&gt;/package/&lt;/span&gt;qs, http:&lt;span class=\"hljs-regexp\"&gt;//&lt;/span&gt;api.jquery.com&lt;span class=\"hljs-regexp\"&gt;/jquery.param/&lt;/span&gt;)\n paramsSerializer: &lt;span class=\"hljs-keyword\"&gt;function&lt;/span&gt;(params) {\n    return Qs.stringify(params, {arrayFormat: &lt;span class=\"hljs-string\"&gt;&amp;#39;brackets&amp;#39;&lt;/span&gt;})\n },\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["vue 怎么实现向后端传送数组删除多个数据。", ["打算通过获得多个文件名称 删除文件", "\n", "delefile 是多个文件名称组成的就是要传到后端数组 alert一下是这样的", "\n", "后端处理是这样写的", "\n", "然后接受不到参数报错", "\n", "\n", "请问该怎么改呢", "\n", "想通过传到后端的文件名数组删除文件"]], "Tag": "程序设计"}
{"Answer": "json转map\r\n```\r\n let strMap = new Map();\r\n        for (let k of Object.keys(obj)) {\r\n            strMap.set(k,obj[k]);\r\n        }\r\n return strMap;\r\n```\r\n或者在vue对象中定义一个数据对象，如下\r\n```\r\n data（） {\r\n      return {\r\n\t\t\t//定义对象\r\n        resultData: {\r\n          name: '',\r\n          age: '',\r\n          sex: '',\r\n          deleteURL: '/wechat/autoreply',\r\n        },\r\n\t\t\t//定义数组\r\n\t\t\tresultArray:[]\r\n      }\r\n},\r\n//接到的result可以直接对vue定义的变量赋值，例：\r\nthis.resultData=res.data.data\r\nthis.resultArray=res.data.data\r\n//根据后台传给你的数据在axios中进行赋值操作即可\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["vue怎样在页面上解析传过来的JSON格式的java对象或数组？", ["\n\n", "snapshop 是传过来的json对象或数组"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;You can not use .&lt;strong&gt;EDITED&lt;/strong&gt;\n&lt;code&gt;$stuID = $key\"studentID\";&lt;/code&gt; This should give error.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;foreach($values as $key=&amp;gt;$val) {\n      $sql_update = \"UPDATE students_db\n      set pass ='\". md5($val['pass']).\"'\n      where studentID =\". $val['studentID'].\"Limit 1\";\n      echo $sql_update;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;single quotes because md5 will return a value like &lt;code&gt;xvm456n334&lt;/code&gt; i.e. alpha numeric. &lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["使用多维数组更新MySQL数据库", ["\n\n", "My requirement is to encrypt a password and update the MySQL database in one go. ", "\n\n", "This is how I tried to do this. But was not successful.", "\n\n", "Is this a good approach?", "\n\n", "php:", "\n\n", "require_once(\"conn.php\"); //PDO\n//I've set all passwords in an array\n$values = array ( \n    array ( \"studentID\"  =>  \"SCI164\" , \"pass\" =>  \"ABCD12\"),\n    array ( \"studentID\"  =>  \"GEO24\" , \"pass\" =>  \"XYZ1\"),\n    array ( \"studentID\"  =>  \"SCI112\" , \"pass\" =>  \"PQR89\")\n)\nforeach ($values as $temp) {\n    foreach($temp as $key => $val){\n      $stuID = $key\"studentID\";\n      $rawPass = $key\"pass\";\n      $encPass = md5($rawPass);\n\n      $sql_update = \"UPDATE students_db\n      set pass = $encPass\n      where studentID = $stuID Limit 1\";\n    }\n}\n", "\n    "]], "Tag": "程序设计"}
{"Answer": "给个思路，你可以放在一个form表单里，每一个都加一个隐藏的input，且都加上readeronly= readeronly，同一排name相同，有readeronly属性，值就不会提交到后台，每排前面一个复选框，选中的话，通过jquery获取它父级同级的下一个元素的所有子集input元素http://www.cnblogs.com/Tally/archive/2013/01/04/2844042.html（可以随便自己写，只要找到同一行的所有input）帮他们去除readeronly= readeronly属性，这样后台就可以通过request.getParameterValues获取这一排的值了，因为同一排name相同。\r\n第二种可以在js里面拼接字符串，不过前面还是要通过js查找到同一排的所有隐藏的input。", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何用JavaScript批量提交多个数组?", ["我想实现的功能是,勾选,提交勾选的信息,难点是我需要提交多个数组到后台,怎么实现用JavaScript提交多个数组呢?"]], "Tag": "程序设计"}
{"Answer": "前端讲数据封装成数组，数组里的元素是json格式的。传到后台后，数据校验过后，可以直接以对象数组的形式，批量插入数据库。多条数据建议批量插入，执行销量要比一次次单条插入要高。", "Konwledge_Point": "批量数据处理——数组", "Question": ["前端向java后台批量传值，后台批量插入", ["前端如何向后台批量传值，后台如何批量插入到数据库？ 有小例子最好  万分感谢！！！"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;&lt;a href=\"http://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow\"&gt;&lt;strong&gt;Hash tables&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Start making a KVP (Key Value Pair) array of your mapping array with the key being whatever value you want to look up values for (in this case, &lt;code&gt;dept_number&lt;/code&gt;) and set the value of the array key to &lt;code&gt;DeptID&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$deptKVP = array();\nforeach ($deptMappings as $deptMapping) {\n    $deptKVP[$deptMapping['dept_number']] = $deptMapping['DeptID'];\n}\n\n/*\n    $deptKVP = [\n        18 =&amp;gt; 1300,\n        129 =&amp;gt; 1000,\n        101 =&amp;gt; 2400\n    ];\n*/\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And then simply iterate through your regular array:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;foreach ($array2 as &amp;amp;$subArray) {\n    $subArray['dept_number'] = $deptKVP[$subArray['dept_number']];\n}\nunset($subArray); //Unset the reference\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["使用PHP中另一个数组的值替换数组中的值", ["\n\n", "I have two arrays.\nArray 1 is a mapping between DeptID and dept_number:", "\n\n", "array(66) {\n[0] => array(2) {\n 'DeptID' → str•4 '1300'\n 'dept_number' → str•3 '18'\n}\n\n[1] => array(2) {\n 'DeptID' → str•4 '1000'\n 'dept_number' → str•3 '129'\n}\n\n[2] => array(2) {\n 'DeptID' → str•4 '2400'\n 'dept_number' → str•3 '101'\n}\n", "\n\n", "...and so on", "\n\n", "Array 2 has store records which include dept_number.  I want to replace the dept_number value with the DeptID value from Array 1.", "\n\n", "array(27) {\n[0] => array(11) {\n 'org_id' → str•2 '11'\n 'org_number' → str•2 '11'\n 'supplier_number' → str•4 '3806'\n 'supplier_name' → str•17 'TEST1'\n 'invoice_number' → str•8 'DXXX'\n 'receive_date' → str•10 '2013-09-11'\n 'inv_status' → str•7 'Pending'\n 'final_cost' → str•6 '317.30'\n 'final_qty' → str•5 '12.00'\n 'dept_number' → str•2 '18'\n 'dept_descr' → str•10 'BULK 1'\n}\n\n[1] => array(11) {\n 'org_id' → str•2 '11'\n 'org_number' → str•2 '11'\n 'supplier_number' → str•4 '1070'\n 'supplier_name' → str•24 'TEST2'\n 'invoice_number' → str•7 'DXXY'\n 'receive_date' → str•10 '2013-09-11'\n 'inv_status' → str•7 'Pending'\n 'final_cost' → str•6 '830.30'\n 'final_qty' → str•5 '26.00'\n 'dept_number' → str•2 '101'\n 'dept_descr' → str•10 'BULK 2'\n}\n", "\n\n", "...and so on", "\n\n", "How do I replace the dept_number in Array 2 with the DeptID from Array 1?", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;字符串比较好一些&amp;#xff0c;可以传逗号间隔的id 字符串 例如&amp;#xff1a;ids: &amp;#39;1ad12112sd1f,2sdf321s2df,36sef62164df,454e65f2s1df&amp;#39;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量删除前端传值给后端", ["前端vue，后端springboot。前端页面勾选若干条数据进行批量删除。应该穿什么值给后端呢？传数组后端用集合接收，传字符串后端拼接成集合，应该用哪种方式比较好呢？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你好&amp;#xff0c;可以这样写&amp;#xff0c;就不会出现不断显示的问题了&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;&lt;span class=\"hljs-built_in\"&gt;eval&lt;/span&gt;([&lt;span class=\"hljs-string\"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;,num2str(i),&lt;span class=\"hljs-string\"&gt;&amp;#39;&amp;#61;A_a;&amp;#39;&lt;/span&gt;) % 加一个分号\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;有帮助望采纳哟&amp;#xff0c;谢谢啦&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Matlab如何批量生成变量，同时批量将现存的三维数组赋值给他", ["三维数组是现存的，但是用类似eval(['a',num2str(i),'=A_a')时，就不停的在显示。", "其中A_a是三维矩阵。"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;可以的&amp;#xff0c;先提取出月薪这一列数据&amp;#xff0c;然后遍历这些数据&amp;#xff0c;使用replace&amp;#xff08;“万/月”&amp;#xff0c;“0000/月”&amp;#xff09;替换掉就行。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python数据处理如何批量修改列格式", ["用爬虫爬出了一堆数据，数据处理的时候，薪资这一列格式比较混乱 ", "\n基本是  1-2万/月。 部分是10-20万/年。还有200/天，", "\n\n", "\n要做数据分析的话需要统一成", "纯数字", "\n\n", "\n有无什么pandas可以把薪资这一列，带有", "万/月", "的行全部提取出来，然后统一调整格式", "\n具体做法是怎样呢？", "\n\n", " ", "\n\n", "有些数据错误的将其他无关的信息放在了薪资这一栏，会不会对数据分析产生影响，是否可以找到并删除？"]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;&lt;span class=\"hljs-symbol\"&gt;ids:&lt;/span&gt; ids.&lt;span class=\"hljs-keyword\"&gt;join&lt;/span&gt;(&lt;span class=\"hljs-comment\"&gt;&amp;#39;,&amp;#39;)&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["vue传参如何传一个数组过去", ["批量删除的时候需要传一个数组，以逗号的方式分割", "\n", "现在打印的是这种格式的", "\n", "\n", "但是一传参就变成这种了", "\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你在foreach上面打印一下selected 看看&lt;/p&gt;\n&lt;p&gt;建议用 map 循环 forEach 不会改变原数组&lt;br /&gt;打印v&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt; var v &lt;span class=\"hljs-operator\"&gt;&amp;#61;&lt;/span&gt; arr1.map(item &lt;span class=\"hljs-operator\"&gt;&amp;#61;&lt;/span&gt;&amp;gt; {\n      if (xxx) {\n         optionIndex &lt;span class=\"hljs-operator\"&gt;&amp;#61;&lt;/span&gt; index&lt;span class=\"hljs-comment\"&gt;;&lt;/span&gt;\n      }\n      return item&lt;span class=\"hljs-comment\"&gt;;&lt;/span&gt;\n   })&lt;span class=\"hljs-comment\"&gt;;&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["react-hook 中 useState值无法变更，数据始终为 空数组", ["\n  ", "let", " [selected, setSelected] = useState<", "any", ">(", "null", ")\n", "\n", "\n", "我使用了 selected 并且从子组件传递过来了一个 refDom 其中并且夹带着定义的实例方法，", "\n", "数据传递过来了，但是当我 push 到 selected 数据时，selected已经变更，但是setSelected([解构selected]) 一直都无法变更数据 这是因为什么？", "\n", "\n", "selected数据一直没有进行变更"]], "Tag": "程序设计"}
{"Answer": "```\r\n char path[1000];\r\nsprintf(path, \"h;|\\visual ... \\\\data\\\\%d\\\\p.txt\", j);\r\nifstream fin(path);\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["c++如何批量读取多个文件夹下的文件并且把它赋值到数组中去？", ["假如我有一列文件夹", "\n每个文件夹下面有一个txt文本", "\n现在我想把每个文件夹里面的txt文本内容都放到数组中一一对应相加。", "\n我的办法是这样的：由于文件夹名字是1 2 3 4 5", "\n我就用一个循环", "\n发现这个j并不能代表整数", "\n有什么其他办法吗"]], "Tag": "程序设计"}
{"Answer": "http://blog.csdn.net/u012398613/article/details/47811631", "Konwledge_Point": "批量数据处理——数组", "Question": ["求问如何使用互斥的办法实现同时批量对数组的多笔数据的同时操作？", ["求问如何使用互斥的办法实现同时批量对数组的多笔数据的同时操作？用什么编程语句可以实现互斥技术？"]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;if&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;(!empty(trim(&lt;span class=\"hljs-variable\"&gt;$sn&lt;/span&gt;[&lt;span class=\"hljs-variable\"&gt;$i&lt;/span&gt;])&lt;/span&gt;&lt;/span&gt;))\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["PHP批量插入数据时如何筛除空行不入库？", ["在将换行的数据批量入库的时候，空行也被入库了。在入库前加了筛选仍然无效。需要如何修改？", "如图，前台sn为换行的，使用explode分割批量入库，后台发现空行也入库了。", "\n", "<?php", "\n  ", "require", " ", "'../untils/functions.php'", ";\n  ", "$sn", " = ", "$_POST", "[", "'sn'", "];\n  ", "$model", " = ", "$_POST", "[", "'model'", "];\n  \n  ", "require", " ", "'../untils/connect_db.php'", ";\n  ", "$sn", "=explode(", "'\\n'", ",", "$sn", ");  ", "//前台换行的数据分割", "\n  ", "for", "(", "$i", "=", "0", ";", "$i", "<count(", "$sn", ");", "$i", "++)\n   ", "if", "(", "$sn", "[", "$i", "]!=", "\"\"", ")   ", "//判断是否为空，目前判断无效果。", "\n{\n      ", "$sql", " = ", "\"INSERT INTO products (sn, model,) VALUES ('", "$sn", "[", "$i", "]', '", "$model", "')\"", ";\n      ", "if", " (", "$conn", "->query(", "$sql", ") === ", "TRUE", ") {\n          href(", "'../add.php'", ");\n      }\n      ", "else", " {\n          ", "echo", " ", "\"Error: \"", " . ", "$sql", " . ", "\"<br>\"", " . ", "$conn", "->error;\n      }\n  }\n  \n", "?>", "\n \n\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;看你截图应该是数据格式不一致吧,这段这样写试试&amp;#xff1f;将数组处理成list格式&lt;/p&gt;\n\n&lt;pre&gt;\n&lt;code class=\"language-javascript\"&gt;// 从缓存获取数据\n\t\tvar type_class &amp;#61; uni.getStorageSync(&amp;#39;fenlei&amp;#39;)[option.type_index].type_extend.class.split(&amp;#34;,&amp;#34;);\t\t\n\t\tthis.type_class &amp;#61; type_class.map(item&amp;#61;&amp;gt;{\n            return {cate_name:item}\n        });\n\t\tconsole.log(type_class)&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt; &lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["uni-app赋值接收数据", ["大佬们  本人小白一个。在学uniapp在用uview里面tabs插件不知道怎么传值了。希望大佬提拔", "\n\n", "\n", "\t\t// 从缓存获取数据\n\t\tvar type_class = uni.getStorageSync('fenlei')[option.type_index].type_extend.class.split(\",\");\t\t\n\t\tthis.type_class = type_class;\n\t\tconsole.log(type_class)", "\n\n", "取到了下面的数组。不知道该如何传进list数组里面", "\n\n", "组件的文档", "https://www.uviewui.com/components/tabs.html", "\n\n", "\n\n"]], "Tag": "程序设计"}
{"Answer": "可以先找到不为0的位置，下标-1，直接从前往后复制数组", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量将数组中的数据向前移动，把前面空0的位置补齐，应该怎么用VB实现？", ["批量将数组中的数据向前移动，把前面空0的位置补齐，应该怎么用VB实现？"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Original link&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://stackoverflow.com/questions/2352926/unset-range-of-keys-in-an-array\"&gt;unset range of keys in an array&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;You can try &lt;a href=\"http://www.php.net/manual/en/function.array-slice.php\" rel=\"nofollow noreferrer\"&gt;array_slice&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$return = array_slice($original, 0, 60)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;then&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$return = $return+array_slice($original, 70)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"http://www.php.net/manual/en/function.array-splice.php\" rel=\"nofollow noreferrer\"&gt;array_splice&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$return = array_splice($original, 60, 10)\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何在PHP中大量取消数组元素？  [重复]", ["\n\n", "\n  ", "Possible Duplicate:", "unset range of keys in an array", "  ", "\n", "\n\n\n\n", "I have an array $test, it contains 1000s of element with random key between 1 and 10000,\nI want to unset array elements of particular key range. eg  i wanna unset elements if the key value between 500 and 600.\nNow i am using ", "foreach", " loop to do this. Any other php shortcut to do this?", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;try like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt; $data = array(\n    'word1'=&amp;gt;'Šššš',\n    'word2'=&amp;gt;'Zzzzžzzž',\n    'word3'=&amp;gt;'Āāāa'\n);\n\n$search  = array('Ā', 'ā', 'Š', 'š', 'Ž', 'ž');\n$replace = array('A', 'a', 'S', 's', 'Ž', 'ž');\n$data2 = array();\nforeach($data as $k =&amp;gt;$v){\n    $data2[$k] = str_replace($search, $replace, $data[$k]);\n}\nprint_r($data2);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;you can change the line inside foreach by this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$data2[$k] = str_replace($search, $replace, $v);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;kbd&gt;&lt;a href=\"https://eval.in/148154\" rel=\"nofollow\"&gt;demo&lt;/a&gt;&lt;/kbd&gt;&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["用str_replace函数替换数组中的数据", ["\n\n", "i have an array named ", "$data", "\n\n", "$data = array(\n                    'word1'=>'Šššš',\n                    'word2'=>'Zzzzžzzž',\n                    'word3'=>'Āāāa'\n                    );\n", "\n\n", "what i want to do is to create new array with the same keys but with different values, so my new array would look like this:  ", "\n\n", "$newdata = array(\n                    'word1'=>'Ssss',\n                    'word2'=>'Zzzzzzzz',\n                    'word3'=>'Aaaa'\n                    ); \n", "\n\n", "all i want to do is to replace letters with diacritical mark  to normal letter, i have searched for php  functions and i have understood that i could use ", "str_replace", " function like this:   ", "\n\n", "$search  = array('Ā', 'ā', 'Š', 'š', 'Ž', 'ž');\n$replace = array('A', 'a', 'S', 's', 'Ž', ž);\nstr_replace($search, $replace, $data);\n", "\n\n", "but how can i ", "loop", " through ", "array", " checking and replacing values without touching ", "keys", "?\nor i cannot do that?(all data have to be be checked)", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;I might be missing the point - but cant you just do:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$_SESSION['cart_items'][0]['copy'] = $_POST['copy'];\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["用于将子数组添加到多维数组的PHP函数", ["\n\n", "I am having trouble finding the right function for this.", "\n\n", "I have a session array ", "\n\n", "$_SESSION['cart_items'][0] = (\n'item_name'=>'some name',\n'item_price'=>'29.99',\n...\n)\n", "\n\n", "I need to append another array that has a specific key. The array is from a $_POST object.", "\n\n", "$_POST['copy'] = array (\n'name'=>'my name',\n'office'=>'my office'\n)\n", "\n\n", "Appended session to look like this.", "\n\n", "$_SESSION['cart_items'][0] = (\n'item_name'=>'some name',\n'item_price'=>'29.99',\n...\n'copy'=>array(\n    'name'=>'my name',\n    'office'=>'my office'\n    )\n)\n", "\n\n", "I tried array push but this gives me an indexed key for the appended array instead of 'copy'", "\n\n", "I know the index of the parent array so i could create the new sub array and then loop the $_POST into it but that doesn't seem right either.", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;一般这种工具都会提供自定义sql执行的,比如&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-js\"&gt;&lt;span class=\"hljs-attribute\"&gt;const&lt;/span&gt; results &amp;#61; yield app.mysql.query(&amp;#39;update posts set status &amp;#61; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; where id in (&lt;span class=\"hljs-number\"&gt;4&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;5&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;6&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;7&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;8&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;9&lt;/span&gt;)&amp;#39;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;参考官方文档&lt;br /&gt;&lt;a href=\"https://www.npmjs.com/package/egg-mysql\" id=\"textarea_1646232155355_1646232529573_0\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;&lt;div class=\"md_link_card\"&gt;\n      \n        &lt;span class=\"md_link_title\"&gt;&lt;/span&gt;\n        \n      &lt;span class=\"md_link_desc\" style=\"margin: 0px 0 2px\"&gt;&lt;/span&gt;\n      &lt;span class=\"md_flex_card\"&gt;\n      &lt;span class=\"md_link_img icon iconfont icon-lianjie\"&gt;&lt;/span&gt;\n        &lt;span class=\"flex-1\"&gt;\n          &lt;span class=\"md_link_url\"&gt;https://www.npmjs.com/package/egg-mysql&lt;/span&gt;\n        &lt;/span&gt;\n      &lt;/span&gt;&lt;/div&gt;&lt;/a&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["egg-mysql怎么批量操作数据", ["例如批量删除数据(根据id),批量新增数据,批量编辑数据. (在官网没有发现相关文档说明)"]], "Tag": "程序设计"}
{"Answer": "如果在同一个页面中操作，没什么捷径。\r\n\r\n如果可以修改设计，我建议用wizard方式，也就是说，一页只有一行数据填写、提交，然后用户按下一步或者上一步进行控制，你把这些保存在session中的Object里面，直至最后一步，用户按“入库”，再Object统一入库。", "Konwledge_Point": "批量数据处理——数组", "Question": ["求java实现对数据批量处理", ["[b]求java实现对数据批量处理[/b]", "\n主要是针对用户录入多条数，最后点击保存，再把数数录入到数据库", "\n\n", "[b]问题补充：[/b]", "\n是不固定行", "\n[b]问题补充：[/b]", "\n有什么捷径，我现在急需"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Don't think so.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$arr = array_map(function ($val) use ($user_id) {\n    if (empty($val['user_id'])) {\n        $val['user_id'] = $user_id;\n    }\n\n    return $val;\n}, $arr);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I am of course assuming you have PHP 5.3+&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["搜索并替换数组php中的键的值", ["\n\n", "I have array like this:", "\n\n", "array(\n    [0] => Array\n    (\n        [q_id] => 314\n        [answer_type] => RI\n        [answer] => 3438\n        [user_id] => \n    )\n\n[1] => Array\n    (\n        [q_id] => 286\n        [answer_type] => NM\n        [answer] => 5\n        [user_id] => \n    )\n\n[2] => Array\n    (\n        [q_id] => 207\n        [answer_type] => SS\n        [answer] => 1\n        [user_id] => 1\n    )\n )\n", "\n\n", "Its expected to have same user_id for all questions that have value for user_id or empty.\nI want to replace empty user_ids with the existing user_id.", "\n\n", "Any better ways to do it other than looping / array_walk?", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;可以打印pStepItemRels对象&amp;#xff0c;看看记录数是否一致&amp;#xff1b;&lt;br /&gt;或者看看insertBatch方法里面的代码。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["遍历集合后，执行批量插入，但是插入的数据会重复（多插一遍）", ["问题遇到的现象和发生背景", "\n", "遍历集合后，执行批量插入，但是插入的数据会重复（多插一遍", "\n", "问题相关代码，请勿粘贴截图", "\n", "\nList<sumbmiteVO> list1= pWorkOrderService.selectstepitem(sub);\n           ", "if", "(null", " == ", "list1", " || ", "list1.size", "()", " ==", "0", " ){\n               throw ", "new", " ", "RuntimeException(", "\"没有查到项点信息，无法插入！\"", ")", ";\n           }\n          List<PStepItemRel> pStepItemRels =", "new", " ArrayList<>", "()", ";\n          ", "for", " (sumbmiteVO item : list1){\n              String uuid = ", "IdentityGenerator", ".", "get", "Uuid()", ";\n              PStepItemRel pStepItemRel =", "new", " ", "PStepItemRel()", ";\n              pStepItemRel.set", "Id(", "uuid", ")", ";\n              pStepItemRel.set", "BindType(", "item", ".", "getBindType", "()", ");\n              pStepItemRels.add(pStepItemRel);\n          }\n           pStepItemRelService.insert", "Batch(", "pStepItemRels", ")", ";\n\n", "\n", "运行结果及报错内容", "\n", "没有报错", "\n", "我的解答思路和尝试过的方法", "\n", "debug看的话  集合size是2   后台日志 update也是2 ", "\n", "我想要达到的结果"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;1、&lt;br /&gt;ODBC中CACHE_INSERT_VALUES &amp;#61; 1 开启ODBC insert values攒批模式&lt;br /&gt;可以设置LOG_QUERY &amp;#61; 1 观察ODBC安装目录下gsodbc.sql日志中是否已将insert values进行攒批&lt;/p&gt;\n&lt;p&gt;[gbase_odbc_crmods]&lt;br /&gt;Driver &amp;#61; /home/infa/Informatica/9.6.1/ODBC7.1/lib/libgsodbc8.so&lt;br /&gt;DATABASE &amp;#61; crmods&lt;br /&gt;DESCRIPTION&amp;#61;MPP_8a&lt;br /&gt;Server&amp;#61;10.133.232.68,10.133.232.69,10.133.232.70&lt;br /&gt;Port&amp;#61;5258&lt;br /&gt;User&amp;#61;gbase&lt;br /&gt;Password&amp;#61;gbase20110531&lt;br /&gt;Charset&amp;#61;gbk&lt;br /&gt;Socket&amp;#61;&lt;br /&gt;DriverUnicodeType&amp;#61;1&lt;br /&gt;UsageCount&amp;#61;1&lt;br /&gt;DontDLClose&amp;#61;1&lt;br /&gt;Threading&amp;#61;0&lt;br /&gt;CONNECTION_BALANCE &amp;#61; 1&lt;br /&gt;CACHE_INSERT_VALUES &amp;#61; 1&lt;br /&gt;LOG_QUERY &amp;#61; 1&lt;br /&gt;INITSTMT&amp;#61;set sql_mode&amp;#61;&amp;#39;PIPES_AS_CONCAT,ANSI_QUOTES,IGNORE_SPACE,ONLY_FULL_GROUP_BY,NO_AUTO_VALUE_ON_ZERO,NO_ZERO_IN_DATE,NO_ZERO_DATE,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION,PAD_CHAR_TO_FULL_LENGTH&amp;#39;&lt;/p&gt;\n&lt;p&gt;2、&lt;br /&gt;采用insert .... values (),(),(),().... 方式提交insert语句、&lt;br /&gt;通过jdbc接口的rewriteBatchedStatements参数设置&amp;#xff0c;在jdbc接口层进行insert values的攒批。&lt;br /&gt;该方法在jdbc层对单条的insert values进行自动攒批&amp;#xff0c;拼装成insert values(),(),()...的形式下发sql。&lt;br /&gt;具体接口使用方法例程如下&amp;#xff1a;&lt;br /&gt;String URL &amp;#61; “jdbc:gbase://192.168.103.144:5258/test? rewriteBatchedStatements&amp;#61;true”;&lt;br /&gt;...&lt;br /&gt;String sql &amp;#61; “insert into t1 (id, name) values(?,?)”;&lt;/p&gt;\n&lt;p&gt;Connection conn &amp;#61; DriverManager.getConnection(URL,”testuser”,”testuserpasswd”);&lt;br /&gt;PreparedStatement stm &amp;#61; conn.prepareStatement(sql);&lt;br /&gt;for (int i&amp;#61;0; i&amp;lt;10000; i&amp;#43;&amp;#43;) {&lt;!-- --&gt;&lt;br /&gt;&lt;span style=\"display:inline-block;text-indent:2em;\"&gt;       stm.setString(1, ...);&lt;/span&gt;&lt;br /&gt;&lt;span style=\"display:inline-block;text-indent:2em;\"&gt;       stm.setString(2, ...);&lt;/span&gt;&lt;br /&gt;&lt;span style=\"display:inline-block;text-indent:2em;\"&gt;       stm.addBatch();&lt;/span&gt;&lt;br /&gt;}&lt;/p&gt;\n&lt;p&gt;stm.executeBatch();&lt;/p&gt;\n&lt;p&gt;以上方法适用于应用开发将单条插入转成insert values&amp;#xff0c;需要程序中使用prepareStatement和executeBatch方式执行插入&amp;#xff0c;并调整jdbc连接参数rewriteBatchedStatement&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["GBase 8a MPP的接口（ODBC、JDBC）如何实现批量的insert 提交？", ["程序开发中，对于insert into values语句，如何使用批量提交来提升insert 性能？", "ODBC的批量提交有哪些参数，数据源如何配置？", "JDBC的批量提交有哪些参数，关键代码如何写？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;把替换的语句换成&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-sql\"&gt;replace(字段B, &lt;span class=\"hljs-string\"&gt;&amp;#39;&amp;#34;&lt;/span&gt;skuName&lt;span class=\"hljs-string\"&gt;&amp;#34;: &amp;#34;&lt;/span&gt;测试名称&lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;&lt;span class=\"hljs-string\"&gt;&amp;#34;&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;&amp;#34;&lt;/span&gt;skuName&lt;span class=\"hljs-string\"&gt;&amp;#34;: &amp;#34;&lt;/span&gt;正式名称&lt;span class=\"hljs-string\"&gt;&amp;#34;&amp;#39;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql更新数组形式的json串", ["表A中有一字段B存储的是数组形式的json串，如：", "[", "    {", "        \"id\":20190926000000213,", "        \"skuCode\":\"11108893\",", "        \"skuName\":\"测试名称1\"", "    },", "    {", "        \"id\":20190926000000214,", "        \"skuCode\":\"11108892\",", "        \"skuName\":\"测试名称2\"", "    }", "]", "现需要批量更新skuCode=11108892对应的skuName", "已知可以写sql如下：", "update 表名称 set 字段B=replace(字段B,'测试名称2','正式名称')", "where json_contains(字段B ,json_object('skuCode','11108892'))", "\n", "上述sql可以查询出skucode包含11109982的数据并替换测试名称2为正式名称。", "但是若存在数据如下：", "\n", "[", "    {", "        \"id\":20190926000000213,", "        \"skuCode\":\"11108888\",", "        \"skuName\":\"测试名称21\"", "    },", "    {", "        \"id\":20190926000000214,", "        \"skuCode\":\"11108892\",", "        \"skuName\":\"测试名称2\"", "    }", "]", "则skucode为11108888的，name也会被替换，变成正式名称1。", "不知道有没有什么别的方案"]], "Tag": "程序设计"}
{"Answer": "可以在前台拼成json对象传到后台，struts可以自动将其解析成相应的数组对像~", "Konwledge_Point": "批量数据处理——数组", "Question": ["求指教在Struts2下处理批量数据", ["今天的面试被问道    当前台页面需要批量提交数据的话   action里面应该怎么写  service层该做什么工作来处理批量数据.... ", "他的意思好像是 比如说在前台Table中  有30行tr 每个tr里面都需要输入用户信息 ", "也就是说需要一下子录入30条user的信息   怎么在action中得到这30个user对象... ", "小弟求指教", "问题补充", "明白啦  小弟学习了", "问题补充", "斐斐宝贝 写道", "页面上可以加变量，比如：<input name=\"user[${n}]\" value=\"${user}\"/>,使用jquery的通配", "$(\"input[name^=user]\").change(){", "var n=x;//拿到总条数", "for(var i=0;... )", "{", " str+=$(\"input[name='user[\"+i+\"]']\").val()+\",\";", "}", "}", "document.forms[0].action=\"../x.action?str+\"+str;", "ocument.forms[0].submit();", "到action以后，用数组接收List<Users> list=str.split(',');", "这样就可以搞定了。", "/x.action?str+\"+str;  ", "这位兄弟没有考虑str的长度啊  需求是批量啊  str很容易超过255吧"]], "Tag": "程序设计"}
{"Answer": "ArrayList[] lists = new ArrayList[10];\r\nfor (int i = 0; i &lt; 10; i++)\r\nlists[i] = new ArrayList();", "Konwledge_Point": "批量数据处理——数组", "Question": ["C#里面如何创建很多同类型的数组", ["我是像下面一样弄得，如何简化呀大佬们，嘤嘤嘤", "\n             //ArrayList alist2 = new ArrayList();", "\n            //ArrayList alist3 = new ArrayList();", "\n            //ArrayList alist4 = new ArrayList();", "\n            //ArrayList alist5 = new ArrayList();", "\n            //ArrayList alist6 = new ArrayList();", "\n            //ArrayList alist7 = new ArrayList();", "\n            //ArrayList alist8 = new ArrayList();", "\n            //ArrayList alist9 = new ArrayList();", "\n            //ArrayList alist10 = new ArrayList();"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;you can use array_merge.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;?php\n\n   $array1 = array(\"a12\",\"a12\",\"a13\");\n   $array2 = array(\"a21\",\"a22\",\"a23\");\n   $array3 = array(\"a31\",\"a32\",\"a33\");\n\n   $finalArray = array_merge($array1,$array2,$array3);              \n   foreach( $finalArray as $key =&amp;gt; $value ){\n       echo $key.\"=&amp;gt;\".$value.\"&amp;lt;br&amp;gt;\";\n   } \n\n?&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can create another property called \"allAtributes\" .\nWhen you finalize to fill your 3 arrays you can call to another method of class than make the merge between 3 array.&lt;/p&gt;\n\n&lt;p&gt;The finally you will have got like this :&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;allAtributes (array)=&amp;gt;{ \n        [\"cdr\"](array)=&amp;gt; {\n            ['cdrkey1'] = cdrAtt1 ,\n            ['cdrKey2'] = cdrAtt2 ...\n        },\n        [\"customer\"](array)=&amp;gt; {\n            ['customerkey1'] = customerAtt1 ,\n            ['customerKey2'] = customerAtt2 ...\n        },\n        [\"phoneNumber\"](array)=&amp;gt; {\n            ['phoneNumberkey1'] = phoneNumberAtt1 ,\n            ['phoneNumberKey2'] = phoneNumberAtt2 ...\n        } \n}\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["在php中格式化数组（3合1）", ["\n\n", "So currently I have an array that pulls data based on an attribute and it puts the data in its own seperate array. What I need to do is to put these 3 arrays into one, so if one of them is null, it won't give me errors. It should be fairly simply but I can't wrap my head around it.", "\n\n", " //CV eqpValue\n if (is_array(FullDataResponse->dlr->DesignLayoutRecord)) {\n    foreach(FullDataResponse->dlr->DesignLayoutRecord as $DesignLayoutRecord_key => $DesignLayoutRecord_value ) {\n            if ($DesignLayoutRecord_value->cktEqpOptions->CktEqpOptions && is_array($DesignLayoutRecord_value->cktEqpOptions->CktEqpOptions)) {\n                    foreach ($DesignLayoutRecord_value->cktEqpOptions->CktEqpOptions as $cv_obj)\n                           {\n                                if($cv_obj->attribute === 'CDR')\n                                        {\n                                             $this->cvCDRList[] = array(\"cdr\" => $cv_obj->eqpValue);\n                                        }\n\n                                if($cv_obj->attribute === 'CUSTOMER')\n                                        {\n                                             $this->cvCustomerList[] = array(\"customer\" => $cv_obj->eqpValue);\n                                        }\n\n                            if($cv_obj->attribute === 'LEASE LINE')\n                                        {\n                                             $this->cvphoneList[] = array(\"phoneNumber\" => $cv_obj->eqpValue);\n                                        }  \n                                       }\n                                    }\n                              }\n                             }\n", "\n\n", "See how they are currently put into separate arrays like cvCDRList, cvCustomerList, and cvphoneList? How would I put them into a single array? Thanks!!", "\n    "]], "Tag": "程序设计"}
{"Answer": "有两个 arraylists 申明 keys,和 values:\r\n\r\n    String jsonString = writer.toString();\r\n            JSONObject jsonObj = new JSONObject(jsonString); \r\n             currenciesTypes = jsonObj.get(CurrenciesKey);\r\n            ArrayList&lt;String&gt; keys=new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n            Iterator&lt;String&gt; iterator=currencyType.keys();\r\n            while(iterator.hasNext())\r\n            {\r\n                  String key=iterator.next();\r\n                  keys.add(key);\r\n                  values.add(currencyType.get(key));\r\n            }", "Konwledge_Point": "批量数据处理——数组", "Question": ["使用Json对象文件创建数组列表", ["检查下面的代码：", "\n\n", "String jsonString = writer.toString();\n        JSONObject jsonObj = new JSONObject(jsonString); \n        defaultCurrencyValue = jsonObj.getString(DefaultCurrencyKey);\n        currenciesTypes = jsonObj.get(CurrenciesKey);\n", "\n\n", "当我使用 Debugger，获取 curenciesType 对象类变量中的值", "\n\n", "currenciesTypes JSONObject  (id=830084916104)   \n    myHashMap   HashMap  (id=830084916120)  \n        [0] HashMap$HashMapEntry  (id=830084916440) \n            key \"PKR\" (id=830084916256) \n            value   \"Rs\" (id=830084916368)  \n        [1] HashMap$HashMapEntry  (id=830084917208) \n            key \"EUR\" (id=830084917064) \n            value   \"€\" (id=830084917176)   \n        [2] HashMap$HashMapEntry  (id=830084916696) \n        [3] HashMap$HashMapEntry  (id=830084916952) \n", "\n\n", "如何在两个数组列表中保存 key 和它的值？"]], "Tag": "程序设计"}
{"Answer": "for(var i=0;i&lt;json.length;i++){\r\njson[i].day =json[i].day.split(\" \")[0]; \r\n};  //一层层取就行了。", "Konwledge_Point": "批量数据处理——数组", "Question": ["js 怎么改数组里每条对像的属性值？", ["如下：", "\n\n", "只留下日期，时间去掉", "\n\n", "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n</head>\n<body>\n\n  <script>\n                var json = [\n                        {\n                            day: '2018-12-26 14:31:55'\n                        },\n                        {\n                            day: '2018-12-27 14:31:55'\n                        },\n                        {\n                            day: '2018-12-28 14:31:55'\n                        },\n                        {\n                            day: '2019-12-29 14:31:55'\n                        }\n                    ];\n\n\n                var dates = JSON.parse(JSON.stringify(json).replace(/day/g,\"date\"));\n                console.log(dates);\n                let date = [];\n                for(let i in dates){\n                    console.log(dates[i].date);\n                }\n  </script>\n</body>\n</html>\n"]], "Tag": "程序设计"}
{"Answer": "好吧，自己来回答下吧，用了个取巧的方法解决了\r\n &lt;if test='contractIdList != null'&gt;\r\n                &lt;if test=\"contractIdList.size() == 0\"&gt;\r\n                    AND a.contract_id = '0'\r\n                &lt;/if&gt;\r\n                &lt;if test=\"contractIdList.size() != 0\"&gt;\r\n                    AND a.contract_id  IN\r\n                    &lt;foreach item=\"item\" index=\"index\" collection=\"contractIdList\" open=\"(\" separator=\",\" close=\")\"&gt;\r\n                        #{item}\r\n                    &lt;/foreach&gt;\r\n                &lt;/if&gt;\r\n\r\n            &lt;/if&gt;\r\n\t\t\t\t\t\t先判断list长度是否为空，如果长度不为零则正常进行foreach的循环in查询，如果长度为零则设置查询一个不会出现的值，我这里设置为了一个字符串的‘0’，这样分不同情况进行不同的操作", "Konwledge_Point": "批量数据处理——数组", "Question": ["mybatis如何实现参数为list且长度为0时不报错", []], "Tag": "程序设计"}
{"Answer": "https://blog.csdn.net/qq_18483301/article/details/87882697", "Konwledge_Point": "批量数据处理——数组", "Question": ["redis如何批量修改数据", ["数据库里每个用户有一个毫秒值时间戳类型的数值  现在要将这个数值同步到redis上面  在redis里面进行修改  获取 ：", "\n类似于  user_id:00000  time:172,800,000‬", "\n但是要每秒钟在redis上把所有用户的这个time减少1000  请问我如何存储这两个值  并且如何批量把所有数据都减少1000"]], "Tag": "程序设计"}
{"Answer": "public String staffDel() throws IOException{\r\n\t\tString pid = Param.get(\"pid\");\r\n\t\tpid = pid.replace(\",\", \"','\");\r\n\t\ttry {\r\n\t\t\tString hql = \"delete BsStaff where staffNo in ('\"+pid+\"')\";\r\n\t\t\tbsStaffService.hqlExecuteUpdate(hql, null);\r\n\t\t\tlog.warn(\"操作员：\"+Param.getUserStaffName()+\"\\t删除了员工staffNo为:\" + pid);\r\n\t\t\treturn staffList();\r\n\t\t} catch (Exception e) {\r\n\t\t\tPrintWriter out = ServletActionContext.getResponse().getWriter();\r\n\t\t\tout.println(\"&lt;script&gt;\");\r\n\t\t\tout.println(\"alert('删除失败，此记录已被其他信息引用！');location='\"+Param.getAction(\"staff!staffList.action\")+\"'\");\r\n\t\t\tout.println(\"&lt;/script&gt;\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}", "Konwledge_Point": "批量数据处理——数组", "Question": ["SSH批量删除数据！", ["请问下各位，你们在用SSH批量删除数据是怎么样优化的？谢谢"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;用where 批量update呀。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["sql数据库怎么批量修改数据呢？", ["有一批编码和名称，需要在名称后面添加后缀，怎么以编码为准修改sql中的数据呢？"]], "Tag": "程序设计"}
{"Answer": "1.创立一个元胞数组，把这些v矩阵全部放进去，\r\nW1={};\r\nfor i1=1:360\r\n    W1{i1}=eval(['vl',num2str(i1)]);\r\nend\r\n2.把W1里的每个矩阵里的第一个元素提取出来\r\nfor j1=1:360\r\n    p1=W1{1,j1};\r\n    s1(j1)=p1(1,1);\r\nend\r\n3.s1现在是1×360的矩阵，把它转置一下，就可以了\r\ns1=s1'\r\n\r\n因为sub2ind函数里不能有零（没有第0行，第0列），所以要从1开始，即v0不存在，要从v1开始\r\n\r\n\r\n\r\n哈，算是自己解决了", "Konwledge_Point": "批量数据处理——数组", "Question": ["怎样用matlab批量处理工作区的v0~v360矩阵", ["我在matlab工作区得到了361个1×2矩阵，已经命名好为v0~v360。", "\n例 v0[118 106];v1[123 105];v3[121 106]~~~", "\n现在我想把这些1×2矩阵的第一个元素都放到i中，（i是361×1）；", "\n把这些矩阵的第二个元素都放到j中（j也是361×1），之所以它俩", "\n都是361×1，是因为我想用sub2ind函数，求大佬指点"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;My own attempt ; found it simpler by not doing it recursively, finally.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function magicFunction($arrayIndexes, $arrayData)\n{\n    if (!is_array($arrayData))\n        throw new Exception(\"Parameter 'arrayData' should be an array\");\n\n    if (!is_array($arrayIndexes))\n        throw new Exception(\"Parameter 'arrayIndexes' should be an array\");\n\n    foreach($arrayIndexes as $index)\n    {\n        if (!isset($arrayData[$index]))\n            throw new Exception(\"Could not find value in multidimensional array with indexes '\".implode(', ', $arrayIndexes).\"'\");\n\n        $arrayData = $arrayData[$index];\n    }\n\n    return $arrayData;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Exceptions may be somewhat \"violent\" here, but at least you can know exactly what's going on when necessary.&lt;/p&gt;\n\n&lt;p&gt;Maybe, for sensitive hearts, a third &lt;code&gt;$defaultValue&lt;/code&gt; optional parameter could allow to provide a fallback value if one of the indexes isn't found.&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["从索引列表中获取多维数组的值（数组也是如此）", ["\n\n", "I'm looking for a nice way of doing the ", "magicFunction()", ":", "\n\n", "$indexes = array(1, 3, 0);\n\n$multiDimensionalArray = array(\n  '0',\n  array('1-0','1-1','1-2',array('2-0','2-1','2-2')),\n  array('1-4','1-5','1-6')\n);\n\n$result = magicFunction($indexes, $multiDimensionalArray);\n\n// $result == '2-0', like if we did $result = $multiDimensionalArray[1][3][0];\n", "\n\n", "Thanks.", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;You can not (at least in this example) read and write to the same file at the same time.\nTry this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$fileRead = fopen('IMPORT_193', 'r');\n$tempFile = tempnam(sys_get_temp_dir(), 'CSVIMPORT');\n$fileWrite = fopen($tempFile, 'w');\nwhile(!feof($fileRead)) {\n  $data = fgetcsv($fileRead);\n  foreach($data as $key=&amp;gt;$value) {\n    if(!is_numeric($value)) {\n      $data[$key] = '\"'.$value.'\"';\n    }\n  }\n  fputcsv($fileWrite, $data);\n}\nfclose($fileRead);\nfclose($fileWrite);\nrename($tempFile, 'IMPORT_193');\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This should do the trick. I have not tested this. And you need to have permissions to overwrite the IMPORT_193 file.&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何使用php将数组写为csv文件内容？", ["\n\n", "I am importing a CSV file into my site which contain Hebrew language.While opening the CSV file in the notepad, the Hebrew language content are not enclosed by the quotes. The content which is not in quotes are not read in my site.\nDuring the time of uploading this csv file is moved into another file.To enclose the Hebrew content with double quotes I tried the following code,but the file is not upldated.", "\n\n", "$fileHandler = fopen('IMPORT_193', 'rw');\n        while (($buffer = fgets($fileHandler))) \n        {\n        $v=explode(',',$buffer);\n\n        for($i=0;$i<count($v);$i++)\n        {\n\n            $val=trim($v[$i],'\"');\n            $v1[]= '\"'.$val.'\"';\n\n        }\n\n        fputcsv($fileHandler, $v1);\n        }\n", "\n\n", "I want to update the current content in the file with the new values with quotes as CSV . Is there any way to enclose the CSV content in a file with quotes?Waiting for your reply!", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;一行代码即可完成&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-xml\"&gt;&lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;&amp;#39;&lt;/span&gt;.join([&lt;span class=\"hljs-string\"&gt;f&amp;#39;&lt;span class=\"hljs-subst\"&gt;{i}&lt;/span&gt;&lt;span class=\"hljs-subst\"&gt;{s.count(i)}&lt;/span&gt;&amp;#39;&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; i &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; [&lt;span class=\"hljs-built_in\"&gt;chr&lt;/span&gt;(i) &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; i &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;range&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;97&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;123&lt;/span&gt;)] &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; s.count(i)&amp;gt;&lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;]))\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Python的数据类型——集合", ["任意输入一串纯字母字符串，可以输出字母及数量的另一个字符串，", "例如：输入：s=aaabbcdddddeeffg", "     输出：m=a3b2c1d5e2f2g1", "可以用列表、字符串、集合等方法。", "提示：若需批量命名变量，可用如下方法。", "for i in range(10):", "    exec (\"temp%s=1\"%i)"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;是Excel文件吗&amp;#xff0c;python可以实现&amp;#xff0c;需要给我看一下文件里数据的格式&amp;#xff0c;截个图就可以&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["r语言数据批量处理问题", ["如何作用r语言批量将1-147文件里的，第255列数据的第1-50的数据之和与54-65行的数据之和相除，最后将所有结果导入一个表格中。谢谢！开始尝试过for循环，但是不知道连接循环和255列数据的计算", "或者能不能用python做出来。谢谢！"]], "Tag": "程序设计"}
{"Answer": "你要是批准和反对都要处理，那么就把所有的值拿到，然后遍历一下把批准的拼一个字符串，把反对的拼一个字符串，然后分别去操作，就是在你具体的sql上in一下就行", "Konwledge_Point": "批量数据处理——数组", "Question": ["操作时，怎么进行批量处理？", ["如果前面加复选框，全选时有可能把反对的也选中，这样的话不符合要求，就更改了原来的状态了，那么应该怎么批量处理呢？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img align=\"left\" alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/231639569646146.png\" class=\"md_img\" /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["为什么JDBC批量处理无效呀", ["\n", "\n", "用addBatch和不用，运行时间都一样，关闭事务自动提交也都一样，为什么会这样呀", "MySQL和驱动都是8.0，而且配置文件也有改配置，在这里卡两天了都😭", "\n"]], "Tag": "程序设计"}
{"Answer": "@PersistenceContext  \r\n\tprivate EntityManager em;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Spring data Jpa批量更新操作", ["注释掉的方法，速度太慢6000条要四五分钟，没注释掉的方法出现空指针异常，不知道怎么解决。。。。。求大神", "\n异常：", "\n\n", " Exception in thread \"main\" java.lang.NullPointerException\n    at service.UserServiceImpl.updateUser(UserServiceImpl.java:45)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at $Proxy23.updateUser(Unknown Source)\n    at test.Login.update(Login.java:49)\n    at test.Login.main(Login.java:26)\n", "\n\n", "login.java", "\n\n", "    public static void  update(UserService userService) throws UserNotFound\n    {\n//      \n//      for(int i=497;i<6497;i++)\n//      {\n//          User u=new User();\n//          u.setId(i);\n//          u.setName(\"ds\");\n//          userService.updateUser(u);\n//      }\n\n        List<User> user=new ArrayList<User>();\n        for(int i=497;i<6497;i++)\n        {\n            User u=new User();\n            u.setId(i);\n            u.setName(\"d\");\n            user.add(u);\n        }\n        userService.updateUser(user);\n\n    }\n\n\n", "\n\n", "UserServiceImpl", "\n\n", "    @Autowired\n    private UserRepository userRepository;\n    private EntityManager em;\n\n\n    //修改用户\n    @Transactional\n    public void updateUser(List<User> user) throws UserNotFound {\n        //      根据Id查找user\n//      User userUpdate=userRepository.findOne(user.getId());\n//      if(userUpdate==null)\n//          throw new UserNotFound();\n//\n//      if(userUpdate.getName()!=null)\n//          userUpdate.setName(user.getName());\n//  \n//      userRepository.save(userUpdate);\n//      \n//      \n        for(int i=0;i<user.size();i++)\n        {\n            em.merge(user.get(i));\n            if(i%30==0)\n            {\n                em.flush();\n                em.clear();\n\n            }\n\n        }\n    }\n\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你好,格式大致如下&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;for i &amp;#61; 0:2000\n&lt;span class=\"hljs-keyword\"&gt;filename&lt;/span&gt; &amp;#61; sprintf(&lt;span class=\"hljs-string\"&gt;&amp;#39;m%06d.ovf&amp;#39;&lt;/span&gt;,i);\n% 这里按照文件名&lt;span class=\"hljs-keyword\"&gt;filename&lt;/span&gt;读取ovf\n&lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["用matlab批量读取处理数据文件", ["问题遇到的现象和发生背景", "\n", "请问怎样用matlab批量读取以“m000000.ovf，m000001.ovf.m002000.ovf”方式命名的这2001个文件，并存储格式相同的这2001个文件里面的数据？", "\n", "问题相关代码，请勿粘贴截图", "\n", "运行结果及报错内容", "\n", "我的解答思路和尝试过的方法", "\n", "我想要达到的结果"]], "Tag": "程序设计"}
{"Answer": "jsp:\r\n&lt;input type=\"checkbox\" value=\"1\" name=\"ids\"/&gt;1&lt;br/&gt;\r\n&lt;input type=\"checkbox\" value=\"2\" name=\"ids\"/&gt;2&lt;br/&gt;\r\n&lt;input type=\"checkbox\" value=\"3\" name=\"ids\"/&gt;3&lt;br/&gt;\r\n&lt;input type=\"checkbox\" value=\"4\" name=\"ids\"/&gt;4&lt;br/&gt;\r\naction：\r\nprivate String[] ids;\r\npublic String[] getIds()\r\n{\r\n        return ids;\r\n}\r\n    \r\npublic void setIds(String[] ids)\r\n{\r\n        this.ids = ids;\r\n}\r\npublic String test()\r\n{\r\n     for (int i = 0; i &lt; ids.length; i++)\r\n     {\r\n            System.out.println(ids[i]);\r\n     }\r\n \r\n}", "Konwledge_Point": "批量数据处理——数组", "Question": ["Action中如何接Struts2传过来的数组", ["求教啊！Action中如何接Struts2传过来的数组", "\n        Action中如何接数组，我要实现批量处理，Struts2中有没有像servlet中的request.getParameterValues（）的方法可以直接接数组的"]], "Tag": "程序设计"}
{"Answer": "这话题在Hibernate帮助文档里就有说明呀！如下：\r\n13.1. 批量插入（Batch inserts）\r\n如果要将很多对象持久化，你必须通过经常的调用 flush() 以及稍后调用 clear() 来控制第一级缓存的大小。 \r\n\r\nSession session = sessionFactory.openSession();\r\nTransaction tx = session.beginTransaction();\r\n   \r\nfor ( int i=0; i&lt;100000; i++ ) {\r\n    Customer customer = new Customer(.....);\r\n    session.save(customer);\r\n    if ( i % 20 == 0 ) { //20, same as the JDBC batch size //20,与JDBC批量设置相同\r\n        //flush a batch of inserts and release memory:\r\n        //将本批插入的对象立即写入数据库并释放内存\r\n        session.flush();\r\n        session.clear();\r\n    }\r\n}\r\n   \r\ntx.commit();\r\nsession.close();\r\n13.2. 批量更新（Batch updates）\r\n此方法同样适用于检索和更新数据。此外，在进行会返回很多行数据的查询时， 你需要使用 scroll() 方法以便充分利用服务器端游标所带来的好处。 \r\n\r\nSession session = sessionFactory.openSession();\r\nTransaction tx = session.beginTransaction();\r\n   \r\nScrollableResults customers = session.getNamedQuery(\"GetCustomers\")\r\n    .setCacheMode(CacheMode.IGNORE)\r\n    .scroll(ScrollMode.FORWARD_ONLY);\r\nint count=0;\r\nwhile ( customers.next() ) {\r\n    Customer customer = (Customer) customers.get(0);\r\n    customer.updateStuff(...);\r\n    if ( ++count % 20 == 0 ) {\r\n        //flush a batch of updates and release memory:\r\n        session.flush();\r\n        session.clear();\r\n    }\r\n}\r\n   \r\ntx.commit();\r\nsession.close();", "Konwledge_Point": "批量数据处理——数组", "Question": ["关于hibernate的一个批量操作", ["我在做项目遇到一个很经典的问题，就是用hibernate做批量插入的问题。", "\n\n", "方法1：", "\n读取一行数据，dao保存一行数据，所有的保存放在一个事务；", "\n方法2：读取所有的数据，拼接成一个hql，一次性执行；", "\n\n", "请问那个效率会好一点？"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;When using str_replace with arrays() as $search and $replace parameters, the function will evaluate every items in the $search array, for EACH characters of the $subject string. This is important to understand as every \"loop\" for a given character evaluates the content of the position of the $subject that it is working on at that point.&lt;/p&gt;\n\n&lt;p&gt;This results in the function being able to change that character multiple times in one pass (that character from the $subject, against all the items in the $search array.)&lt;/p&gt;\n\n&lt;p&gt;A simple example would be the following code/output:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$str = \"a b c\";\n$pattern = array(\"a\",\"b\",\"a\");\n$replacement = array(\"a1\",\"b1\",\"c1\");\necho str_replace($pattern, $replacement, $str); // Output : c11 b1 c\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The function executes the \"search\" against ALL items in the search array, for each character in $str. Here is the first \"loop\" for the first character in $str (\"a\") :&lt;/p&gt;\n\n&lt;p&gt;First is finds \"a\", which gets replaced with \"a1\", then it looks for \"b\", which is not found. Then it looks for \"a\" again, and replaces the aforementioned replacement (\"a\"=&amp;gt;\"a1\") with the mapping \"a\"=&amp;gt;\"c1\" which leads to \"c11\".&lt;/p&gt;\n\n&lt;p&gt;Then goes on to the next character in $str.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;YOUR EXAMPLE&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;When the second character in your $str (\"b\") is searched-against, it gets replaced with \"6e\" (this is the new state of $str) then following the \"loop\" that NEW \"e\" is found in the $search array, and replaced with \"6u\". At that point, you have \"6a 66u\". You can extrapolate the rest.&lt;/p&gt;\n\n&lt;p&gt;The reason why the first \"a\"=&amp;gt;\"6a\" is exact, is that the NEW state of $str after first iteration of the search \"loop\", that is \"6a\", will not match any of the other items in the search array.&lt;/p&gt;\n\n&lt;p&gt;As per php documentation ( &lt;a href=\"http://php.net/manual/en/function.str-replace.php\" rel=\"nofollow noreferrer\"&gt;php.net str_replace()&lt;/a&gt; ) :&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Caution:\n  Replacement order gotcha.\n  Because str_replace() replaces left to right, it might replace a previously inserted value when doing multiple replacements.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;This behavior has led to very interesting/unexpected results and was not trivial to debug.&lt;/p&gt;\n\n&lt;p&gt;Some answers already point to solutions, I wanted to chime-in to provide details about the experienced behavior of php.&lt;/p&gt;\n\n&lt;p&gt;Hope this helps, let me know! Cheers&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["PHP：如何用另一个数组中的一个替换数组中的每个字符", ["\n\n", "I want to replace each character from an array with one in another array:", "\n\n", "<?php\n$str=\"a b c d e f g h i j \";\n\n$pattern=array();\n$pattern[0]=\"a\";\n$pattern[1]=\"b\";\n$pattern[2]=\"c\";\n$pattern[3]=\"d\";\n$pattern[4]=\"e\";\n$pattern[5]=\"f\";\n$pattern[6]=\"g\";\n$pattern[7]=\"h\";\n$pattern[8]=\"i\";\n$pattern[9]=\"j\";\n\n$replacement=array();\n$replacement[0]=\"6a\";\n$replacement[1]=\"6e\";\n$replacement[2]=\"6i\";\n$replacement[3]=\"6o\";\n$replacement[4]=\"6u\";\n$replacement[5]=\"5a\";\n$replacement[6]=\"5e\";\n$replacement[7]=\"5i\";\n$replacement[8]=\"5o\";\n$replacement[9]=\"5u\";\n\necho str_replace($pattern,$replacement,$str);?>\n", "\n\n", "RESULT: ", "\n\n", "    6a 66u 65o 6o 6u 5a 5e 55o 5o 5u\n    a   b   c   d  e  f  g  h   i  j\n", "\n\n", "the ", "'b' 'c' 'h'", " kind conflict with the others", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;一次请求,传数组,用文件名不行吗?&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["多文件上传成功后如何返回前端做验证", ["问题遇到的现象和发生背景", "\n", "\n", "\n", "\n", "问题相关代码，请勿粘贴截图", "\n", "运行结果及报错内容", "\n", "org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type 'java.lang.String[]' to required type 'com.edu.cn.entity.qo.FileUplodQo[]'; nested exception is java.lang.IllegalStateException: Cannot convert value of type", "'java.lang.String' to required type 'com.edu.cn.entity.qo.FileUplodQo': no matching editors or conversion strategy found", "\n", "我的解答思路和尝试过的方法", "\n", "我就是想给后端传入每个文件的uid,成功后返回uid在去更改文件状态，", "后端不知道怎么获取这个uid。", "然后就是我想问下多文件上传前端接口是一次传给后端好还是请求多次", "如果请求一次，文件上传中途失败了一部分文件保存在服务器上了，但是数据库没保存，是删除文件，还是去给数据库做保存", "\n", "我想要达到的结果", "\n", "当时想直接去继承这个MultipartFile类发现不行。直接传MultipartFile数组是可以的。但是如果传MultipartFile数组，在传一个id数组，如何保证id和文件一 一对应，有什么好的解决方法没有", "真的要哭了"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;pre&gt;&lt;code&gt;  &amp;lt;?php\n\n   error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE);\n   ini_set('display_errors', '1');\n\n   require 'Invitation.php';\n\n   $jsonText = file_get_contents('php://input');\n\n   if(empty($jsonText))\n   {\n      $response = array(\"status\"=&amp;gt;-2,\"message\"=&amp;gt;\"Empty request\");\n      die(json_encode($response));\n   }\n\n$response = array();\n\n   $json = json_decode($jsonText);\n  foreach ($json as $jsn) {\n   foreach($jsn as $j)\n    {\n      $date= $j -&amp;gt; date;\n      $invitee_no = $j -&amp;gt; invitee_no;\n      $status = $j -&amp;gt; status;\n      $invitation = new Invitation(\"\",$date,$invitee_no,$status);\n\n       $response[] = $invitation-&amp;gt;sendInvite();\n\n\n    } \n }\necho(json_encode($response));\n ?&amp;gt;\n\nI have used foreach for array.\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何获取json数组并插入数据库。  PHP", ["\n\n", "I have a table on an Invitation. I am passing the data in json format from postman.", "\n\n", "I want to send many invitations at a time. So I want to insert multiple invitations.", "\n\n", "How can I do this?", "\n\n", "I have created a single invitation.", "\n\n", "Invitaion :", "\n\n", "    class Invitation\n{\n    private $sender_id,$date,$invitee_no,$status;\n\n    function Invitation($sender_id,$date,$invitee_no,$status)\n    {\n\n        $this->sender_id = $sender_id;\n        $this->date= $date;\n        $this->invitee_no = $invitee_no;\n        $this->status = $status;\n\n    }\n    function sendInvite()\n    {\n\n        $database = new Database(ContactsConstants::DBHOST,ContactsConstants::DBUSER,ContactsConstants::DBPASS,ContactsConstants::DBNAME);\n        $dbConnection = $database->getDB();\n\n        $stmt = $dbConnection->prepare(\"select * from Invitation where invitee_no =?\");\n        $stmt->execute(array($this->invitee_no));\n        $rows = $stmt->rowCount();\n\n        if($rows > 0)\n        {\n            $response = array(\"status\"=>-3,\"message\"=>\"Invitation exists.\");\n            return $response;\n        }\n\n            $stmt = $dbConnection->prepare(\"insert into Invitation(date,invitee_no,status) values(?,?,?)\");\n            $stmt->execute(array($this->date, $this->invitee_no, $this->status));\n            $rows = $stmt->rowCount();\n            $Id = $dbConnection->lastInsertId();\n\n            $stmt = $dbConnection->prepare(\"select * from Invitation where sender_id=?\");\n            $stmt->execute(array($Id));\n            $invitation = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n            if ($rows < 1) {\n                $response = array(\"status\" => -1, \"message\" => \"Failed to send Invitation., unknown reason\");\n                return $response;\n            } else {\n                $response = array(\"status\" => 1, \"message\" => \"Invitation sent.\", \"Invitation:\" => $invitation);\n                return $response;\n            }\n\n    }\n}\n", "\n\n", "sendInvite.php", "\n\n", "    <?php\n\nerror_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE);\nini_set('display_errors', '1');\n\nrequire 'Invitation.php';\n\n$jsonText = file_get_contents('php://input');\n\nif(empty($jsonText))\n{\n    $response = array(\"status\"=>-2,\"message\"=>\"Empty request\");\n    die(json_encode($response));\n}\n\n$json = json_decode($jsonText);\n\n$date= $json -> date;\n$invitee_no = $json -> invitee_no;\n$status = $json -> status;\n\n$invitation = new Invitation(\"\",$date,$invitee_no,$status);\n$response = $invitation->sendInvite();\n\necho(json_encode($response));\n\n?>\n", "\n\n", "Input from postman:", "\n\n", "{\n\n\"date\" : \"12/08/2016\",\n\"invitee_no\" : \"5258\",\n\"status\" : \"1\"\n}\n", "\n\n", "Output:", "\n\n", "   {\n  \"status\": 1,\n  \"message\": \"Invitation sent.\",\n  \"Invitation:\": [\n    {\n      \"sender_id\": \"29\",\n      \"date\": \"12/08/2016\",\n      \"invitee_no\": \"5259\",\n      \"status\": \"1\"\n    }\n  ]\n}\n", "\n\n", "EDIT:", "\n\n", "In Send Invite() function:", "\n\n", "if ($rows < 1) {\n\n        $response = array(\"status\" => -1, \"message\" => \"Failed to send Invitation., unknown reason\");\n        echo(json_encode($response));\n\n    } else {\n        $response = array(\"status\" => 1, \"message\" => \"Invitation sent.\", \"Invitation:\" => $invitation);\n        echo(json_encode($response));\n\n    }\n", "\n\n", "In senInvite.php file :", "\n\n", "    foreach ($json as $jsn) {\n    foreach($jsn as $j)\n    {\n        $date= $j -> date;\n        $invitee_no = $j -> invitee_no;\n        $status = $j -> status;\n        $invitation = new Invitation(\"\",$date,$invitee_no,$status);\n        $response = $invitation->sendInvite();\n\n        var_dump($response);\n        die();\n\n        echo(json_encode($response));\n    }\n\n}\n", "\n\n", "var dump:", "\n\n", "{\"status\":-3,\"message\":\"Invitation exists.\",\"invitee_no\":\"5856\"}array(3) {\n  [\"status\"]=>\n  int(-3)\n  [\"message\"]=>\n  string(18) \"Invitation exists.\"\n  [\"invitee_no\"]=>\n  string(4) \"5856\"\n}\n", "\n\n", "Gives syntax error: unexpeted 'S'", "\n\n", "I want to accept this as json array and insert into the table all the records.", "\n\n", "Can anyone help please? Thank you.. ", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;insert id=\"insertToBatch\" parameterType=\"java.util.List\"&gt;\r\n    insert into FUEL_MATERIAL (MATERIAL_HEAT, MATERIAL_NOT_HEAT, MATERIAL_NUMBER, MATERIAL_ID, MATERIAL_CODE, MATERIAL_NAME, MATERIAL_MANUFACTOR, MATERIAL_VALIDDATE, MATERIAL_SULFUR, MATERIAL_NOT_SULFUR, \r\n      MATERIAL_GREY, MATERIAL_NOT_GREY, MATERIAL_VOLATILE, MATERIAL_NOT_VOLATILE, MATERIAL_HYDROGEN, MATERIAL_NOT_HYDROGEN, MATERIAL_CREATORID, MATERIAL_CREATORNAME, MATERIAL_CREATEDATE, MATERIAL_COMP_ID, \r\n      MATERIAL_COMP_NAME, MATERIAL_FACTORY_ID, MATERIAL_FACTORY_NAME)\r\n  &lt;foreach collection=\"list\" item=\"item\" index=\"index\" separator=\"union all\" &gt;\r\n    (select \r\n      #{item.materialHeat,jdbcType=VARCHAR}, \r\n      #{item.materialNotHeat,jdbcType=VARCHAR}, \r\n      #{item.materialNumber,jdbcType=VARCHAR}, \r\n      #{item.materialId,jdbcType=VARCHAR}, \r\n      #{item.materialCode,jdbcType=VARCHAR}, \r\n      #{item.materialName,jdbcType=VARCHAR}, \r\n      #{item.materialManufactor,jdbcType=VARCHAR}, \r\n      #{item.materialValiddate,jdbcType=TIMESTAMP}, \r\n      #{item.materialSulfur,jdbcType=VARCHAR}, \r\n      #{item.materialNotSulfur,jdbcType=VARCHAR}, \r\n \r\n            #{item.materialGrey,jdbcType=VARCHAR}, \r\n      #{item.materialNotGrey,jdbcType=VARCHAR}, \r\n      #{item.materialVolatile,jdbcType=VARCHAR}, \r\n      #{item.materialNotVolatile,jdbcType=VARCHAR}, \r\n      #{item.materialHydrogen,jdbcType=VARCHAR}, \r\n      #{item.materialNotHydrogen,jdbcType=VARCHAR}, \r\n      #{item.materialCreatorid,jdbcType=VARCHAR}, \r\n      #{item.materialCreatorname,jdbcType=VARCHAR}, \r\n      #{item.materialCreatedate,jdbcType=TIMESTAMP}, \r\n      #{item.materialCompId,jdbcType=VARCHAR}, \r\n \r\n            #{item.materialCompName,jdbcType=VARCHAR}, \r\n      #{item.materialFactoryId,jdbcType=VARCHAR}, \r\n      #{item.materialFactoryName,jdbcType=VARCHAR}\r\n    from dual)\r\n  &lt;/foreach&gt;\r\n \r\n  &lt;/insert&gt;\r\n\t\r\n\t这是我的批量新增的SQL ，传过来一个List,配置文件自己遍历，插入速度快", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量插入Oracle，数据丢失！！！！！？？？", ["\n        String[] insertCompIdarray = insertCompId.split(\",\");\n        String[] ttidarray = ttId.split(\",\");\n\n        List<TestInsert> tilist = new ArrayList<TestInsert>();\n\n        try{\n            for (int i = 0; i < ttidarray.length; i++) {\n                for (int j = 0; j < insertCompIdarray.length; j++) {\n                    TestInsert ti =new TestInsert();\n                    ti.setTicketTypeId(ttidarray[i]);\n                    ti.setTicketCodeType(ticketCode);\n                    ti.setComponentId(insertCompIdarray[j]);\n                    tilist.add(ti);\n                }\n            }\n\n            final int batchSize = 65500;\n            sqlMapClient.startTransaction();\n            for (int i = 0 ; i < tilist.size() ; i ++) {  \n                if (i % batchSize == 0) {  \n                    sqlMapClient.startBatch();  \n                }  \n                sqlMapClient.insert(\"EFT_TICKET_TYPE_TICKET_CODE.testInsertTicketCodeRelation\", tilist.get(i));  \n                if ((i+1) % batchSize ==0) {   \n                    sqlMapClient.executeBatch();  \n                }  \n            }  \n\n            System.out.println(\"Running test\");\n            sqlMapClient.executeBatch();  \n            sqlMapClient.commitTransaction();\n        }\n        catch(SQLException e){\n            throw e;\n        }\n        finally{\n            sqlMapClient.endTransaction();\n        }\n", "\n\n", " <typeAlias alias = \"inserttest\" type = \"com.hkt.engineering.oneoss.ticketing.domain.TestInsert\"/> \n    <insert id=\"testInsertTicketCodeRelation\" parameterClass=\"inserttest\" >\n        insert into TICKET_TYPE_TICKET_CODE\n            (\n            TICKET_TYPE_TICKET_CODE_ID,\n            TICKET_TYPE_ID,\n            TICKET_CODE_TYPE,\n            COMPONENT_ID\n            )\n            values\n            (\n            TICKET_TYPE_AND_CODE_ID_SEQ.nextVal,\n            #ticketTypeId#,\n            #ticketCodeType#,\n            #componentId#\n            )\n    </insert>\n", "\n\n", "Oracle，批量插入，当batchSize设为100000（10W），插入的数据会出现丢失，1018160条数据，结果插入的只有30多万条，batchSize设为65000以下，不会出现数据丢失1018160条数据完全插入", "\n请问这个数据丢失的原因是为什么呢？", "\n还有，在完全插入数据的时间要大概147s，现在想缩短这个时间，请问有什么办法可以减少这个插入时间吗？"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;What you have is an outer array with two sub-arrays, each of which has only one value. Its key is the description of the 3 columns, and its value is the CSV value.  If you have PHP 5.3, use &lt;a href=\"http://php.net/manual/en/function.str-getcsv.php\" rel=\"nofollow\"&gt;&lt;code&gt;str_getcsv()&lt;/code&gt;&lt;/a&gt; to parse it and return the third column &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Loop over the outer array\nforeach ($arrayOne as  $subarr) {\n  // Loop over the sub-arrays (though your sample only has one value each)\n  // could also use array_pop()\n  foreach ($subarr as $key =&amp;gt; $csvstring) {\n    // $csvstring holds the CSV value like  '1,\"A\",\"Agilent Technologies Inc.\"'\n    // Parse it with str_getcsv()\n    $cols = str_getcsv($csvstring);\n    // Company name is the 3rd value, key [2]\n    echo $cols[2] . \"\n\";\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For example with the input:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$arrayOne = array(\n  array('No.,\"Ticker\",\"Company\"' =&amp;gt; '1,\"A\",\"Agilent Technologies Inc.\"' ), \n  array('No.,\"Ticker\",\"Company\"'  =&amp;gt; '2,\"AA\",\"Alcoa, Inc.\"') \n);\n// The above loop prints:\nAgilent Technologies Inc.\nAlcoa, Inc.\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["php从数组中获取特定列的所有值", ["\n\n", "Array ( [0] => Array ( [No.,\"Ticker\",\"Company\"] => \n                        1,\"A\",\"Agilent Technologies Inc.\" ) \n        [1] => Array ( [No.,\"Ticker\",\"Company\" ] => \n                        2,\"AA\",\"Alcoa, Inc.\") \n      )\n", "\n\n", "This is the output when i type print_r($arrayOne);\nWhat can I do so I can only get the Company column i.e. Agilent Technologies Inc, and Alocoa, Inc. ", "\n\n", "I tried echo $arrayOne['Company'] and $arrayOne[0]['Company'] but it just outputted 'Array'.", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Nope. You are overwrite your &lt;code&gt;$name_of_files&lt;/code&gt; every time. That variable in the functions scope.&lt;/p&gt;\n\n&lt;p&gt;Use this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function number_of_files ($name, &amp;amp;$name_of_files) {\n    array_push($name_of_files, $name);\n}\n\n$name_of_files = number_of_files('file.mpg', $name_of_files);\n$name_of_files = number_of_files('audio.mp3', $name_of_files);\nvar_dump ($name_of_files);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now you are using your array as a reference.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;If you do not want to overwrite your original array, you can return:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function number_of_files ($name, $name_of_files) {\n    array_push($name_of_files, $name);\n    return $name_of_files;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But let's note, in the second case I did not used the &lt;code&gt;&amp;amp;&lt;/code&gt; sign before the &lt;code&gt;$name_of_files&lt;/code&gt; function argument. That is the reference marker.&lt;/p&gt;\n\n&lt;p&gt;You can read it here: &lt;a href=\"http://php.net/manual/en/language.references.pass.php\" rel=\"nofollow noreferrer\"&gt;http://php.net/manual/en/language.references.pass.php&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["通过函数向数组添加多个值", ["\n\n", "I'm trying to make a function which accepts a value and echo them in the end.", "\n\n", "Here's an example:", "\n\n", "function number_of_files ($name) {\n    $name_of_files = array($name);\n    var_dump ($name_of_files);\n}\n", "\n\n", "And I'm using this function as", "\n\n", "number_of_files(\"file.png\");\nnumber_of_files(\"audio.mp3\");\n", "\n\n", "I'm expecting the following output:", "\n\n", "  Array (\n    [0] => file.png\n    [1] => audio.mp3\n)\n", "\n\n", "Any suggestions why is it not working?", "\n    "]], "Tag": "程序设计"}
{"Answer": "I have met the same issue before in Oracle, but I also don't know how come the the physics orders of data changed while bulk insert.\r\n\r\nI prompted the issue to stackoverflow, and one expert replied me:\r\n\r\n[quote]\r\nA heap organized table is inherently unordered. Unless your query specifies an ORDER BY clause, Oracle is free to return data in whatever order it chooses. And it is free to physically store data in any order regardless of the order of inserts.\r\n[/quote]\r\n\r\nSo I think you have two options:\r\n\r\n[list]\r\n[*] Give up bulk insert, and commit record one by one\r\n[*] Add a serial number in your excel, and after importing ,use \r\n\r\n\r\nSELECT serial_number, name\r\n  FROM your_table_name\r\n ORDER BY serial_number\r\n\r\n\r\nto get the data\r\n\r\n[/list]", "Konwledge_Point": "批量数据处理——数组", "Question": ["java批量添加数据，数据库中出现数据无序问题", ["[size=medium][color=red][b]描述：", "\n通过Excel导入数据，解析后放入list集合中，集合中数据的顺序和excel导入时的一致，通过批量添加到数据库中，出现的结果是数据库中的数据是无序的(也就是和excel导入时的顺序不一致).", "\n求解...[/b][/color][/size]"]], "Tag": "程序设计"}
{"Answer": "你在页面搞个全局变量计数嘛\r\n\r\n\r\n\r\n&lt;script type=\"text/javascript\"&gt; \r\n[color=red]var count = 0;[/color]\r\n        function AddMore(){ \r\n            var more = document.getElementById(\"file\"); \r\n            var br = document.createElement(\"br\"); \r\n            var input = document.createElement(\"input\"); \r\nvar text = document.createElement(\"input\"); \r\n            var button = document.createElement(\"input\"); \r\n            \r\n[color=red]            input.type = \"file\"; \r\n            input.name = \"file\" + count ; \r\n\r\ntext.type = \"text\"; \r\ntext.name = \"key\" + count ; [/color]\r\n            \r\n            button.type = \"button\"; \r\n            button.value = \"删除\"; \r\n            \r\n            more.appendChild(br); \r\n            more.appendChild(input); \r\nmore.appendChild(text); \r\n            more.appendChild(button); \r\n            \r\n            button.onclick = function(){ \r\n                more.removeChild(br); \r\n                more.removeChild(input); \r\nmore.removeChild(text); \r\n                more.removeChild(button); \r\n            }; \r\n        } \r\n    &lt;/script&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量上传处理问题", ["我现在用JSP做一个在线考试系统，批量上传一些语音文件，每个语音文件都对应一个文本框来输入对应考题的答案，以下是我写的上传的表单页面，已可以实现文件域和文本框的对应增删，但是不知道该如何写上传的处理程序，主要是文件个数的获取和对应文本框的值获取的问题，想求一个相关的实例。先谢过了哦！", "\n", "\n", "语音文件:", "\n            ", "\n             答 案: ", "\n        ", "\n\n\n        function AddMore(){\n            var more = document.getElementById(\"file\");\n            var br = document.createElement(\"br\");\n            var input = document.createElement(\"input\");\n            var text = document.createElement(\"input\");\n            var button = document.createElement(\"input\");\n            \n            input.type = \"file\";\n            input.name = \"file\";\n            \n            text.type = \"text\";\n            text.name = \"key\";\n            \n            button.type = \"button\";\n            button.value = \"删除\";\n            \n            more.appendChild(br);\n            more.appendChild(input);\n            more.appendChild(text);\n            more.appendChild(button);\n            \n            button.onclick = function(){\n                more.removeChild(br);\n                more.removeChild(input);\n                more.removeChild(text);\n                more.removeChild(button);\n            }; \n        }\n    ", "\n刚刚从网上又当了个批量上传的程序，自己改了一下，但是总是出现NullPointerException的异常，贴出来麻烦大家帮忙改改啊。本人比较穷，就这么点分，希望大家不要嫌弃啊...", "\n<%@page contentType=\"text/html\"%> ", "\n<%@page pageEncoding=\"GB2312\"%> ", "\n<%@page import=\"java.util.*\" %> ", "\n<%@page import=\"java.io.*\" %> ", "\n<% ", "\n\n", "request.setCharacterEncoding(\"GBK\"); ", "\nresponse.setContentType(\"text/html;charset=GB2312\"); ", "\nchar[] hchl={13,10}; ", "\nString boundary=request.getContentType().substring(30); ", "\nString field_boundary=\"--\"+boundary+new String(hchl); ", "\nString last_boundary=\"--\"+boundary+\"--\"+new String(hchl); ", "\nString _msg=\"\";", "\nServletInputStream getdata=request.getInputStream(); ", "\nByteArrayOutputStream temp=new ByteArrayOutputStream(); ", "\nbyte[] data_line=new byte[8192]; ", "\nint line_byte_count=0; ", "\nboolean found_boundary=false; ", "\nString [] txtKey = request.getParameterValues(\"key\");", "\nint i = 0;", "\nwhile((line_byte_count=getdata.readLine(data_line,0,data_line.length))!=-1){ ", "\n    if(!found_boundary){ ", "\n        line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n    } ", "\n    String temp_str=new String(data_line,0,line_byte_count); ", "\n    if(temp_str.indexOf(\"filename\")!=-1){ ", "\n        if(temp_str.substring(temp_str.indexOf(\"filename=\")+9,temp_str.lastIndexOf(\"\\\"\")+1).length()>2){ ", "\n            String file_name=temp_str.substring(temp_str.lastIndexOf(\"\\\")+1,temp_str.lastIndexOf(\"\\\"\")); ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            String  path = pageContext.getServletContext().getRealPath(\"\\VedioTest\\vedios\\\");", "\n            FileOutputStream myfile=new FileOutputStream(path+\"/\"+file_name,false); //文件存放目录", "\n            //String savePath = \"\\vedios\\\"+file_name;", "\n            connDbBean.executeUpdate(\"insert into vedio(vedio,key) values('\"+file_name+\"','\"+txtKey[i]+\"')\");", "\n            i++;", "\n            boolean test=true; ", "\n            while(test) ", "\n            { ", "\n                line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n                if(line_byte_count==-1){ ", "\n                    test=false; ", "\n                    break; ", "\n                } ", "\n                if(temp.size()==0){ ", "\n                    temp.write(data_line,0,line_byte_count); ", "\n                }", "\n                else{ ", "\n                    if(new String(data_line,0,line_byte_count).equals(field_boundary) || new String(data_line,0,line_byte_count).equals(last_boundary)){ ", "\n                        myfile.write(temp.toByteArray(),0,temp.toByteArray().length-2); ", "\n                        temp.reset(); ", "\n                        myfile.close(); ", "\n                        //out.println(file_name+\"上传成功了 ", "\");", "\n                        _msg=_msg+file_name+\"上传成功", "\"; ", "\n                        test=false; ", "\n                        found_boundary=true; ", "\n                    }", "\n                    else{ ", "\n                        temp.writeTo(myfile); ", "\n                        temp.reset(); ", "\n                        temp.write(data_line,0,line_byte_count); ", "\n                    } ", "\n                } ", "\n            } ", "\n        }", "\n        else{ ", "\n            String field_name=temp_str.substring(temp_str.indexOf(\"name\")+6,temp_str.lastIndexOf(\";\")-1); ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            found_boundary=true; ", "\n           // out.println(field_name+\"没有选择上传文件！ ", "\"); ", "\n           // _msg=_msg+field_name+\"没有选择上传文件", "\";", "\n        } ", "\n    } ", "\n    else{ ", "\n        String field_name=temp_str.substring(temp_str.indexOf(\"name\")+6,temp_str.lastIndexOf(\"\\\"\")); ", "\n        line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n        temp.reset(); ", "\n        boolean test=true; ", "\n        while(test) { ", "\n            line_byte_count=getdata.readLine(data_line,0,data_line.length); ", "\n            if(line_byte_count==-1){ ", "\n                test=false; ", "\n                break; ", "\n            } ", "\n            if(new String(data_line,0,line_byte_count).equals(field_boundary) || new String(data_line,0,line_byte_count).equals(last_boundary)){ ", "\n                test=false; ", "\n                found_boundary=true; ", "\n                if(temp.size()>2){ ", "\n                   // out.println(field_name+\":\"+new String(temp.toByteArray())+\" ", "\"); ", "\n                   _msg=_msg+field_name+\":\"+new String(temp.toByteArray())+\"", "\";", "\n                }", "\n                else{ ", "\n                   // out.println(field_name+\"没有内容！ ", "\"); ", "\n                   _msg=_msg+field_name+\"没有内容！", "\";", "\n                } ", "\n                temp.reset(); ", "\n            }", "\n            else{ ", "\n                temp.write(data_line,0,line_byte_count); ", "\n            } ", "\n        } ", "\n    } ", "\n\n", "} ", "\ngetdata.close(); ", "\nout.println(\"window.parent.Finish(&#39;&quot;+_msg+&quot;&#39;);\");", "\n%>", "\n[b]问题补充：[/b]", "\n但是我的文件域和文本框都是动态生成的，我无法确定个数啊，那样该怎么依次取名呢？", "\n[b]问题补充：[/b]", "\n但是我的文本域和文本框都是动态生成的，不能确定个数，那样该如何依次取名呢？"]], "Tag": "程序设计"}
{"Answer": "去掉 return rtDeviceAudios 这行代码，然后在 for 循环中遍历这个已经查到的列表，以外层for 循环当前的记录在该列表中查找，如果存在就剔除数据库已该记录。\r\n最后得到一个数据库中不存在的记录列表，批量入库。", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量插入并过滤数据库中已经有的数据", ["这是程序的一段代码，然后需要过滤掉数据表中已经存在的数据，并批量插入新的数据。", "\n但是每次过滤之后就不再执行下面的添加了是为什么？求助大家给个解决方法！！！！"]], "Tag": "程序设计"}
{"Answer": "insert select 用过吗  查查", "Konwledge_Point": "批量数据处理——数组", "Question": ["关于SSH集成批量插入数据", ["做一个关于批量插入..题是这样的:一个挂拍交易,首先在临时挂拍中添加多条数据,然后把这些临时挂拍的内容添加到正式挂拍中,然后在正式挂拍中显示所有信息,接口:public void saveTradeinfos(int[] ids);(ids是临时挂拍中的ID集群)"]], "Tag": "程序设计"}
{"Answer": "我这个是我从我的代码里面直接给你截取的两个方法，用的是表格的形式排布的数据，选中复选框然后点击删除，就会删除整行的数据，当然这个仅仅是在页面上的显示删除，不涉及到数据库的哈，不过即使用到数据库，这个也差不多，就是把这些值传递到后台再进行操作。希望我的答案能让你解决问题哈\r\n\r\n```\r\n //点击删除按钮，删除被选择的信息\r\n\t\tfunction delTrs(){\r\n\t\t\tvar trs = $(\"#dept input[type=checkbox]:checked\").parents(\"tr\");//这是选中所有复选框被选中的整行数据（多行）\r\n\t\t\tif(confirm(\"是否删除\")){\r\n\t\t\t\ttrs.remove();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n//checkbox全选和全不选\r\n\t\tfunction checkAllTr(e){\r\n\t\t\tvar cs = $(\"#dept input[type=checkbox]\");\r\n\t\t\tif(e.checked){\r\n\t\t\t\tcs.attr(\"checked\",true);\r\n\t\t\t}else{\r\n\t\t\t\t cs.attr(\"checked\",false);\r\n\t\t\t\t}\r\n\t\t}\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["JSP 页面中点击复选框进行 批量删除", ["在JSP页面中点击复选框后，然后点击删除，批量对选中的数据进行删除，有没有JS代码？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;逻辑有点乱&amp;#xff0c;我给你一个读取文件的方法&amp;#xff0c;比如说你的2000个文件有如下规律file0001.txt、file0002.txt、file0003.txt……file2000.txt&lt;br /&gt;然后matlab读入的办法是&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;folder &amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;myfolder&amp;#39;&lt;/span&gt;; %你的文件夹名字\n&lt;span class=\"hljs-keyword\"&gt;Data&lt;/span&gt; &amp;#61; cell(&lt;span class=\"hljs-number\"&gt;2000&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;); % 储存数据用的cell\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; i &amp;#61; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:&lt;span class=\"hljs-number\"&gt;2000&lt;/span&gt;\nfilename &amp;#61; [&lt;span class=\"hljs-string\"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-type\"&gt;sprintf&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;%04d&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-type\"&gt;i&lt;/span&gt;)];\na &amp;#61; load([&lt;span class=\"hljs-type\"&gt;folder&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;\\&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-type\"&gt;filename&lt;/span&gt;]); %载入你的数据&amp;#xff08;假设你的数据是&lt;span class=\"hljs-number\"&gt;2000&lt;/span&gt;*&lt;span class=\"hljs-number\"&gt;40&lt;/span&gt;行&amp;#xff0c;若干列&amp;#xff0c;这个你没给出我也没法确定&amp;#xff09;\nb &amp;#61; reshape(a,&lt;span class=\"hljs-number\"&gt;2000&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;40&lt;/span&gt;,size(a,&lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;));\n&lt;span class=\"hljs-keyword\"&gt;Data&lt;/span&gt;{i,&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;} &amp;#61; b;\n&lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;我大致根据你的描述给出一个代码框架&amp;#xff0c;题主需要详细告诉txt文件内容格式&amp;#xff0c;以及处理的过程&amp;#xff0c;比如你的网格是什么样子的等等&amp;#xff0c;不然也没法具体问题具体分析&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["MATLAB批量读取处理.txt 文件", ["现在有一个文件夹里面有2000个txt(如果是.ovf文件，内容是matlab可读的形式）文件，我想批量读取这2000个txt文件，并把这些矩阵里面的点和我的物理模型相对应，我的物理模型是一个1200x40", "x1的这样一个长方体网格，现在我需要建立一个坐标系，把这些矩阵里面的点对应到这个坐标里面来，然后提取矩阵里面的数据。该怎样编程呢？还请各位帮帮忙。"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;用内置函数exec()&amp;#xff0c;比如用一个循环一次性定义10个变量名&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-python\"&gt;&lt;span class=\"hljs-symbol\"&gt;for&lt;/span&gt; i in range(&lt;span class=\"hljs-number\"&gt;10&lt;/span&gt;):\n    exec(f&lt;span class=\"hljs-string\"&gt;&amp;#39;p{i}&amp;#61;0&amp;#39;&lt;/span&gt;)\n\n&amp;gt;&amp;gt;&amp;gt; &lt;span class=\"hljs-built_in\"&gt;p0&lt;/span&gt;,&lt;span class=\"hljs-built_in\"&gt;p1&lt;/span&gt;,&lt;span class=\"hljs-built_in\"&gt;p2&lt;/span&gt;,&lt;span class=\"hljs-built_in\"&gt;p3&lt;/span&gt;,&lt;span class=\"hljs-built_in\"&gt;p9&lt;/span&gt; \n(&lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python 怎样批量生成变量名", ["问题遇到的现象和发生背景", "\n", "我想在for函数里使用不同的变量名，因为每个只使用一次。所以要用生成多个变量名。", "\n", "我想要达到的结果", "\n", "在循环中自己生成变量名，变量名不能是列表，字典。"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Unless that value is 0 (in which case you can omit some part of the initializer\nand the corresponding elements will be initialized to 0), there's no easy way.&lt;/p&gt;\n\n&lt;p&gt;Don't overlook the obvious solution, though:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;int myArray[10] = { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5 };\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Elements with missing values will be initialized to 0:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;int myArray[10] = { 1, 2 }; // initialize to 1,2,0,0,0...\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So this will initialize all elements to 0:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;int myArray[10] = { 0 }; // all elements 0\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In C++, an empty initialization list will also initialize every element to 0.\nThis is &lt;a href=\"https://stackoverflow.com/a/17589839\"&gt;not allowed&lt;/a&gt; with C:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;int myArray[10] = {}; // all elements 0 in C++\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Remember that objects with static storage duration will initialize to 0 if no\ninitializer is specified:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;static int myArray[10]; // all elements 0\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And that \"0\" doesn't necessarily mean \"all-bits-zero\", so using the above is\nbetter and more portable than memset(). (Floating point values will be\ninitialized to +0, pointers to null value, etc.)&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何将数组中的所有成员初始化为相同的值？", ["\n\n", "I have a large array in C (not C++ if that makes a difference). I want to initialize all members to the same value. I could swear I once knew a simple way to do this. I could use ", "memset()", " in my case, but isn't there a way to do this that is built right into the C syntax?", "\n    ", "\n\n", "转载于:https://stackoverflow.com/questions/201101/how-to-initialize-all-members-of-an-array-to-the-same-value"]], "Tag": "程序设计"}
{"Answer": "http://www.cnblogs.com/Romi/archive/2012/04/20/2459817.html", "Konwledge_Point": "批量数据处理——数组", "Question": ["关于CUDA传一维数组到单个线程求和", ["问题是这样的，比如我有3个数组{1,2,3},{1,2,3,4,5},{10,11}它们的长度不一定相同，现在想把它们通过CUDA进行求和，最终得到结果6,15,21，分别对应1+2+3、1+2+3+4+5、10+11.现在不知道应该怎么组织cudaMalloc和cudaMemcpy来批量完成这一功能。", "\n\n", "暂时设想的是每个threadIdx.x线程传进1个数组和一个长度，求和之后写到一个对应threadIdx.x下的result数组里。但现在不知道怎么传进去", "\n\n", "设想的代码如下，当然还是没法运行的：", "\n\n", "\n", "__global__ void addArray(int ** dev_a, int *dev_arraySize) {\n    int i = threadIdx.x;\n    int sum = 0;\n    for (int k = 0; k < dev_arraySize[i]; k++) {\n        sum += dev_a[i][k];\n    }\n    printf(\"第%d个数组的求和结果：%d\\n\", i, sum);\n }\n int main()\n {\n    int a0[3] = { 1, 2, 3 };\n    int a1[5] = { 1, 2, 3, 4, 5 };\n    int a2[2] = { 10, 11 };\n    int arraySize[3] = { 3, 5, 2 };\n    int **a = new int*[3];\n    a[0] = a0;\n    a[1] = a1;\n    a[2] = a2;\n", "\n", "\n\n", "int **device_a;\nint *dev_arrSize;\ncudaMalloc((void**)&device_a, sizeof(int*)*3);\ncudaMalloc((void**)&dev_arrSize, sizeof(int)*3);\ncudaMemcpy(device_a, a, sizeof(int*)*3, cudaMemcpyHostToDevice);\ncudaMemcpy(dev_arrSize, arraySize, sizeof(int)*3, cudaMemcpyHostToDevice);\naddArray << <1, 3 >> >(device_a, dev_arrSize);\n\nreturn 0;\n}\n", "\n\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;重点在于从分区第一条数据开始计算对吧&amp;#xff0c;然后就是更新&amp;#xff0c;没得SqlServer以mysql为例吧&amp;#xff0c; 思路是分区递归计算&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-sql\"&gt;&lt;span class=\"hljs-keyword\"&gt;CREATE&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;TABLE&lt;/span&gt; t_example (\n    f_year &lt;span class=\"hljs-type\"&gt;INT&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;NULL&lt;/span&gt;,\n    f_month &lt;span class=\"hljs-type\"&gt;INT&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;NULL&lt;/span&gt;,\n    f_product_id &lt;span class=\"hljs-type\"&gt;INT&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;NULL&lt;/span&gt;,\n    begamt &lt;span class=\"hljs-type\"&gt;INT&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;NULL&lt;/span&gt;,\n    inamt &lt;span class=\"hljs-type\"&gt;INT&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;NULL&lt;/span&gt;,\n    endamt &lt;span class=\"hljs-type\"&gt;INT&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;NULL&lt;/span&gt;\n)\nENGINE&amp;#61;InnoDB\n&lt;span class=\"hljs-keyword\"&gt;DEFAULT&lt;/span&gt; CHARSET&amp;#61;utf8mb4\n&lt;span class=\"hljs-keyword\"&gt;COLLATE&lt;/span&gt;&amp;#61;utf8mb4_0900_ai_ci;\n\n&lt;span class=\"hljs-keyword\"&gt;insert&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;into&lt;/span&gt; t_example &lt;span class=\"hljs-keyword\"&gt;values&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2022&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;11&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;100&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;20&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;120&lt;/span&gt;);\n&lt;span class=\"hljs-keyword\"&gt;insert&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;into&lt;/span&gt; t_example &lt;span class=\"hljs-keyword\"&gt;values&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2022&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;11&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;200&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;30&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;230&lt;/span&gt;);\n&lt;span class=\"hljs-keyword\"&gt;insert&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;into&lt;/span&gt; t_example &lt;span class=\"hljs-keyword\"&gt;values&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2022&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;12&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;80&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;);\n&lt;span class=\"hljs-keyword\"&gt;insert&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;into&lt;/span&gt; t_example &lt;span class=\"hljs-keyword\"&gt;values&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2023&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;60&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;);\n&lt;span class=\"hljs-keyword\"&gt;insert&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;into&lt;/span&gt; t_example &lt;span class=\"hljs-keyword\"&gt;values&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2023&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;5&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;70&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;);\n\n&lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;recursive&lt;/span&gt; CTE_PART &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; (\n&lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; *, ROW_NUMBER() &lt;span class=\"hljs-keyword\"&gt;over&lt;/span&gt;(&lt;span class=\"hljs-keyword\"&gt;partition&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;by&lt;/span&gt; f_product_id &lt;span class=\"hljs-keyword\"&gt;order&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;by&lt;/span&gt; f_year, f_month) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; rn &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; t_example\n), CTE_RECU &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; (\n&lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; p.f_year, p.f_month, p.f_product_id, p.begamt, p.inamt, (p.begamt &amp;#43; p.inamt) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; endamt, p.rn &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE_PART p &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; p.rn &amp;#61; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;ALL&lt;/span&gt; \n&lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; p1.f_year, p1.f_month, p1.f_product_id, c.endamt, p1.inamt, (c.endamt &amp;#43; p1.inamt) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; endamt, p1.rn &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE_PART p1, CTE_RECU c\n&lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; p1.f_product_id &amp;#61; c.f_product_id &lt;span class=\"hljs-keyword\"&gt;and&lt;/span&gt; p1.rn &amp;#61; (c.rn &amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;)\n) &lt;span class=\"hljs-keyword\"&gt;update&lt;/span&gt; CTE_RECU c &lt;span class=\"hljs-keyword\"&gt;inner&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;join&lt;/span&gt; t_example t \n&lt;span class=\"hljs-keyword\"&gt;on&lt;/span&gt; c.f_product_id &amp;#61; t.f_product_id &lt;span class=\"hljs-keyword\"&gt;and&lt;/span&gt; c.f_year &amp;#61; t.f_year &lt;span class=\"hljs-keyword\"&gt;and&lt;/span&gt; c.f_month &amp;#61; t.f_month\n&lt;span class=\"hljs-keyword\"&gt;set&lt;/span&gt; t.begamt &amp;#61; c.begamt, t.inamt &amp;#61; c.inamt, t.endamt &amp;#61; c.endamt;\n\n\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["sql server 批量循环更新同一个表里数据", ["sql server 表里数据如下：", "\n", "year（年）  month（月） productID（产品ID）  begamt（月初余额）  inamt（本月入库）  endamt（月末余额）", "2022              11                        1                                    100                               20                            120", "2022              11                        2                                      200                               30                             230", "\n", "2022              12                       1                                      0                                80                                    0", "2023              2                          2                                     0                                 60                                   0", "2023              5                          2                                     0                                   70                                   0 ", "\n", "需要循环更新表里的月初余额、月末余额。更新条件为同样的产品ID，用小于当前年月的最大年月的月末余额作为当前年月的月初余额", "更新后的数据应为：", "year（年）  month（月） productID（产品ID）  begamt（月初余额）  inamt（本月入库）  endamt（月末余额）", "2022              11                        1                                    100                               20                            120", "2022              11                        2                                     200                               30                            230", "\n", "2022              12                       1                                     120                                80                              200", "2023              2                          2                                     230                                 60                             290", "2023              5                          2                                     290                                70                              360", "\n", "为了执行速度，需要用一条sql语句更新完成，不能用循环语句，不能用游标。", "\n", "谢谢！"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;If it is something that happens at a fixed time / schedule, then it should be a cron job. This is fairly straightforward to set up. There are plenty of tutorials. &lt;/p&gt;\n\n&lt;p&gt;If, on the other hand, it is an action a user triggers from a web browser, you should &lt;a href=\"http://php.net/manual/en/function.pcntl-fork.php\" rel=\"nofollow\"&gt;fork&lt;/a&gt; and &lt;a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow\"&gt;exec&lt;/a&gt;. You take in the user's input, fork and exec and then let the user know that he will be emailed when the process is complete. &lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何批量处理需要很长时间才能执行的PHP脚本？", ["\n\n", "I've built a PHP script that creates/restores a backup containing a sites content and database. It works really well on smaller sites but it runs into trouble on larger sites. What would be the best way to batch a script like this? Basically, it copies files from one directory to another, creates a DB dump and then zips the directory.", "\n\n", "I've done a little bit of research, do I need to use cron jobs?", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;在写入行数据时根据需要进行调整即可。参考示例&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;a&amp;#61;&lt;span class=\"hljs-selector-attr\"&gt;[&lt;span class=\"hljs-string\"&gt;&amp;#39;0.2345&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;0.2351&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;3.2212&amp;#39;&lt;/span&gt;]&lt;/span&gt;\ny&amp;#61;&lt;span class=\"hljs-selector-attr\"&gt;[int(float(x)) for x in a]&lt;/span&gt;#浮点数字符串转整数\n&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;print&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;(y)&lt;/span&gt;&lt;/span&gt;\nz&amp;#61;&lt;span class=\"hljs-selector-attr\"&gt;[int(float(x.split(&lt;span class=\"hljs-string\"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;)[-1]&lt;/span&gt;&lt;span class=\"hljs-selector-attr\"&gt;[:3]&lt;/span&gt;)) &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; x &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; a]#只对小数点后前三位取整\n&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;print&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;(z)&lt;/span&gt;&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python 批量处理txt文件内容", ["python 批量处理txt文件内容", "使用python 完成txt文档内容转换", "\n", "转换前", "文件夹中有批量的txt文档", "内容为", "第一行 为总坐标数量", "第二、三、四、五行 为坐标信息", "\n", "目标", "转换后", "去除总坐标数量、", "只保留坐标信息、且为三位数整数 ", "\n", "*另外将txt文档全部转换为.pts文件类型"]], "Tag": "程序设计"}
{"Answer": "如果想批量，就要一起commit，一起回滚事物，\r\n否则如果你想记录记录哪条数据有问题，\r\n那就不要批量，一条一条提交，\r\n碰到有问题的trycatch去捕获他，\r\n定义一个字符串记录一下，然后再继续提交，\r\n如果再次碰到有问题的，然后在追加字符串，\r\n最终返回字符串，\r\n如果是空的，代表全部成功，\r\n否则就查询字符串里面记录的信息，就知道哪条失败了", "Konwledge_Point": "批量数据处理——数组", "Question": ["【jdbcTemplate】批量插入异常捕获", ["在使用jdbctemplate的批量操作的时候", "\n\n", "调用jdbcTemplate.batchUpdate，他的原理机制是，集合一定数量的sql，一起发送到数据库，这样减少与数据库频繁交互的成本", "\n但现在有一个问题就是，我这有50条sql，批量插入，然后有一条有问题，我如何让这一条执行失败时，不影响其余49条语句的执行呢？", "\n\n", "下面是我自己封装的一个方法", "\n批量插入这个list到数据库去，如果出现什么值太大，违反唯一性约束什么之类的异常，我的那个catch根本就捕获不住，我最多只能知道这个list插入有问题，没法实现list中一条记录有问题，不影响其他记录的执行", "\n\n", "[code=\"java\"]", "\npublic  void insert(final List<?> lists) {", "\n    // 获取insert语句  eg：sql = insert into user (id,name,age) values (?,?,?)", "\n    String sql = SqlUtils.getInsertSql(lists.get(0));", "\n    jdbcTemplate.batchUpdate(sql, new BatchPreparedStatementSetter() {", "\n        @Override", "\n        public void setValues(PreparedStatement ps, int i) {", "\n            Object value = lists.get(i);", "\n            // objects = 获取代替？的具体值", "\n            Object[] objects = SqlUtils.getValues(value);", "\n            for (int k = 0; k < objects.length; k++) {", "\n                try {", "\n                    ps.setObject(k + 1, objects[k]);", "\n                } catch (SQLException e) {", "\n                    log.error(\"数据库异常 -- \"+value.getClass().getSimpleName(),e);", "\n                }", "\n            }", "\n        }", "\n\n", "    @Override\n    public int getBatchSize() {\n        return lists.size();\n    }\n});\n", "\n\n", "}", "\n[/code]"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;兼顾时效性和内存使用&amp;#xff0c;一般1万-100万是合适的。&lt;br /&gt;数据太大了&amp;#xff0c;还是load吧。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql大量数据批量插入的问题", ["preparedment提供了addBatch进行批量处理，这个有数据量的最大阈值吗？插入多少条数据量会开始降速？"]], "Tag": "程序设计"}
{"Answer": "你可以先把那些数据放在一个excel表里面，再把表里的数据复制到一个txt文本里，然后通过数据库图形化工具把数据导入进去。其实也就是怎么把excel表的数据导入到数据库，自己可以百度下流程", "Konwledge_Point": "批量数据处理——数组", "Question": ["数据库批量导入，省市区县镇联动关系", ["有没有一种方法或者工具，能够批量导入数据，这种数据不是普通的数据，是有上下级所属关系的，比如像省市区县镇街道的这种关系，就是怎样插入的省市区县镇街道的数据，除了一条一条导入以外有没有其他方法？因为数据太多了。"]], "Tag": "程序设计"}
{"Answer": "擦 已经解决：原因是 我insert_st.setString(1, ZH_S(user.getId()));，传递的参数过多，Oracle的批处理个数限制为：\r\ncount=传参个数 *  查入的数据条数\r\n\r\n上边设置的1000条数据，进行一次批处理，越界了~\r\n将 final int batchSize = 500; 的值设小一点就屁事没有", "Konwledge_Point": "批量数据处理——数组", "Question": ["java JDBC 批量插入的时候报数组下标越界，求大神", ["代码：", "\nprivate static Boolean Function_User(Map resultMap, String sql,String tableType)  {", "\n        // TODO Auto-generated method stub", "\n\n", "    Connection conn=null;\n    PreparedStatement insert_st=null;\n    int count = 0;\n    final int batchSize = 500;\n    System.out.println(\"开始：\"+Calendar.getInstance().getTime());\n    try {\n        conn=DriverManager.getConnection(db_url,db_name,db_pwd);\n        conn.setAutoCommit(false);\n        insert_st = conn.prepareStatement(sql);\n        for (int i = 0; i < resultMap.get(tableType).size(); i++) {\n            Object obj = resultMap.get(tableType).get(i);               \n            OrderUserSnap user = (OrderUserSnap) obj;\n            insert_st.setString(1, ZH_S(user.getId()));\n            insert_st.addBatch();\n\n             if(++count % batchSize == 0) {\n                 insert_st.executeBatch();\n                 insert_st.clearBatch();\n                }\n             System.out.println(\"tt:\"+count);\n        }\n        insert_st.executeBatch();\n        insert_st.clearBatch();\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }finally{\n        try {\n            insert_st.close();\n            conn.close();\n             System.out.println(\"结束：\"+Calendar.getInstance().getTime());\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }       \n    }\n    return true;\n}\n"]], "Tag": "程序设计"}
{"Answer": "https://blog.csdn.net/Rideal/article/details/78593055", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql 怎么不使用游标的方式 ， 将结果按条件进行批量更新 。", ["CREATE DEFINER=", "root", "@", "%", " PROCEDURE ", "pro_upGrade", "()", "\nBEGIN", "\ndeclare sort_a int;", "\nDECLARE classId int;", "\nDECLARE compInfoId int;", "\nDECLARE graduationYear int;", "\ndeclare flag int default true;", "\ndeclare curl cursor for SELECT tc.class_id  ,tc.comp_info_id  ,tg.sort,CAST(tc.graduation_year as SIGNED) graduation_year from t_class tc LEFT JOIN t_grade tg on tg.grade_id=tc.grade;", "\ndeclare continue handler for not found set flag = false;", "\nOPEN curl;", "\nrepeat", "\nFETCH curl INTO classId,compInfoId,sort_a,graduationYear;", "\nIF sort_a <> null and graduationYear\nUPDATE t_class  set grade=(SELECT  grade_id FROM t_grade WHERE sort>sort_a AND comp_info_id=compInfoId AND ", "status", "=1 ORDER BY sort LIMIT 1)", "\n,grade_name=(SELECT  ", "name", " FROM t_grade WHERE sort>sort_a AND comp_info_id=compInfoId AND ", "status", "=1 ORDER BY sort LIMIT 1) where class_id=classId;", "\nELSEif  graduationYear=DATE_FORMAT(NOW(), '%Y') THEN", "\nUPDATE t_class SET ", "status", "=2 where class_id=classId;", "\n\n", "end IF;", "\nuntil flag = false", "\n   end repeat;", "\nclose curl;", "\nEND", "\n这个是使用游标的方式，  就是如果数据量大的时候循环操作的时候会锁表，如何优化进行直接将结果按条件批量更新"]], "Tag": "程序设计"}
{"Answer": "该功能无法实现，只能分步骤来，先插入在查询", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql使用mybatis批量添加数据，返回主键", ["mysql使用mybatis批量添加，使用各种方法都无法返回对应的主键，请兄弟们不吝赐教"]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;\n&lt;code&gt;import xlrd\n\ndef files(txt):\n    f &amp;#61; open()  # 返回一个文件对象\n    i&amp;#61;1\n    # 创建一个excel、参数style_compression表示是否压缩\n    book &amp;#61; xlwt.Workbook(encoding&amp;#61;&amp;#34;utf-8&amp;#34;, style_compression&amp;#61;0)\n    # 创建一个sheet表&amp;#xff0c;如果cell_overwrite_ok参数为True&amp;#xff0c;则同一个单元格可以覆盖&amp;#xff0c;默认为False\n    worksheet &amp;#61; book.add_sheet(&amp;#34;sheet1&amp;#34;, cell_overwrite_ok&amp;#61;True)\n    while 1:\n        line &amp;#61; f.readline()\n        if i&amp;gt;&amp;#61;11 and line:\n            # 往表中写入数据worksheet.write(row,col,value)&amp;#xff0c;row表示行号&amp;#xff0c;col表示列号&amp;#xff0c;value表示值\n            worksheet.write(0, 0, &amp;#34;李白&amp;#34;)\n        if not line:\n            # 保存\n            book.save(f&amp;#34;{txt.split(&amp;#39;.&amp;#39;)[0]}.xls&amp;#34;)\n            break\n        i &amp;#43;&amp;#61; 1\n    f.close()\n    \nif __name__ &amp;#61;&amp;#61; &amp;#39;__main__&amp;#39;:\n    # 单个文件&amp;#xff0c;如果多个文件&amp;#xff0c;执行循环即可\n    txt &amp;#61; &amp;#34;foo.txt&amp;#34;\n    files(txt)&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt; &lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何将批量TXT文件转为excel文件（单对单，但需批量转换）", ["转换成"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;可以用eval把要执行的有规律的代码拼起来&amp;#xff0c;用一个for就可以解决&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["matlab如何批量读取并保存文件", ["matlab批量读取并保存文件", "\n", "请问，我想采用以下程序批量读取txt文件并转换成jpg保存，文件名的格式是QSGS_1,QSGS_2,...,QSGS_1050,请问文件名的字符串可以怎么表示？网上一直没有找到类似的解决方案。", "\n", "for", " ", "p", "=1:1050\n    fileopen=(", "'D:\\QSGS_1.dat'", ");\n    filesave=(", "'C:\\Users\\Desktop\\机器学习图片\\1.jpg'", ");\n", "fidin", "=fopen(fileopen);                                         \n", "fidout", "=fopen('mkmatlab.txt','w');                       % 创建MKMATLAB.txt文件\n", "while", " ~feof(fidin)                                      % 判断是否为文件末尾               \n    ", "tline", "=fgetl(fidin);                                 % 从文件读行   \n    ", "if", " double(tline(1))>=48&&double(tline(1))<=57       % 判断首字符是否是数值\n       fprintf(fidout,", "'%s\\n\\n'", ",tline);                  % 如果是数字行，把此行数据写入文件MKMATLAB.txt\n       continue                                         % 如果是非数字继续下一次循环\n    end\nend\nfclose(fidout);\n", "MK", "=importdata('MKMATLAB.txt');   % 将生成的MKMATLAB.txt文件导入工作空间，变量名为MK，实际上它不显示出来 \n", "a", "=1;\n", "for", " ", "j", "=1:161\n    ", "for", " ", "i", "=1:161\n        arrgrid(i,j)=MK(a,3);\n        ", "a", "=a+1;\n    end\nend\nimshow(arrgrid,", "'border'", ",", "'tight'", ",", "'initialmagnification'", ",", "'fit'", ")\n", "set", " (gcf,", "'Position'", ",[100,100,512,512])\n%axis normal;\n%saveas(gca,", "'meanshape.bmp'", ",", "'bmp'", ");\nimwrite(arrgrid,strcat(filesave),", "'jpg'", ");\nend\n\n\n"]], "Tag": "程序设计"}
{"Answer": "ODBC或者  OLEDB\r\n每秒大概1万多条记录\r\n\r\n你可以参考下这篇文章\r\nhttps://blog.csdn.net/winnyrain/article/details/74003972", "Konwledge_Point": "批量数据处理——数组", "Question": ["c++ 中有什么方法可以往数据库里批量插入数据？数据库是sqlserver", ["c++ 中有什么方法可以往数据库里批量插入数据？数据库是sqlserver"]], "Tag": "程序设计"}
{"Answer": "大概看了一下，个人认为应该是传值的问题，你在javascript中传递的内容是一个Array，并不是一个字符串，对人那你最后使用toString转换了，但是在你的controller中使用,为分割标准来分割，因此我建议你在javascript中这样写：\r\n\r\n\r\n```\r\n\t\t\t\t\t\tvar checked = \"\";\r\n            $(\"input[name = 'subcheck']:checked\").each(function (){\r\n                checked += $(this).val() + \",\";\r\n            });\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"rest/teacher/batchDeletes.action\",\r\n                data: {\"ids\": checked},\r\n                datatype: \"html\",\r\n                success: function (data) {\r\n                    $(\"[name=‘checkbox‘]:checkbox\").attr(\"checked\", false);\r\n                    art.dialog.tips('删除成功！');\r\n                    setTimeout(\"location.reload()\", 1000);//页面刷新\r\n                },\r\n                error:function(data){\r\n                    art.dialog.tips('删除失败！');\r\n                }\r\n            });\r\n```\r\n\r\n这个方法在controller中可能还会有一个问题，那么就是最后一个,后面没有内容了，因此分割之后，最后一个元素无效", "Konwledge_Point": "批量数据处理——数组", "Question": ["在springmvc和mybatis框架下根据id批量删除", ["jsp页面代码：", "\n\n", " <input type=\"checkbox\" id=\"subcheck\" name=\"subcheck\" class=\"checkboxes\" value=\"${teacher.id}\" />\n", "\n\n", "js代码：", "\n\n", " function batchDeletes(){\n        var checkedNum = $(\"input[name = 'subcheck']:checked\").length;\n        if(checkedNum == 0) {\n            alert(\"请至少选中一项!\");\n            return false;\n        }\n        if(confirm(\"确定删除所选项目？\")){\n            var checkedList = new Array();\n            $(\"input[name = 'subcheck']:checked\").each(function (){\n                checkedList.push($(this).val());\n            });\n            $.ajax({\n                type: \"POST\",\n                url: \"rest/teacher/batchDeletes.action\",\n                data: {\"ids\": checkedList.toString()},\n                datatype: \"html\",\n                success: function (data) {\n                    $(\"[name=‘checkbox‘]:checkbox\").attr(\"checked\", false);\n                    art.dialog.tips('删除成功！');\n                    setTimeout(\"location.reload()\", 1000);//页面刷新\n                },\n                error:function(data){\n                    art.dialog.tips('删除失败！');\n                }\n            });\n        }\n    }\n", "\n\n", "controller代码：", "\n\n", " @RequestMapping(\"/batchDeletes\")\n    public void batchDeletes(HttpServletRequest request){\n        System.out.println(1);\n        String items = request.getParameter(\"ids\");\n        List<String> delList = new ArrayList<String>();\n        String[] strs = items.split(\",\");\n        System.out.println(2);\n        for (String str : strs) {\n            delList.add(str);\n        }\n        basicTeacherService.batchDeletes(delList);\n    }\n", "\n\n", "mapper.xml页面代码：", "\n\n", " <delete id=\"batchDeletes\" parameterType=\"java.lang.Long\">\n    delete from basic_teacher where id in\n    <foreach collection=\"list\" index=\"index\" item=\"id\" open=\"(\" separator=\",\" close=\")\">\n      #{id}\n    </foreach>\n  </delete>\n", "\n\n", "麻烦各路大神给看看到底是哪里出了问题哈，谢谢"]], "Tag": "程序设计"}
{"Answer": "1.iterate标签： 该标签是针对对象的一个属性集合(或者数组)进行操作的，对应表中相应列的多个值；它有如下属性。 \r\nproperty–对应对象的属性名 \r\nprepend–对应迭代值的前缀 \r\nopen– 对应值遍历前的初始符号， 如： prepend=”IN “, open=”(” ,则生成的语句是”IN (“ \r\nclose– 遍历后值的结束符，即值被包装在open和close中 \r\nconjunction–属性值直接的分隔符，如： conjunction=”,”则结合上面的设置语句最终如下： \r\nIN ( v1, v2,…) \r\nremoveFirstPrepend–移除第一个追加字符，如prepend=”OR”， 则第一个标签就是OR，则不符合SQL语法，所以将其设置为 \r\ntrue 防止语法错误。\r\n2.使用iterate进行批量插入:\r\n    &lt;insert id=\"\" parameterClass=\"java.util.List\"&gt;\r\n          insert into tb_active_code(code, create_user_id, create_time) values \r\n          &lt;!-- 该iterate将对应的对象的集合生成insert into批量插入时的多条记录 --&gt;\r\n         &lt;iterate property=\"codes\" conjunction=\",\"&gt;  \r\n               &lt;![CDATA[&lt;!--这里使用了括号，所以使用该方法防止ibatis转义时出错。 --&gt;\r\n                        (#codes[].code#, #codes[].createUserId#, #codes[].createTime#) \r\n                ]]&gt;  \r\n        &lt;/iterate&gt; \r\n    &lt;/insert&gt;1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n\r\n\r\n批量改、删： \r\n3. 更新只能针对不同的记录更新的列是同一个值，如下：\r\n    &lt;update id=\"\"   parameterClass=\"java.util.List\"&gt;\r\n              update set\r\n                   p1 = \"\"&lt;!-- 针对常量 --&gt;\r\n                   WHERE \r\n                   &lt;iterate  property=\"values\"  prepend=\"IN \"   open=\"(\"  close=\")\"  conjunction=\",\"&gt;\r\n                           #values[]#\r\n                   &lt;/iterate&gt;\r\n     &lt;/update&gt;1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n\r\n\r\n删除和更新是一样的，通过使用IN选项来实现对应列的删除。\r\n\r\n4.通过ibatis的提供的方法来实现update的批量更新（更新的列值不同）： \r\n 通过sqlMapClient的startTransaction()开启事务, startBatch()开始批操作， executeBatch()执行批操作， commitTransaction() \r\n提交事务，endTransaction()结束事务。通过这几个方法结合实现批量更新，具体操作如下：\r\n      /** \r\n     * @Description: 使用iBatis进行批量操作，并且使用事务\r\n     * @param sqlMapClient \r\n     * @param infos 要更新的数据集合 \r\n     * @param size 集合长度 \r\n    */  \r\n    public void updateBatch(SqlMapClient sqlMapClient, List&lt;TicketSellInfo&gt; infos, int size)   \r\n     {  \r\n          try{  \r\n               // 事务开始  \r\n               sqlMapClient.startTransaction();  \r\n\r\n               // 批量操作开始  \r\n               sqlMapClient.startBatch();  \r\n               for (int i = 0; i &lt; size; i++) {  \r\n                     // 保存数据  \r\n                       sqlMapClient.update(\"BUS_TICKET_SELL.updateVerifyStatus\", infos.get(i));  \r\n               }    \r\n               // 批量操作执行  \r\n               sqlMapClient.executeBatch();  \r\n\r\n               // 事务提交   \r\n               sqlMapClient.commitTransaction();  \r\n         } catch (Exception e) {  \r\n               e.printStackTrace();\r\n         } finally {  \r\n               try {  \r\n                   // 事务结束  \r\n                   sqlMapClient.endTransaction();  \r\n                } \r\n                catch (SQLException e)\r\n                { \r\n                    e.printStackTrace(); \r\n                }  \r\n       }  \r\n   }", "Konwledge_Point": "批量数据处理——数组", "Question": ["ibatis批量修改，，，", ["ibatis批量修改，传入一个map，", "\nString id;", "\nList ids = new ArrayList();", "\nList ls = new ArrayList();", "\nmap.put(\"id\", id);", "\nmap.put(\"ids\", ids);", "\nmap.put(\"ls\", ls);", "\n\n", "sql代码:", "\n            update dic_limit_value set", "\n                LIMIT_VALUE = #ls[].limitValue#,ERROR_LIMIT = #ls[].errorLimit#,EX_LIMIT = #ls[].exLimit#", "\n            where BTS_ID = #stid#", "\n                and LIMIT_ID in ", "\n                    #ls[].limitIDs#", "\n\n", "    这样的写法是错的，请问应该怎么写\n"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Firstly you need to have &lt;code&gt;cascade={\"persist\"}&lt;/code&gt; as mentioned by @skrilled.&lt;/p&gt;\n\n&lt;p&gt;Then you need to retrieve the module entities from the database.  You mentioned you have the id's in the $module variable.&lt;/p&gt;\n\n&lt;p&gt;You need a DQL statement something like this&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$builder = $this-&amp;gt;getEntityManager()-&amp;gt;createQueryBuilder();\n$builder-&amp;gt;select('m')\n        -&amp;gt;from('Adm\\Entity\\Module', 'm')\n        -&amp;gt;where('m.id IN (:modules)')\n        -&amp;gt;setParameter('modules', $modules);\n$moduleEntities= $builder-&amp;gt;getQuery()-&amp;gt;getResult(Query::HYDRATE_OBJECT);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and in your User entity you will need&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;public function addModules(Array $moduleEntities)\n{\n    foreach ($moduleEntities as $module) {\n        if ($module instanceof Module) {\n            $this-&amp;gt;modules[] = $module;\n        }\n    }\n    return $this;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;finally in your addUser method you will need to add the array of modules from the above DQL&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;public function addUser($newUser, $moduleEntities)\n{\n    $user = new User();\n    $user-&amp;gt;setName($newUser['name']);\n    ....\n    $user-&amp;gt;addModules($moduleEntities);\n    $this-&amp;gt;getEm()-&amp;gt;persist($user);\n    $this-&amp;gt;getEm()-&amp;gt;flush();\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I hope this helps&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Doctrine + Zend Framework 2：以多对多的关系插入数据数组", ["\n\n", "I have an application with Zend Framework2 and Doctrine2 as ORM.\nI have this Entity called User:", "\n\n", "namespace Adm\\Entity;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * @ORM\\Entity\n * @ORM\\Table(name=\"user\")\n */\nclass User{\n    /**\n     * @ORM\\Id\n     * @ORM\\Column(type=\"integer\");\n     * @ORM\\GeneratedValue(strategy=\"AUTO\")\n     */\n    protected $id;\n\n    /**\n     * @ORM\\Column(type=\"string\")\n     */\n    protected $name;\n\n    /**\n     * @ORM\\Column(type=\"string\")\n     */\n    protected $email;\n\n    /**\n     * @ORM\\Column(type=\"string\")\n     */\n    protected $password;\n\n    /**\n     * @ORM\\ManyToMany(targetEntity=\"Module\")\n     * @ORM\\JoinTable(\n     *  name=\"user_module\",\n     *  joinColumns={@ORM\\JoinColumn(name=\"user_id\", referencedColumnName=\"id\")},\n     *  inverseJoinColumns={@ORM\\JoinColumn(name=\"module_id\", referencedColumnName=\"id\")}\n     * )\n     */\n    protected $modules;\n\n    public function __construct() {\n        $this->modules = new \\Doctrine\\Common\\Collections\\ArrayCollection();\n    }\n\n    /**\n     * @return the $id\n     */\npublic function getId() {\n    return $this->id;\n}\n\n/**\n * @return the $name\n */\npublic function getName() {\n    return $this->name;\n}\n\n/**\n * @return the $email\n */\npublic function getEmail() {\n    return $this->email;\n}\n\n/**\n * @return the $password\n */\npublic function getPassword() {\n    return $this->password;\n}\n\n/**\n * @param field_type $id\n */\npublic function setId($id) {\n    $this->id = $id;\n}\n\n/**\n * @param field_type $name\n */\npublic function setName($name) {\n    $this->name = $name;\n}\n\n/**\n * @param field_type $email\n */\npublic function setEmail($email) {\n    $this->email = $email;\n}\n\n/**\n * @param field_type $password\n */\npublic function setPassword($password) {\n    $this->password = $password;\n}\n\n/**\n * Add module\n *\n * @param dm\\Entity\\Module\n * @return User\n */\npublic function addModules(Module $modules = null){\n    $this->modules[] = $modules;\n}\n\n/**\n * Get modules\n *\n * @return \\Doctrine\\Common\\Collections\\Collection\n */\npublic function getModules(){\n    return $this->modules;\n}\n\n}\n", "\n\n", "See the modules property is a relation Many to Many with a table called user_modules.\nAnd i have the Entity Module as well:", "\n\n", "namespace Adm\\Entity;\n\nuse Doctrine\\ORM\\Mapping as ORM;\nclass Module{\n/**\n * @ORM\\Id\n * @ORM\\Column(type=\"integer\");\n * @ORM\\GeneratedValue(strategy=\"AUTO\")\n */\nprivate $id;\n\n/**\n * @ORM\\Column(type=\"string\")\n */\nprivate $name;\n\n/**\n * @ORM\\Column(type=\"integer\")\n */\nprivate $status;\n\n/**\n * @return the $id\n */\npublic function getId() {\n    return $this->id;\n}\n\n/**\n * @return the $name\n */\npublic function getName() {\n    return $this->name;\n}\n\n/**\n * @return the $status\n */\npublic function getStatus() {\n    return $this->status;\n}\n\n/**\n * @param field_type $id\n */\npublic function setId($id) {\n    $this->id = $id;\n}\n\n/**\n * @param field_type $name\n */\npublic function setName($name) {\n    $this->name = $name;\n}\n\n/**\n * @param field_type $status\n */\npublic function setStatus($status) {\n    $this->status = $status;\n}\n\n}\n", "\n\n", "I receive a array variable containing the Post from a form to insert in a table. Each post element have it's property in Entity, as expected. Together, i have a $module variable which is an array containing id's of the modules. My question is: How do i insert this data in the user_module table?\nMy add function is this:", "\n\n", "public function addUser($newUser){\n        $user = new User();\n        $user->setName($newUser['name']);\n        ...\n        $this->getEm()->persist($user);\n        $this->getEm()->flush();\n    }\n", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你好&amp;#xff0c;假设你这个mat文件里面都是2203×2的数据&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;data_table &amp;#61; load(&lt;span class=\"hljs-string\"&gt;&amp;#39;BURER100JH-2.mat&amp;#39;&lt;/span&gt;);\nv &amp;#61; fieldnames(data_table);\nq &amp;#61; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;;\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; x &amp;#61; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; : &lt;span class=\"hljs-built_in\"&gt;length&lt;/span&gt;(v)\n    myVar &amp;#61; data_table.(v{x});\n        &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt;(&lt;span class=\"hljs-built_in\"&gt;size&lt;/span&gt;(myVar,&lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;)~&amp;#61;&lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;)\n              &lt;span class=\"hljs-keyword\"&gt;continue&lt;/span&gt;;\n         &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\n    q &amp;#61; q &amp;#43; myVar;\n&lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\nq &amp;#61; q/&lt;span class=\"hljs-built_in\"&gt;length&lt;/span&gt;(v); &lt;span class=\"hljs-comment\"&gt;% q就是你需要的&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何批量处理表格文件，对表格文件求平均值", ["把BURERJH这个mat文件导入工作区，并且批量处理求取平均值，并重新生成一个2203×2的表格，用mean函数只能单独处理，这样处理数据怎么写？"]], "Tag": "程序设计"}
{"Answer": "第8行和第34行拿到的是同一个connection吗？\r\n\r\n第8行拿了把它放个变量里吧，下面直接操作这个connection\r\nConncetion conn = jdbcTamplate2.getDataSource().getConnection()\r\n\r\n\r\n\r\n还有个问题，为什么第8行是jdbcTamplate2其它是jdbcTamplate1", "Konwledge_Point": "批量数据处理——数组", "Question": ["spring jdbctemplate batch 可以处理多少条记录", ["[code=\"java\"]", "\n//1、统计一共多少数据", "\n        int countNum = jdbcTamplate1.queryForInt(\"select count(0) from tabA\") ;", "\n\n", "    System.out.println(\"总记录条数为:\"+countNum);\n\n    int l = (countNum + 29999) / 30000 ;\n\n    jdbcTamplate2.getDataSource().getConnection().setAutoCommit(false) ;\n\n    for(int i=0; i<l; i++){\n\n        int startRowNum = i * 30000 ;\n        int endRowNum = (i+1) * 30000 ;\n        if(i == l-1){\n            endRowNum = countNum ;\n        }\n\n        //构造查询语句\n        StringBuilder sql = new StringBuilder() ;\n        sql.append(\"select ID, X, Y, from (\") ;\n        sql.append(\"select rownum r, ID, X, Y from tabA where rownum <= \") ;\n        sql.append(endRowNum + \" \") ;\n        sql.append(\"order by ID asc) \") ;\n        sql.append(\"where r > \") ;\n        sql.append(startRowNum) ;\n\n        List<Map<String, Object>> rs = jdbcTamplate1.queryForList(sql.toString()) ;             \n        System.out.println((i+1)+\"[]获得结果集记录数:\"+rs.size());\n\n        int[] ns = jdbcTamplate1.batchUpdate(Locrecord.INSERT_SQL, new LocrecordBatchSetter(rs)) ;\n\n        System.out.println((i+1)+\"[]本次batch记录数:\"+ns.length);\n\n        jdbcTamplate1.getDataSource().getConnection().commit() ;            \n\n        Thread.sleep(10000) ;\n\n        System.out.println((i+1)+\"[]本次循环结束！\");\n    }\n\n    jdbcTamplate1.getDataSource().getConnection().setAutoCommit(true) ;\n\n    [/code]\n\n其中，Locrecord.INSERT_SQL这个就是简单的insert语句，只插入3个字段，后边的这个LocrecordBatchSetter\n", "\n\n", "也很简单，就是把新表的字段和旧表的字段对应上。比如：", "\n[code=\"java\"]", "\npublic void setValues(PreparedStatement pstmt, int i) throws SQLException {", "\n\n", "Map<String, Object> obj = list.get(i) ;\n\npstmt.setString(1, obj.get(\"ID\")+\"\") ;\npstmt.setInt(2, (obj.get(\"X\")) ;\npstmt.setInt(3, obj.get(\"Y\")) ;\n", "\n\n", "}", "\n[/code]", "\n\n", "我是从一个库的表A导数据到另一个库的表B，他们的表结构不一样，只是提出部份可以匹配的字段。\n", "\n\n", "原表有数据73W，我每次导入3W，可是每次循环到21W数据的时候程序就没反应了。也不抛任何异常。控制台显示程序还在进行。", "\n\n", "去数据库一看，只有21W数据进入，剩下的就没戏了。想问问用过batch插入的兄弟们。你们碰见过这样的情况吗？", "\n应该如何解决呢？或者使用batch时，还应该注意哪些事情？"]], "Tag": "程序设计"}
{"Answer": "--建表 \r\ncreate table t (a number); \r\n--插入两条测试数据 \r\ninsert into t values(0); \r\ninsert into t values(0); \r\n--测试语句 \r\nselect case \r\n        when (select count(1) from t where t.a = 0) = \r\n              (select count(1) from t) then \r\n          '01' \r\n        when (select count(1) from t where t.a = 0) &lt;&gt; \r\n              (select count(1) from t) then \r\n          '02' \r\n        when (select count(1) from t where t.a = 2) &lt;&gt; \r\n              (select count(1) from t) then \r\n          '03' \r\n        when (select count(1) from t where t.a = 2) = 0 then \r\n          '04' \r\n        else \r\n          null \r\n      end as b \r\n  from dual;\r\n\t\r\n\t参考：http://bbs.csdn.net/topics/330059135", "Konwledge_Point": "批量数据处理——数组", "Question": ["怎么能做到oracle批量修改数据？？？？？", ["现在有一张表，数据量有十万，有一个字段是空的，现在要按数据量比例给这个字段设置三个不同的值，比如百分之三十的数据设置成1，百分之三十设置成2，剩下的百分之四十设置成3。比例无所谓不固定。", "\n有没有大神教一下啊。。。"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img align=\"left\" alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/161916611156195.png\" class=\"md_img\" /&gt;&lt;/p&gt;&lt;br /&gt;参考layui文档有文件上传&lt;p&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["layui导入execl文件批量新增", ["//上传页面", "\n<div ", "class", "=", "\"layui-upload-drag\"", " id=", "\"test10\"", ">\n  ", "<", "i", " ", "class", "=", "\"layui-icon\"", ">", "", "</", "i", ">", "\n  ", "<", "p", ">", "点击上传，或将文件拖拽到此处", "</", "p", ">", "\n  ", "<", "div", " ", "class", "=", "\"layui-hide\"", " ", "id", "=", "\"uploadDemoView\"", ">", "\n    ", "<", "hr", ">", "\n    ", "<", "img", " ", "src", "=", "\"\"", " ", "alt", "=", "\"上传成功后渲染\"", " ", "style", "=", "\"max-width: 196px\"", ">", "\n  ", "</", "div", ">", "\n", "</", "div", ">", "\n\n", "<", "script", ">", "\nlayui.", "use", "([", "'upload'", ", ", "'element'", ", ", "'layer'", "], ", "function", "(", "){\n  ", "var", " $ = layui.", "jquery", "\n  ,upload = layui.", "upload", "\n  ,element = layui.", "element", "\n  ,layer = layui.", "layer", ";\n  ", "var", " uploadInst = upload.", "render", "({\n     ", "elem", ": ", "'#test10'", "\n    ,", "url", ": ", "'upsql.php'", " \n    ,", "accept", ": ", "'file'", " ", "//普通文件", "\n    ,", "exts", ": ", "'xls'", " ", "//只允许上传压缩文件", "\n    ,", "done", ": ", "function", "(", "res", "){\n      layer.", "msg", "(", "'上传成功'", ");\n      layui.$(", "'#uploadDemoView'", ").", "removeClass", "(", "'layui-hide'", ").", "find", "(", "'img'", ").", "attr", "(", "'src'", ", res.", "files", ".", "file", ");\n      ", "console", ".", "log", "(res)\n    }\n  });\n});\n", "</", "script", ">", "\n", "\n", "\n", " \n", "//php获取execl导入数据库", "\n ", "require_once", " ", "'../EXECL/PHPExcel.php'", ";\n     ", "require_once", " ", "'../EXECL/PHPExcel/IOFactory.php'", ";\n     ", "require_once", " ", "'../EXECL/PHPExcel/Reader/Excel5.php'", ";\n     ", "//以上三步加载phpExcel的类", "\n\n    ", "$objReader", " = PHPExcel_IOFactory::createReader(", "'Excel5'", ");", "//use excel2007 for 2007 format ", "\n    ", "//接收存在缓存中的excel表格", "\n     ", "$filename", " = ", "$_FILES", "[", "'myfile'", "][", "'tmp_name'", "];\n     ", "$objPHPExcel", " = ", "$objReader", "->load(", "$filename", "); ", "//$filename可以是上传的表格，或者是指定的表格", "\n     ", "$sheet", " = ", "$objPHPExcel", "->getSheet(", "0", "); \n     ", "$highestRow", " = ", "$sheet", "->getHighestRow(); ", "// 取得总行数 ", "\n     ", "// $highestColumn = $sheet->getHighestColumn(); // 取得总列数", "\n    \n    ", "//循环读取excel表格,读取一条,插入一条", "\n     ", "//j表示从哪一行开始读取  从第二行开始读取，因为第一行是标题不保存", "\n     ", "//$a表示列号", "\n    ", "$link", "=connects();\n    ", "for", "(", "$j", "=", "2", ";", "$j", "<=", "$highestRow", ";", "$j", "++)  \n    {\n        ", "$name", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"A\"", ".", "$j", ")->getValue();\n        ", "$loginid", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"B\"", ".", "$j", ")->getValue();\n        ", "$sex", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"C\"", ".", "$j", ")->getValue();\n        ", "$idnum", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"D\"", ".", "$j", ")->getValue();\n        ", "$phone", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"E\"", ".", "$j", ")->getValue();\n        ", "$company", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"F\"", ".", "$j", ")->getValue();\n        ", "$department", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"G\"", ".", "$j", ")->getValue();\n        ", "$post", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"H\"", ".", "$j", ")->getValue();\n        ", "$school", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"I\"", ".", "$j", ")->getValue();\n        ", "$education", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"J\"", ".", "$j", ")->getValue();\n        ", "$major", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"K\"", ".", "$j", ")->getValue();\n        ", "$title", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"L\"", ".", "$j", ")->getValue();\n        ", "$rank", " = ", "$objPHPExcel", "->getActiveSheet()->getCell(", "\"M\"", ".", "$j", ")->getValue();\n        ", "$sql_count", " = ", "\"select * from student where classroomid = 6 and loginid = '", "{$loginid}", "'\"", ";\n        ", "$cont", " = num(", "$link", ",", "$sql_count", ");\n        ", "if", "(", "$cont", "!=", "0", "){\n          ", "echo", " ", "$j", ";\n        }", "else", "{\n          ", "$sql", "= ", "\"INSERT into student(name,loginid,sex,idnum,phone,company,department,post,school,education,major,title,rank,classroomid)\n          VALUES('", "{$name}", "','", "{$loginid}", "','", "{$sex}", "','", "{$idnum}", "','", "{$phone}", "','", "{$company}", "','", "{$department}", "','", "{$post}", "','", "{$school}", "','", "{$education}", "','", "{$major}", "','", "{$title}", "','", "{$rank}", "',6)\"", ";\n          ", "$res", " = ", "$link", "->query(", "$sql", ");\n        }\n       \n    }\n }\n}\n \nupExecel();\n ", "?>", "\n", "\n", "我现在不知道怎么把layui里导入的execl给php， 如果我用 <input type=\"file\" name=\"myfile\" />", "  这个上传没有问题。  就是想要layui的拖拽效果"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;update visitor set annoncement_count &amp;#61; 你要设置的值 ,dynamic_count&amp;#61; 你要设置的值, law_count&amp;#61;你要设置的值&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql批量修改数据(数据完善)", ["一共700多条数据，怎么才能快速的把后边空白的数据给加上，求解"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;看了github上的issue 5.0以前的版本确实不支持 不想升版本只有重写sql&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["sharding-jdbc是否不支持mysql批量更新？", ["\nON DUPLICATE KEY UPDATE 之前没有引入分表都是正常，现在报key冲突的错误"]], "Tag": "程序设计"}
{"Answer": "https://www.2cto.com/database/201701/589415.html", "Konwledge_Point": "批量数据处理——数组", "Question": ["oracle数据库批量修改一个字段数据", ["有一张表，数据量十万，有一个字段是空的，怎么按数据量的比例给这个字段设置不同的值，比如百分之三十设置1，百分之三十设置2，剩下的百分之四十设置3，比例无所谓，不固定的。", "\n或者是批量给指定的数据量设置值，比如指定前叁万条设置成1，中间叁万条设置成2，剩下的四万条设置成3。"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;example for sorting multi array by similar_text &lt;a href=\"https://3v4l.org/XUBDD#output\" rel=\"nofollow noreferrer\"&gt;https://3v4l.org/XUBDD#output&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$json = '{\n    \"result\": {\n        \"anime\": [\n            {\n                \"rowid\": \"2\",\n                \"title\": \"Dusk Maiden of Amnesia\",\n                \"pic\": \"\\/\\/i.imgur.com\\/J4HRnHP.jpg\",\n                \"slug\": \"Dusk-Maiden-of-Amnesia-dub\",\n                \"year\": \"2012\",\n                \"status\": \"done\",\n                \"descript\": \"The story revolves around a first-year middle school student, Teiichi Niiya who had just enrolled at Seikyou Private Academy. When he gets lost in one of the schools old buildings, he meets a girl named Yuuko Kanoe who reveals herself as a ghost with no memories. Teiichi then decides to investigate her death by looking through the schools seven mysteries revolving around her. Throughout the story, Teiichi and Yuuko discover the truth about these ghost stories while helping those who are troubled.\",\n                \"tags\": \"Mystery,,Romance,,School Club,,School Life,,Supernatural,,High School\"\n            },\n            {\n                \"rowid\": \"12\",\n                \"title\": \"Accel World\",\n                \"pic\": \"https:\\/\\/i.imgur.com\\/65gNsOX.png\",\n                \"slug\": \"Accel-World-dub\",\n                \"year\": \"2012\",\n                \"status\": \"done\",\n                \"descript\": \"Haruyuki+%22Haru%22+Arita+is+a+short%2C+overweight+boy+who+is+frequently+ridiculed+by+delinquents+at+the+Umesato+Junior+High+School.+Using+his+Neuro+Linker+to+escape+the+torment+of+real+life%2C+he+logs+onto+the+school%27s+Local+Network+cyberspace+where+he+always+plays+virtual+squash+alone%2C+and+his+innate+video+game+skills+bring+him+to+the+attention+of+Kuroyukihime+%28literally+meaning+%22Black+Snow+Princess%22%29%2C+the+school%27s+popular%2C+highly+intellectual+and+attractive+female+Student+Council+Vice-President.++After+helping+him+against+the+delinquents%2C+Kuroyukihime+introduces+Haruyuki+to+Brain+Burst%2C+a+secret+program+that+is+able+to+accelerate+the+human+cognitive+process+to+the+point+at+which+time+appears+to+stop.+Haruyuki+soon+learns+that+Brain+Burst+is+more+than+just+a+program%2C+but+an+Augmented+Reality+Massively+Multiplayer+Online+%28ARMMO%29+Fighting+Game+where+people+fight+each+other+in+fierce+duels+in+order+to+obtain+Burst+Points+which+can+be+spent+for+acceleration+abilities+in+the+real+world.\",\n                \"tags\": \"Action,,Sci Fi,,Based On A Light Novel,,Futuristic,,Virtual Reality\"\n            },\n            {\n                \"rowid\": \"7\",\n                \"title\": \"Parasyte the maxim\",\n                \"pic\": \"https:\\/\\/i.imgur.com\\/AY7WkqY.jpg\",\n                \"slug\": \"Parasyte-the-maxim-dub\",\n                \"year\": \"2014\",\n                \"status\": \"done\",\n                \"descript\": \"17-year-old+Izumi+Shinichi+lives+with+his+mother+and+father+in+a+quiet+neighborhood+in+Tokyo.+One+night%2C+worm-like+aliens+called+Parasytes+invade+Earth%2C+taking+over+the+brains+of+human+hosts+by+entering+through+their+ears+or+noses.+One+Parasyte+attempts+to+crawl+into+Shinichi%27s+ear+while+he+sleeps%2C+but+fails+since+he+is+wearing+headphones%2C+and+enters+his+body+by+burrowing+into+his+arm+instead%2C+taking+over+his+right+hand+and+is+named+Migi.+Because+Shinichi+was+able+to+prevent+Migi+from+traveling+further+up+into+his+brain%2C+both+beings+retain+their+separate+intellect+and+personality.+As+the+duo+encounter+other+Parasytes%2C+they+capitalize+on+their+strange+situation+and+gradually+form+a+strong+bond%2C+working+together+to+survive.+This+gives+them+an+edge+in+battling+other+Parasytes%2C+who+frequently+attack+the+pair+upon+realization+that+Shinichi%27s+human+brain+is+still+intact.+Shinichi+feels+compelled+to+fight+other+Parasytes%2C+who+devour+humans+as+food%2C+while+enlisting+Migi%27s+help.\",\n                \"tags\": \"Action,,Horror,,Sci Fi,,Aliens,,Body Sharing,,Bullying,,Explicit Violence,,Psychological\"\n            }\n        ],\n        \"Current_page\": \"1\",\n        \"Total_Pages\": 75,\n        \"PerPage\": 3,\n        \"Total\": 224\n    }\n}';\n$userInput = \"maxim\";\n$jsonf = json_decode($json, true);\n  usort($jsonf['result']['anime'], function ($a, $b) use ($userInput) {\n    similar_text($userInput, $a['title'], $percentA);\n    similar_text($userInput, $b['title'], $percentB);\n\n    return $percentA === $percentB ? 0 : ($percentA &amp;gt; $percentB ? -1 : 1);\n}); \necho json_encode($jsonf);\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何使用similar_text（）对多数组进行排序？", ["\n\n", "How can sort an array by an objects value?", "\n\n", "$cars = array\n(\narray(\"Volvo\",22,18),\narray(\"BMWx\",15,13),\narray(\"Saabmove\",5,2),\narray(\"Land Rovermove\",17,15)\n);\n", "\n\n", "Array should be in order based on similarity of value.", "\n    "]], "Tag": "程序设计"}
{"Answer": "真是没有什么好方法了，给你一篇文章看看\r\n[url]http://hi.baidu.com/jabber/blog/item/adc442ed647adad4b31cb11e.html[/url]", "Konwledge_Point": "批量数据处理——数组", "Question": ["分表分库后如何进行批量查询", ["请问：mysql分表分库后如何进行批量查询 ", "\n 假如：我把一个read表分为二个数据库,30个表,", "\n  单独查询一条数据没任何问题,但是如果批量数据,,就需要同时连接二个数据库和30个表,其速度可想而知会很慢的..", "\n\n", "参考答案给出的是：启几个线程并行来查，最后把结果集合并，我想每个人都知道，最关键是结果集怎么合并 ？", "\n假定你查询的数据量有1万条并且要求按时间排序显示，难道你要每条都比较？如果这样的话，不用比较，单数据放到内存就受不了。", "\n如果再要求按时间分页排序显示呢？肯定更麻烦，怎么准确按时间分页呢？", "\n我想请问你：实际项目中，你对分表分库批量查询 是怎样做得？或者有什么心得？", "\n期待你的帮助"]], "Tag": "程序设计"}
{"Answer": "如你需要从页面修改一些属性 估计没什么特别好的办法！！！\r\n获取参数值直接插入：\r\n\r\ninsert into 表名 （学号，姓名，学费） values （），（），（）。。。。。。", "Konwledge_Point": "批量数据处理——数组", "Question": [" 怎么批量插入数据！！求高手！！！！！！！！！！！！！！！", ["在做批量插入数据时不知道怎么样处理？", "\n  就是在页面从Excel中用list获取了学号，姓名，学费等数据", "\n    想将这些数据导入到数据库中，并且学费是可以在页面改的。。", "\n\n", "想知道怎么样处理？？？\n", "\n\n", "求高手！！！！！！！！！！！！！！！！！"]], "Tag": "程序设计"}
{"Answer": "第26行，`listxixi.append(aa+bb+cc+dd)`，改成`listxixi.append([aa, bb, cc, dd])`。你的sql写的也有点问题，前面五个字段，后面四个占位符，对不上的，字段序也要调整下。", "Konwledge_Point": "批量数据处理——数组", "Question": ["python 批量插入mysql 如何把list分隔开来", ["\n\n", "用批量插入插入到的是一列， 不知道怎么把他插入到5列，是要用5个list吗"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;##路径改成你的应该可以直接跑 &amp;#xff0c;试一下&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-python\"&gt;\nimport pandas as pd\nimport os\n\n&lt;span class=\"hljs-attribute\"&gt;path&lt;/span&gt;&amp;#61;&lt;span class=\"hljs-string\"&gt;&amp;#39;desktop/CM_report_C00/&amp;#39;&lt;/span&gt;\n\n&lt;span class=\"hljs-attribute\"&gt;dirs&lt;/span&gt;&amp;#61;os.listdir(path) ##子文件夹\n\nfct&amp;#61;{}\n&lt;span class=\"hljs-attribute\"&gt;allinone&lt;/span&gt;&amp;#61;pd.DataFrame()\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; dir1 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; dirs:\n    &lt;span class=\"hljs-attribute\"&gt;path1&lt;/span&gt;&amp;#61;path&amp;#43;dir1&amp;#43;&amp;#39;/&amp;#39;\n    &lt;span class=\"hljs-attribute\"&gt;fs&lt;/span&gt;&amp;#61;os.listdir(path1)\n    &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; f &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; fs:\n        fct[f[0:14]]&amp;#61;fct.&lt;span class=\"hljs-built_in\"&gt;get&lt;/span&gt;(f[0:14],0)&amp;#43;1  ##前14位的次数\n        &lt;span class=\"hljs-attribute\"&gt;df1&lt;/span&gt;&amp;#61;pd.read_csv(path1&amp;#43;f)\n        df1.iloc[0,0:2]&amp;#61;df1.iloc[1,0:2] ##第二行1,2列替换成第三行1,2列的值\n        df1.to_csv(path1&amp;#43;f,&lt;span class=\"hljs-attribute\"&gt;index&lt;/span&gt;&amp;#61;0) ##修改原始文件\n        &lt;span class=\"hljs-attribute\"&gt;allinone&lt;/span&gt;&amp;#61;pd.concat([allinone,df1]) ##合并修改后的结果\n\n&lt;span class=\"hljs-attribute\"&gt;report&lt;/span&gt;&amp;#61;pd.DataFrame({&lt;!-- --&gt;&lt;span class=\"hljs-string\"&gt;&amp;#39;nm&amp;#39;&lt;/span&gt;:fct.keys(),&lt;span class=\"hljs-string\"&gt;&amp;#39;ct&amp;#39;&lt;/span&gt;:fct.values()})\nreport.to_csv(&lt;span class=\"hljs-string\"&gt;&amp;#39;desktop/report.csv&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-attribute\"&gt;index&lt;/span&gt;&amp;#61;0)\n&lt;span class=\"hljs-attribute\"&gt;cols&lt;/span&gt;&amp;#61;list(df1.columns)\ncols[-1]&amp;#61;&lt;span class=\"hljs-string\"&gt;&amp;#39;path&amp;#39;&lt;/span&gt;  ##最后一个head \nallinone.&lt;span class=\"hljs-attribute\"&gt;columns&lt;/span&gt;&amp;#61;cols\nallinone.to_csv(&lt;span class=\"hljs-string\"&gt;&amp;#39;desktop/allinone.csv&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-attribute\"&gt;index&lt;/span&gt;&amp;#61;0)\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python 做CSV 批量数据分析处理", ["Python 0基础，工作原因需要进行大量数据处理，问题如下：", "\n", "\n", "有以下路径：desktop/CM_report_C00/ 下多个sub folders, 每个sub- folder 有若干csv 文件，每个csv 文件内容如下图所示：", "\n", "\n", "需要实现3个目标：", "\n", "遍历所有子文件夹，统计csv ", "文件名", "中前14位出现的频次，例如 LE2B029-080104 出现1次，生成report.csv文件记录，此处并非遍历csv 内部内容的serial Number 出现的次数，只是", "看csv 文件名的前14位", "，确认是否有的产品测试了两次。", "遍历所有csv 文件，将每个csv 的", "第三行前两列", "写入", "第二行前两列", "，无需生成新文件，在原文件做覆盖修改即可。", "将第二步修改后的所有子文件夹的csv 文件merge 成一个allinone.csv，因原文件headname 最后一列缺失，增加最后一列的headname 为“path”", "\n", "略附悬赏，望帮助", "\n", "需注意的是，原文件的所有csv 文件，均如下图所示，", "最后一列没有head name", "，我之前尝试使用pandas 的时候会报错", "\n", "\n", "引用ShowmeAI 的答案，报错如下：", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Well You Can Get The Last Id from the table .. Then After The Insertion Add The Last id To The Count of your array .. But you Will face a problem and that is if you have 2 or more users inserted some records into this table at the same time .. so you can use The Transaction &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt; try{\n    DB::beginTransaction();\n\n   // 1- get the last id of your table ($lastIdBeforeInsertion)\n\n   // 2- insert your data\n    Model::insert($array);\n\n  // 3- Getting the last inserted ids\n  $insertedIds = [];\n  for($i=1; $i&amp;lt;=theCountOfTheArray; $i++)\n     array_push($insertedIds, $lastIdBeforeInsertion+$i);\n\n});\n\n    DB::commit();\n}catch(\\Exception $e){\n    DB::rollback();\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;DB::transaction(function() {\n\n   // 1- get the last id of your table ($lastIdBeforeInsertion)\n\n   // 2- insert your data\n   Model::insert($array);\n\n  // 3- Getting the last inserted ids\n  $insertedIds = [];\n  for($i=1; $i&amp;lt;=theCountOfTheArray; $i++)\n     array_push($insertedIds, $lastIdBeforeInsertion+$i);\n\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=\"https://laravel.com/docs/5.0/database#database-transactions\" rel=\"nofollow noreferrer\"&gt;Database Transaction Documentation&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"http://fideloper.com/laravel-database-transactions\" rel=\"nofollow noreferrer\"&gt;Very Useful Article About Database Transactions&lt;/a&gt;&lt;/p&gt;\n\n&lt;h2&gt;Edit&lt;/h2&gt;\n\n&lt;p&gt;You Can make a unique Column and Call it for Example &lt;code&gt;unique_bulk_id&lt;/code&gt; .. This will hold randomly generated string for the inserted data .. after the insertion you can get the inserted data by This &lt;code&gt;unique_bulk_id&lt;/code&gt;. &lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量插入并获得返回的ids laravel", ["\n\n", "I have an array like this one :", "\n\n", " 0 => array:2 [\n    \"name\" => \"Data1\"\n    \"type\" => \"value1\"\n  ],\n 1 => array:2 [\n    \"name\" => \"Data2\"\n    \"type\" => \"value2\"\n  ]\n", "\n\n", "i want to insert them in single query in the database and retrieve their ids without any additional query.", "\n\n", "So far i have tried ", "insertGetId", "\n\n", "MyModel::insertGetId($array)\n", "\n\n", "but i have noticed it inserts bulk rows but return the last id.", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;&lt;code class=\"language-python\"&gt;&lt;span class=\"hljs-keyword\"&gt;import&lt;/span&gt; os\n&lt;span class=\"hljs-keyword\"&gt;import&lt;/span&gt; json\n\npath &amp;#61; &lt;span class=\"hljs-string\"&gt;r&amp;#39;path&amp;#39;&lt;/span&gt;  &lt;span class=\"hljs-comment\"&gt;# 原数据路径&lt;/span&gt;\njson_list &amp;#61; os.listdir(path)\npath_n &amp;#61; &lt;span class=\"hljs-string\"&gt;r&amp;#39;path&amp;#39;&lt;/span&gt;  &lt;span class=\"hljs-comment\"&gt;# 新数据路径&lt;/span&gt;\njson_list_n &amp;#61; os.listdir(path_n)\n\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; index &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;range&lt;/span&gt;(&lt;span class=\"hljs-built_in\"&gt;len&lt;/span&gt;(json_list)):\n    &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; os.path.splitext(json_list[index])[-&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;] &amp;#61;&amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;.json&amp;#39;&lt;/span&gt;:\n\n        &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;原__&amp;#39;&lt;/span&gt;, json_list[index])\n        &lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(os.path.join(path, json_list[index]), &lt;span class=\"hljs-string\"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;, encoding&amp;#61;&lt;span class=\"hljs-string\"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; load_f:\n            data_old &amp;#61; json.load(load_f)\n            shape &amp;#61; data_old[&lt;span class=\"hljs-string\"&gt;&amp;#39;shapes&amp;#39;&lt;/span&gt;][-&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;]\n            &lt;span class=\"hljs-comment\"&gt;# print(shape)&lt;/span&gt;\n        &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; os.path.splitext(json_list_n[index])[-&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;] &amp;#61;&amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;.json&amp;#39;&lt;/span&gt;:\n            &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;新__&amp;#39;&lt;/span&gt;, json_list_n[index])\n            &lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(os.path.join(path_n, json_list_n[index]), &lt;span class=\"hljs-string\"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;, encoding&amp;#61;&lt;span class=\"hljs-string\"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; dump_f:\n                data_new &amp;#61; json.load(dump_f)\n                data_new[&lt;span class=\"hljs-string\"&gt;&amp;#39;imageData&amp;#39;&lt;/span&gt;] &amp;#61; &lt;span class=\"hljs-literal\"&gt;None&lt;/span&gt;\n                shape_n &amp;#61; data_new[&lt;span class=\"hljs-string\"&gt;&amp;#39;shapes&amp;#39;&lt;/span&gt;]\n                shape_n.append(shape)\n                &lt;span class=\"hljs-comment\"&gt;# print(shape_n)&lt;/span&gt;\n            &lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(os.path.join(path_n, json_list_n[index]), &lt;span class=\"hljs-string\"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;, encoding&amp;#61;&lt;span class=\"hljs-string\"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; f_add:\n                json.dump(data_new, f_add, indent&amp;#61;&lt;span class=\"hljs-number\"&gt;2&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;确保顺序一致&amp;#xff0c;不值得话先排个序就行&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["json批量追加数据问题", ["import", " os\n", "import", " json\n\npath = ", "r'path'", "      ", "#原数据路径", "\njson_list = os.listdir(path)\npath_n = ", "r'path'", "    ", "#新数据路径", "\njson_list_n = os.listdir(path_n)\n\ni = ", "0", "\n", "for", " f ", "in", " json_list:\n    ", "if", " os.path.splitext(f)[-", "1", "] == ", "'.json'", ":\n        i += ", "1", "\n        ", "print", "(", "'原__'", ",f)\n        ", "with", " ", "open", "(os.path.join(path,f),", "'r'", ",encoding=", "'utf-8'", ") ", "as", " load_f:\n            data_old  = json.load(load_f)\n            shape = data_old[", "'shapes'", "][-", "1", "]\n            ", "#print(shape)", "\n\n", "for", " f_n ", "in", " json_list_n:\n    ", "if", " os.path.splitext(f_n)[-", "1", "] == ", "'.json'", ":\n        i += ", "1", "\n        ", "print", "(", "'新__'", ",f_n)\n        ", "with", " ", "open", "(os.path.join(path_n,f_n),", "'r'", ",encoding=", "'utf-8'", ") ", "as", " dump_f:\n            data_new  = json.load(dump_f)\n            data_new[", "'imageData'", "] = ", "None", "\n            shape_n = data_new[", "'shapes'", "]\n            shape_n.append(shape)\n            ", "#print(shape_n)", "\n        ", "with", " ", "open", "(os.path.join(path_n,f_n),", "'w'", ",encoding=", "'utf-8'", ") ", "as", " f_add:\n            json.dump(data_new,f_add,indent=", "2", ")\n\n\n\n", "\n", "有原4个json文件和新的4个json文件，我想要新的json数据分别更新到原的json里面。为什么我写的代码不能一对一更新?", "比如我要的结果是:  原1.json更新到新1.json；   原2.json更新到新2.json。", "但现在的结果是只能看到原4.json 统一更新到新  1  2  3   4。需要修改哪里呀 "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;我就拿accl2to10.txt这个文件的处理办法举个例子&lt;br /&gt;&lt;strong&gt;假设你所有的类似文件夹都放在当前路径下&lt;/strong&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;d &amp;#61; dir(&lt;span class=\"hljs-string\"&gt;&amp;#39;*accl2to10.txt&amp;#39;&lt;/span&gt;);\n&lt;span class=\"hljs-comment\"&gt;%每一列的最大值&lt;/span&gt;\na &amp;#61; arrayfun(&amp;#64;(&lt;span class=\"hljs-built_in\"&gt;i&lt;/span&gt;)&lt;span class=\"hljs-built_in\"&gt;max&lt;/span&gt;(load([d(&lt;span class=\"hljs-built_in\"&gt;i&lt;/span&gt;).folder,&lt;span class=\"hljs-string\"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,d(&lt;span class=\"hljs-built_in\"&gt;i&lt;/span&gt;).name])), (&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:&lt;span class=\"hljs-built_in\"&gt;numel&lt;/span&gt;(d))&amp;#39;, &lt;span class=\"hljs-string\"&gt;&amp;#39;uniform&amp;#39;&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何用matlab批量提取同一文件夹下的txt文件所有数据，并求极值", ["目的：希望批量处理文件夹内所有TXT文件（纯数字的数据），并得到每一列或其中某几列的最大值", "问题：类似的文件夹很多，里面的TXT文件名都不同，例如想求accl2to10.txt文件每一列的最大值，求Column1to9.txt从1到最后，间隔5列的最大值"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你好&amp;#xff0c;我是有问必答小助手&amp;#xff0c;非常抱歉&amp;#xff0c;本次您提出的有问必答问题&amp;#xff0c;技术专家团超时未为您做出解答&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;本次提问扣除的有问必答次数&amp;#xff0c;将会以问答VIP体验卡&amp;#xff08;1次有问必答机会、商城购买实体图书享受95折优惠&amp;#xff09;的形式为您补发到账户。&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;因为有问必答VIP体验卡有效期仅有1天&amp;#xff0c;您在需要使用的时候【私信】联系我&amp;#xff0c;我会为您补发。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量读取nc文件，并限制经纬度和时间提取需要是降水影响因子。", ["问题遇到的现象和发生背景", "\n", "使用批量读取nc文件，filelist读取不出来，在限制经纬度和时间时，总是出现索引报错", "\n", "问题相关代码，请勿粘贴截图", "\n", "%%", "\n", "%批量读取nc  位势高度场、经向风、纬向风,比湿场,相对湿度", "\nclear all\nclc\ndatadir=", "'D:\\desktop\\data'", "; ", "%指定批量数据所在的文件夹", "\nfilelist=dir([datadir,", "'*.nc'", "]);           ", "%列出所有满足指定类型的文件", "\nLonData=cell(", "1", ",", "1", ");\nLatData=cell(", "1", ",", "1", ");\nlevelData1=cell(", "1", ",", "1", ");", "%存放位势高度场、经向风、纬向风的层数", "\nlevelData2=cell(", "1", ",", "1", ");", "%存放比湿的层数", "\nTimeData=cell(", "1", ",", "1", ");\nhgtData=cell(", "1", ",", "1", ");\nuwndData=cell(", "1", ",", "1", ");\nvwndData=cell(", "1", ",", "1", ");\nshumData=cell(", "1", ",", "1", ");\nk=", "length", "(filelist);\n", "%读取位势高度场", "\n", "for", "  s = ", "1", ":k\n    ncid1 =[datadir,filelist(s).name];\n    hgtData{", "1", ",", "1", "} = ncread(ncid1,", "'hgt'", "); ", "%读入变量 位势高度场", "\n    LonData{", "1", ",", "1", "}  = ncread(ncid1,", "'lon'", "); ", "%读入变量lon 经度", "\n    LatData{", "1", ",", "1", "}= ncread(ncid1,", "'lat'", "); ", "%读入变量lat 纬度", "\n    levelData1{", "1", ",", "1", "}= ncread(ncid1,", "'level'", ");", "%存放位势高度场、经向风、纬向风的层数", "\n    TimeData{", "1", ",", "1", "}= ncread(ncid1,", "'time'", ");", "%存放位势高度场，比湿，风场的时次", "\n    ", "%读取比湿场", "\n    ncid2 =[datadir,filelist(s).name];\n    shumData{", "1", ",", "1", "}= ncread(ncid2,", "'shum'", "); ", "%读取比湿", "\n    levelData2{", "1", ",", "1", "}= ncread(ncid2,", "'level'", ");", "%存放比湿的层数", "\n    ", "%读取经向风", "\n    ncid3 =[datadir,filelist(s).name];\n    uwndData{", "1", ",", "1", "} = ncread(ncid3,", "'uwnd'", "); ", "%读入变量 经向风", "\n    ", "%读取纬向风", "\n    ncid4 =[datadir,filelist(s).name];\n    vwndData{", "1", ",", "1", "} = ncread(ncid4,", "'vwnd'", "); ", "%读入变量 纬向风", "\n    ", "%读取相对湿度", "\n    ncid5 = [datadir,filelist(s).name];\n    rhumDara{", "1", ",", "1", "} = ncread(ncid5,", "'rhum'", ");", "%读取相对湿度", "\n    levelData3{", "1", ",", "1", "}= ncread(ncid5,", "'level'", ");", "%存放比湿的层数", "\n    save(", "'D:\\\\desktop\\\\data\\\\climateplot.mat'", ",", "'hgtData'", ",", "'shumData'", ",", "'uwndData'", ",", "'vwndData'", ",", "'LonData'", ",", "'LatData'", ",", "'hgtData'", ",", "'rhumData'", ");", "%获取数据", "\n", "end", "\n", "%%", "\n", "%获取需要的数据,2000年-2021年，5，6，7，8月，纬向风，比湿，经向风选取850hPa,位势高度选取200，500，850hPa,", "\n", "%109°36′-111°29′,北纬24°15′-26 °23′E,", "\nshumData1=cell(", "21", ",", "4", ");", "%建立指针  5-8月的比湿", "\nrhumData = cell(", "21", ",", "4", ");", "%建立指针 5-8月的相对湿度", "\nhgtData2001=cell(", "21", ",", "4", ");", "%建立指针  5-8月的200hPa位势高度场", "\nhgtData5001=cell(", "21", ",", "4", ");", "%建立指针  5-8月的500hPa位势高度场", "\nhgtData8501=cell(", "21", ",", "4", ");", "%建立指针  5-8月的850hPa位势高度场", "\nuwndData1=cell(", "21", ",", "4", ");", "%建立指针  5-8月的经向风", "\nvwndData1=cell(", "21", ",", "4", ");", "%建立指针  5-8月的纬向风", "\nk=", "529", ":", "12", ":", "872", ";", "%表示从2000.5-2020.8", "\n    ", "for", " m=", "1", ":", "21", "\n        ", "for", " n=", "1", ":", "4", "\nshumData1{m,n}=", "squeeze", "(shumData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "3", ",k(m)+(n", "-1", ")));", "%存取5\\6\\7\\8月份比湿数据,3代表850hPa,109：111经度,24-26纬度", "\nuwndData1{m,n}=", "squeeze", "(uwndData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "3", ",k(m)+(n", "-1", ")));", "%存取5\\6\\7\\8月份经向风数据,3代表850hPa,109：111经度,24-26纬度", "\nvwndData1{m,n}=", "squeeze", "(vwndData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "3", ",k(m)+(n", "-1", ")));", "%存取5\\6\\7\\8月份纬向风数据,3代表850hPa,109：111经度,24-26纬度", "\nrhumData{m,n}= ", "squeeze", "(rhumData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "10", ",k(m)+(n", "-1", ")));", "%存取5\\6\\7\\8月份相对湿度数据,3代表850hPa,109：111经度,24-26纬度", "\nhgtData8501{m,n}=", "squeeze", "(hgtData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "3", ",k(m)+(n", "-1", ")));", "%850hPa位势高度", "\nhgtData5001{m,n}=", "squeeze", "(hgtData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "6", ",k(m)+(n", "-1", ")));", "%500hPa位势高度", "\nhgtData2001{m,n}=", "squeeze", "(hgtData{", "1", ",", "1", "}(", "43", ":", "45", ",", "9", ":", "11", ",", "10", ",k(m)+(n", "-1", ")));", "%200hPa位势高度", "\n\n        ", "end", "\n    ", "end", "\nsave(", "'D:\\\\desktop\\\\data\\\\climateHC.mat'", ",", "'hgtData2001'", ",", "'shumData1'", ",", "'uwndData1'", ",", "'vwndData1'", ",", "'hgtData5001'", ",", "'hgtData8501'", ",", "'rhumData'", ");", "%获取数据", "\n\n", "\n", "运行结果及报错内容", "\n", "filelist读取不出来，54行位置1处索引超出数组边界", "\n", "我的解答思路和尝试过的方法", "\n", "我尝试使用单个读取模型，不采用批量读取文件可解决filelist读取不出的错误。但是在经纬度和时间限制下提取还是出现索引报错", "\n", "我想要达到的结果", "\n", "成功准确的提取出影响因子并保存", "数据链接：", "https://www.aliyundrive.com/s/vrYRDKmXumX"]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;\n&lt;code class=\"language-python\"&gt;#-*- coding:utf-8 -*-\nimport os\nimport pandas as pd\nimport re\n\npath &amp;#61; r&amp;#34;E:\\xxx&amp;#34; #读取excel目录路径\nFileNames&amp;#61;os.listdir(path)\nfor fn in FileNames:\n    if re.search(r&amp;#39;\\.xlsx?$&amp;#39;,fn):\n        fullfilename&amp;#61;os.path.join(path,fn)\n        df &amp;#61; pd.read_excel(fullfilename)\n        print(fn) #文件名\n        print(df) #你需要什么数据通过pandas的方法在df中获取就行了\n        print(df.iloc[0,1]) #比如取0行1列的数据\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt; &lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量提取excel表格指定格数据", ["如何批量提取同一文件夹里多个Excel文件指定单元格的数据（文件名和数据）"]], "Tag": "程序设计"}
{"Answer": "有的时候，我们需要一次性插入很多的数据或者一次性更新、删除很多的数据，这是为了提高效率。假如不用批处理 ，相当于是一条一条的插入。而批处理是一次性的修改数据，这样减少了数据库连接的消耗。\r\n至于ibaits 执行\r\n\r\n   sqlMapClient.startBatch();  \r\n   .....\r\n   sqlMapClient.executeBatch();  \r\n\r\n,我认为ibatis是对statement的addBatch()方法做了封装。源码没看过 ，但认为原理是这样。\r\n在我做过的项目里，基本是一次性修改万级以上的数据时 会用批处理，我会把数据分多批，一批一批的处理 这样速度快。", "Konwledge_Point": "批量数据处理——数组", "Question": ["Ibatis怎么做批量更新？？？？？", ["<insert id=\"updateStatusBatch\" parameterClass=\"hashMap\">   ", "update   ", "Question   ", "set   ", "status = #status#   ", "<dynamic prepend=\"where questionId in\">   ", "<isNotNull property=\"actionIds\">   ", "<iterate property=\"actionIds\" open=\"(\" close=\")\" conjunction=\",\">   ", "#actionIds[]#   ", "</iterate>   ", "</isNotNull>   ", "</dynamic>   ", "</insert>  ", "上面的解析成sql就是", " update Question  set status = \"OK\"  where questionId in(1,2,3,4,5...)", "\n\n", "到网上找了很多ibatis批量更新的例子，基本上都是这样，我心想难道他们做的项目中只遇到这种把in中的id的status全部更新为同一个值吗，如果每个id对应的status不同呢，怎么做,难道把sql全部放到iterate中吗，这样和for循环没什么区别,郁闷中。。。", "小弟不才，刚接触ibatis,想请问ibatis是怎样做批量增改的，", "PS：只是单独的ibatis项目，不和spring集成", "\n\n", " "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;用数据库客户端导入&amp;#xff0c;可以将sql、csv等类型数据导入。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何将csv文件批量存入mysql数据库中", ["问题遇到的现象和发生背景", "\n", "如何将csv文件批量存入mysql数据库中，因为数据量比较大（一个文件最多有10万+条数据），所以想找一个比较快速的方法", "\n", "用代码块功能插入代码，请勿粘贴截图", "\n\n", "我的解答思路和尝试过的方法", "\n", "之前尝试过用python，pandas读取csv，再用pymysql逐条插入数据库表中，但是感觉速度太慢了", "用DataGrip的导入功能比较快，但是不知道如何才能自动化插入操作！", "\n", "我想要达到的结果", "\n", "需要将4000多只股票的每日成交数据导入到MySQL数据库！", "\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;I did something similar not too long ago.  I wrote a function that logs the progress to a text file as a JSON object.  Then I wrote a PHP function that returns that JSON object to the browser at certain intervals as requested by jQuery.  &lt;/p&gt;\n\n&lt;p&gt;My PHP code looks similar to this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function logProgress($task, $status, $progress) {\n\n\n$basedir = \"/var/www/\" . SITE_ROOT . \"/\";\n$log_file = $basedir . \"logs/progress.log\";\n\n$logFileContent = file_get_contents($mrp_log_file);\n\nif($logFileContent){\n    $logFileArray = json_decode($logFileContent, TRUE);\n} else {\n    $logFileArray = array();\n}\n\n$logFileArray[$task]=array('task'=&amp;gt;$task,'status'=&amp;gt;$status,'progress'=&amp;gt;$progress);\n\n$logFile = fopen($log_file, 'w+') or error_log(\"Failed to open progress file $mrp_log_file for writing\");\n\nfwrite($logFile, json_encode($logFileArray));\n\nfclose($logFile);\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Retrieving the data is as simple as this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function readProgressLog() {\n//Returns a JSON object stored in the progress log.\n$basedir = \"/var/www/\" . SITE_ROOT . \"/\";\n$log_file = $basedir . \"logs/progress.log\";\n\n$logFileContents = file_get_contents($log_file);\n\nreturn $logFileContents;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}&lt;/p&gt;\n\n&lt;p&gt;From jQuery, you would make two AJAX calls, one to initiate your process, and one to poll the text file.  My javascript for the polling call looks like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function updateProgress() {\nvar data = {\n    action:'getProgressUpdate'};\nvar settings = {success: function(json){\n    var done = false;\n\n    if(json!=null) {\n        //Put your code to update the progress bar here.\n                    //I look for a JSON property called Done to flag the process as completed.                      \n        if(json.Done==null) {\n            var t2 = setTimeout(\"updateProgress()\", 1000);\n        } else {\n            clearTimeout(t2);\n            done = true;\n            clearProgressLog();\n        }\n    } else {\n         var t2 = setTimeout(\"updateProgress()\", 1000);\n    }\n},\ndata:data,\ncache:false,\ntype: 'POST',\ndataType:\"json\"};\n\n$.ajax('/ajax/polling.ajax.php', settings);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}&lt;/p&gt;\n\n&lt;p&gt;One thing I noticed is that you should make sure your polling AJAX call uses a different PHP file than your process AJAX call, otherwise your polling call won't finish until the process call is finished.&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["PHP批量处理解决方案", ["\n\n", "I'm looking for a PHP component for asynchronous data processing.", "\n\n", "Basically what I need is to display a page with a progress bar that's refreshed with javascript which displays the progress on some data processing.", "\n\n", "On the backend you'll define your data process limit. This is the start, end and function to call for processing individual items.", "\n\n", "There are plenty of solutions for this on CMS and frameworks. I'm looking for something in raw PHP that I can include in my application.", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;&lt;a href=\"https://blog.csdn.net/weixin_37095828/article/details/104167399?utm_medium&amp;#61;distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-3-104167399-null-null.pc_agg_new_rank&amp;amp;utm_term&amp;#61;mysql%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E5%A4%9A%E4%B8%AAcsv&amp;amp;spm&amp;#61;1000.2123.3001.4430\" id=\"textarea_1666922588411_1666923019798_0\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;&lt;div class=\"md_link_card\"&gt;\n      \n        &lt;span class=\"md_link_title\"&gt;mysql快速导入多个大csv文件_cj&amp;#64;1995的博客-CSDN博客_mysql 加载多个csv文件&lt;/span&gt;\n        \n      &lt;span class=\"md_link_desc\" style=\"\"&gt;mysql快速导入多个大csv文件本文纯属是为了做下笔记&amp;#xff0c;加深印象&amp;#xff0c;顺便分享经验罢了。首先&amp;#xff0c;根据自己需要导入的文件&amp;#xff0c;编写一个sql脚本我这里需要导入45个大csv文件&amp;#xff0c;总大小是8个G&amp;#xff0c;文件目录&amp;#xff1a;D:\\tmcsvsql文件代码&amp;#xff1a;LOAD DATA INFILE ‘D:\\tmcsv\\sblc_1.csv’ INTO TABLE tm_process FIELDS TERMINATED BY...&lt;/span&gt;\n      &lt;span class=\"md_flex_card\"&gt;\n      &lt;img class=\"md_link_img\" id=\"md_link_img\" src=\"https://g.csdnimg.cn/static/logo/favicon32.ico\" /&gt;\n        &lt;span class=\"flex-1\"&gt;\n          &lt;span class=\"md_link_url\"&gt;https://blog.csdn.net/weixin_37095828/article/details/104167399?utm_medium&amp;#61;distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-3-104167399-null-null.pc_agg_new_rank&amp;amp;utm_term&amp;#61;mysql%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E5%A4%9A%E4%B8%AAcsv&amp;amp;spm&amp;#61;1000.2123.3001.4430&lt;/span&gt;\n        &lt;/span&gt;\n      &lt;/span&gt;&lt;/div&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;可通过这个方法来实现吧&amp;#xff0c;直接是没法的了&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["用Datagrip/Navicat批量导入csv", ["用Navicat的导入向导和datagrip的从文件导入数据功能，可以将csv文件直接导入生成mysql表格，但是csv文件比较多，一个个导入太慢，如何能够批量导入呢？", "\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;一个link标签只能加载一个css文件到html,同理script标签只能引入一个js文件&amp;#xff0c;如果你需要导入多个可以参考以下方法&amp;#xff1a;&lt;br /&gt;1.需要重写多个link或者script标签&lt;br /&gt;2.对那些css或者js文件分别合到一起&amp;#xff0c;然后在引入&lt;br /&gt;3.建立一个中间html&amp;#xff0c;这个html只负责写多个css和js标签做引入&amp;#xff0c;然后在需要的html引入那个html文件&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何在html文件中批量导入css与js文件", ["我知道link标签可以导入css文件，script标签的src可以导入js文件，但是一次只能导入一个文件。", "有没有方法可以批量导入？", "比如，令文件夹A下面分为【文件夹X】与【文件夹Y】与【01.html】，然后文件夹X下面是十多个css文件，文件夹Y下面是十多个js文件。那么，如何在01.html中导入文件夹X与文件夹Y下的所有文件？"]], "Tag": "程序设计"}
{"Answer": "这个看了下应该是内存越界问题 char数组那里 你可以采取把24变大的方式如改为256 或者用string来代替char数组\r\n下面是用string的方式\r\n\r\n```\r\n#include&lt;iostream&gt;\r\n#include&lt;time.h&gt;\r\n#include&lt;opencv2/opencv.hpp&gt;\r\n#include&lt;fstream&gt;\r\n#include&lt;string&gt;\r\n\r\n\r\nusing namespace std;\r\nusing namespace cv;\r\n\r\nint main()\r\n{\r\n    ifstream file(\"filelist.txt\");\r\n\r\n    int img_index = 0;\r\n    string txt_cont;\r\n\r\n    while (getline(file,txt_cont))//当文件没有读到末尾继续循环\r\n    {\r\n\r\n        string img_file,save_file;\r\n\r\n        img_file = \"/home/pi/cv_test/pic2/\" + txt_cont;\r\n        save_file = \"/home/pi/cv_test/pic3/\" + to_string(img_index) + \".jpg\";\r\n\r\n        Mat src = imread(img_file);\r\n        Mat crs;\r\n        cvtColor(src,crs,CV_RGB2GRAY);\r\n        img_index++;\r\n\r\n        imwrite(save_file,crs);\r\n    }\r\n\treturn 0;\r\n}\r\n\r\n\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["opencv批量处理图片出现的一个警告", ["用opencv批量处理一个文件夹里的图片，运行完会出现一个警告，帮忙看一下该怎么修改，谢谢。", "\n\n", "#include<iostream>\n#include<time.h>\n#include<opencv2/opencv.hpp>\n#include<fstream>\n\nusing namespace std;\nusing namespace cv;\n\nvoid main()\n{\n    ifstream file(\"d:/filelist.txt\");\n\n    int img_index = 0;\n\n    while (!file.eof())//当文件没有读到末尾继续循环\n    {\n        char txt_cont[24];\n        file.getline(txt_cont,24);\n\n        char img_file[24],save_file[24];\n\n        sprintf(img_file, \"d:/pic2/%s\", txt_cont);\n        sprintf(save_file, \"d:/pic3/%d.jpg\", img_index);\n\n        Mat src = imread(img_file);\n        Mat crs;\n        cvtColor(src,crs,CV_RGB2GRAY);\n        img_index++;\n\n        imwrite(save_file,crs);\n    }\n\n}\n", "\n\n"]], "Tag": "程序设计"}
{"Answer": "给你提供一个dao模板方法用Object...args语法,但只限在返回一列数据\r\n先用Object...args写一个通用的dao方法:\r\n\r\npublic static List&lt;Object&gt; getDate(Connection conn ,String sql ,Object...args){\r\n\t\t\r\n\t\tPreparedStatement ps = null;\r\n\t\tResultSet rs = null;\r\n\t\tList&lt;Object&gt; list=new ArrayList&lt;Object&gt;();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tps = conn.prepareStatement(sql.toString(),\r\n\t\t\t\t\tResultSet.TYPE_SCROLL_INSENSITIVE,\r\n\t\t\t\t\tResultSet.CONCUR_READ_ONLY);\r\n\t\t\tfor(int i=1;i&lt;=args.length;i++){\r\n\t\t\t\tps.setObject(i, args[i-1]);\r\n\t\t\t}\r\n\t\t\trs = ps.executeQuery();\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tlist.add(rs.getInt(1));\r\n\t\t\t}\r\n\t\t}catch(SQLException e){\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n                        ///自己写一个colse资源的方法吧  :) \r\n\t\t\tclose(rs, ps);\r\n                           \r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n你在程序中可能这样调用这个方法\r\n例:\r\n  String sql1=\"select intFilet from table where id=?\";\r\n  getDate(sql,1);\r\n   String sql2=\"select intFilet from table where id=? and c=?\";\r\n  getDate(sql,1,2);\r\n有多少个\"?\"就在方法里放多少个参数;这种情况只能返回一个字段 :( .如果你要用返回不同的字段,要使用hibernate了,再给你提供一个\r\nHQL的模板DAO:\r\nprotected static List executeQuery(Session ssn ,String hql, int fromIdx, int fetchCount, Object...args){\r\n\t\r\n\t\tQuery q = ssn.createQuery(hql);\r\n\t\tfor(int i=0;i&lt;args.length;i++){\r\n\t\t\tq.setParameter(i, args[i]);\r\n\t\t}\r\n\t\tif(fromIdx &gt; 0)\r\n\t\t\tq.setFirstResult(fromIdx);\r\n\t\tif(fetchCount &gt; 0)\r\n\t\t\tq.setMaxResults(fetchCount);\r\n\t\treturn q.list();\r\n\t}\r\n\r\n关于同一个数据库链接的问题,只要用同一个Connection变量就行,如果是hibernate只要同一个session就行!", "Konwledge_Point": "批量数据处理——数组", "Question": ["挑战：java 批量查询SQL语句", ["现有一批SQL语句集，此集合中的SQL语句格式不固定，但都执行的是select 查询。", "要求：和数据库只建立一次连接，多次执行，每条SQL语句执行完之后都能有一个返回值。", "在批量操作数据方面，java提供了批量更新，但是更新要求SQL语句格式是固定的，变的只是参数。", "此问题，是一个挑战！欢迎各位献策！"]], "Tag": "程序设计"}
{"Answer": "对于大数据的更新，肯定是要建立其他表来的快的。\r\n\r\n如果你还没有怎么明白，可以看看专家们是怎么分析的\r\n[url=http://oracle.banma.com/news/20080714/12856.shtml]http://oracle.banma.com/news/20080714/12856.shtml[/url]\r\n\r\n\r\n数据库的东西，呵呵，比较麻烦的，提醒哦，测试的时候最好备份", "Konwledge_Point": "批量数据处理——数组", "Question": ["oracle 批量更新数据问题", ["public void updateAcState(ArrayList dataList){\n    PreparedStatement ps =  null;\n    try{\n        int size = dataList.size();\n        ps = con.prepareStatement(\"update js_personinfo p set p.ac_state = '3' where p.cif_no = ? and p.ac_no = ? \");\n        for(int i = 0; i < size; i++){\n            System.out.println(\"iii::\"+i);\n            String[] datas = (String[])dataList.get(i);\n            ps.setString(1, datas[14]);\n            ps.setString(2, datas[7]);\n            ps.addBatch();\n        }\n        [color=red]ps.executeBatch();[/color]\n    }catch (Exception e){\n        new CollectExceptionHandler().handle(con, e);\n    }finally{\n        DataSourceUtils.closeStatement(ps);\n    }\n}\n", "\n\n", "size 大小为30000，执行ps.executeBatch();没有反应，或者很慢", "\n\n", "[b]问题补充：[/b]", "\nradovi  你好，谢谢你的关注，我也有想过用两张表，把数据插入到一张表中，可是要把这些数据从原表中删除，也是很浪费时间的，不知还有没有好的办法"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;批量查询地话建议使用存储过程。&lt;br /&gt;&lt;a href=\"https://www.cnblogs.com/knowledgesea/archive/2013/01/02/2841588.html\" id=\"textarea_1647408329073_1647409397801_0\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;&lt;div class=\"md_link_card\"&gt;\n      \n        &lt;span class=\"md_link_title\"&gt;存储过程详解 - 张龙豪 - 博客园&lt;/span&gt;\n        \n      &lt;span class=\"md_link_desc\" style=\"\"&gt;存储过程简介什么是存储过程&amp;#xff1a;存储过程可以说是一个记录集吧&amp;#xff0c;它是由一些T-SQL语句组成的代码块&amp;#xff0c;这些T-SQL语句代码像一个方法一样实现一些功能&amp;#xff08;对单表或多表的增删改查&amp;#xff09;&amp;#xff0c;然后再给这个代码块取一个名字&lt;/span&gt;\n      &lt;span class=\"md_flex_card\"&gt;\n      &lt;img class=\"md_link_img\" id=\"md_link_img\" src=\"https://common.cnblogs.com/favicon.svg\" /&gt;\n        &lt;span class=\"flex-1\"&gt;\n          &lt;span class=\"md_link_url\"&gt;https://www.cnblogs.com/knowledgesea/archive/2013/01/02/2841588.html&lt;/span&gt;\n        &lt;/span&gt;\n      &lt;/span&gt;&lt;/div&gt;&lt;/a&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["vb.net 批量修改更新数据库 有100多个字段 Update提示 查询过于复杂", ["vb.net 批量修改更新数据库 有100多个字段 Update提示：System.Data.OleDb.OleDbException:“查询过于复杂。”  没法更新，有没有什么办法可以解决？"]], "Tag": "程序设计"}
{"Answer": "是要代码导入还是工具导入，代码导入http://blog.csdn.net/xionglangs/article/details/50034987，工具导入，下个绿色版的navicathttp://download.csdn.net/detail/xionglangs/9346835", "Konwledge_Point": "批量数据处理——数组", "Question": ["怎么将excel数据批量导入数据库", ["有excel表格数据，要导入mysql一条一条太慢，怎么批量导入"]], "Tag": "程序设计"}
{"Answer": "那就在后台通过代码提前设计好word模板，查询数据库循环将数据传入封装方法生成，示例查看：http://blog.csdn.net/u010251278/article/details/52398578", "Konwledge_Point": "批量数据处理——数组", "Question": ["js控制本地打印机批量打印", ["做一个项目，在服务器端有一个按钮，按下去就会在客户端生成大批量的word文档，并且自动批量打印下来，现在问题是ActionX控件只在IE可以用 ，其余的浏览器不兼容操控不到本地文件读写，有没有什么好的思路"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;如果你是springboot项目&amp;#xff0c;像你说的那个批量处理数据什么的&amp;#xff0c;你就用他自带的多线程方法ThreadPoolTaskExecutor&amp;#xff0c;去处理&amp;#xff0c;最后.join的方式加入到主线程&amp;#xff0c;你只需要处理数据网数据库查的操作就行&amp;#xff0c;ThreadPoolTaskExecutor的使用方式b站上有《SpringBoot项目如何使用线程池提升业务速度&amp;#xff1f;》里面有这个的使用方式&amp;#xff0c;是一个大佬老杨做的视频&amp;#xff0c;视频时长2分零7秒&amp;#xff0c;可以学习使用一下&amp;#xff0c;像多线程挂钩的&amp;#xff0c;很多现在都封装好的方式&amp;#xff0c;没必要自己写代码&amp;#xff0c;只需要完成业务逻辑就行&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["java多线程批量插入数据报错", ["问题是这样的，我们有一个业务场景支持excel 批量导入上千条数据，且需要支持整批同时成功或失败，于是我打算将连接改成不自动提交，以手工开启事务形式处理，代码如下", "\n", " ExecutorService service = ", "Executors", ".", "new", "FixedThreadPool(5)", ";\n    \n    @Resource\n    SqlSession sqlSession;\n    \n    @Test\n    public void batch", "Insert()", " throws SQLException {\n        Connection connection = sqlSession.get", "Connection()", ";\n        ", "try", " {\n            ", "// 设置手动提交", "\n            connection.set", "AutoCommit(", "false", ")", ";\n            StudentMapper studentMapper = sqlSession.get", "Mapper(StudentMapper.", "class", ")", ";\n            ", "//执行子线程", "\n            Student stu1 = ", "new", " ", "Student(", "\"张三\"", ")", ";\n            Student stu2 = ", "new", " ", "Student(", "\"李四\"", ")", ";\n            Student stu3 = ", "new", " ", "Student(", "\"王五\"", ")", ";\n            List<Student> students= ", "Arrays", ".", "as", "List(", "stu1", ",", "stu2", ",", "stu3", ")", ";\n            List<Callable<Integer>> callableList  = ", "new", " ArrayList<>", "()", ";\n            ", "for", " (Student student : students) {\n                Callable<Integer> callable=", "()", "-> studentMapper.add", "Student(", "student", ")", ";\n                callableList.add(callable);\n            }\n            List<Future<Integer>> futures = service.invoke", "All(", "callableList", ")", ";\n            ", "for", " (Future<Integer> future:futures) {\n                ", "if", " (future.get", "()", "<=", "0", "){\n                    connection.rollback", "()", ";\n                    return;\n                }\n            }\n            connection.commit", "()", ";\n            ", "System", ".", "out.println(", "\"添加完毕\"", ");\n        }catch (Exception e){\n            connection.rollback", "()", ";\n            log.info(", "\"error\"", ",e);\n            throw ", "new", " ", "RuntimeException(", "\"002出现异常\"", ")", ";\n        }\n        Scanner scanner=", "new", " ", "Scanner(System.", "in", ")", ";\n        scanner.next", "()", ";\n    }\n", "\n", "mysq和mybatis 配置如下", "\n", " @", "Bean(", "\"masterDataSource\"", ")", "\n    @Primary\n    public DataSource master", "Datasource()", " {\n        DruidDataSource dataSource = ", "new", " ", "DruidDataSource()", ";\n        dataSource.set", "DriverClassName(", "driver", ")", ";\n        dataSource.set", "Url(", "url", ")", ";\n        dataSource.set", "Username(", "userName", ")", ";\n        dataSource.set", "Password(", "password", ")", ";\n        dataSource.set", "RemoveAbandonedTimeoutMillis(10", "*", "1000)", ";\n        dataSource.set", "RemoveAbandoned(", "true", ")", ";\n        dataSource.set", "TimeBetweenConnectErrorMillis(10", "*", "1000)", ";\n        return dataSource;\n    }\n    \n    ", "/***\n     * 管理事务\n     *\n     * */", "\n    @", "Bean(", "name", " = ", "\"masterTransactionManager\"", ")", "\n    @Primary\n    public DataSourceTransactionManager master", "TransactionManager()", " {\n        return ", "new", " ", "DataSourceTransactionManager(", "masterDatasource", "()", ");\n    }\n    \n    ", "/***\n     * 创建sqlsessionFactory\n     *\n     * */", "\n    @", "Bean(", "name", " = ", "\"masterSqlSessionFactory\"", ")", "\n    @Primary\n    public SqlSessionFactory master", "SqlSessionFactory(@Qualifier(", "\"masterDataSource\"", ")", " DataSource masterDataSource)\n            throws Exception {\n        final SqlSessionFactoryBean sessionFactory = ", "new", " ", "SqlSessionFactoryBean()", ";\n        sessionFactory.set", "DataSource(", "masterDataSource", ")", ";\n        org.apache.ibatis.session.Configuration config = ", "new", " org.apache.ibatis.session.", "Configuration()", ";\n        config.set", "MapUnderscoreToCamelCase(", "true", ")", ";\n        sessionFactory.set", "Configuration(", "config", ")", ";\n        sessionFactory.set", "MapperLocations(", "new", " PathMatchingResourcePatternResolver()", "\n                .get", "Resources(MAPPER_LOCAL)", ");\n        sessionFactory.set", "Plugins(", "new", " SqlCostInterceptor()", ",", "new", " ", "GlobalInterceptor()", ");\n        return sessionFactory.get", "Object()", ";\n    }\n", "\n", "但现实很残酷，报错了", "java.sql.SQLException: connection holder is null", "    at com.alibaba.druid.pool.DruidPooledConnection.checkStateInternal(DruidPooledConnection.java:1157)", "    at com.alibaba.druid.pool.DruidPooledConnection.checkState(DruidPooledConnection.java:1148)", "    at com.alibaba.druid.pool.DruidPooledConnection.commit(DruidPooledConnection.java:743)"]], "Tag": "程序设计"}
{"Answer": "你这个太简单了，直接使用下面两个替换即可，经常用可以写成宏\r\n^333333----.*$\r\n^.*----jj$", "Konwledge_Point": "批量数据处理——数组", "Question": ["EmEditor 怎么批量替换或者删除指定内容？", ["\n                比如想把图片里的", "\n                333333和jj 批量替换成空白或者整行都删除 怎么批量操作？"]], "Tag": "程序设计"}
{"Answer": "1、检查你的Sheet7.Range(\"f1\").Value2,  和 Sheet7.Range(\"f2\").Value2 值格式是否正确？，必须要能转换成xlDateBetween匹配的格式。\r\n2、你xlDateBetween类型添加了几次？你代码里没有清除语句，重复添加会报错的。\r\n你先试试吧。", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何用VBA批量操作数据透视表", ["工作表中有很多透视表，希望能批量更改筛选日期", "\n目前代码如下：", "\n\n", "Sub 批量更改日期()", "\nDim pt As PivotTable", "\nFor Each pt In Sheet7.PivotTables", "\n    pt.PivotFields(\"日期\").PivotFilters.Add2 Type:= _", "\n    xlDateBetween, Value1:=Sheet7.Range(\"f1\").Value2, Value2:=Sheet7.Range(\"f2\").Value2", "\nNext", "\nEnd Sub", "\n\n", "运行时出错", "\n\n", "求大神指点一下，问题出在哪啊"]], "Tag": "程序设计"}
{"Answer": "```\r\n 用jquery方便些，虽然原理一样都是循环\r\n &lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;script src=\"/jquery/jquery-1.11.1.min.js\"&gt;\r\n&lt;/script&gt;\r\n&lt;script&gt;\r\n$(document).ready(function(){\r\n});\r\nfunction modify(){//批量修改\r\n  $('input').attr('name','2');\r\n}\r\nfunction domGet(){\r\nvar inputs =  document.getElementsByTagName('input');\r\n for(var i=0;i&lt;inputs.length;i++){\r\n   alert(inputs[i].name);\r\n }\r\n}\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;input type='text' id='ipt'/&gt;\r\n&lt;input type='text' id='ipt2'/&gt;\r\n&lt;button onclick='modify()'&gt;修改&lt;/button&gt;\r\n&lt;button onclick='domGet()'&gt;验证&lt;/button&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["js如何批量给元素赋值", ["是把他们的name全设置成一样然后遍历吗还是其他的", "\n\n", "....................."]], "Tag": "程序设计"}
{"Answer": "EditorGridPanel的Store 有一个这样的方法可以获得所有修改过的记录\r\n\r\nstore.getModifiedRecords() : Ext.data.Record[]\r\n\r\n然后每个记录又有一个方法可以获得所有修改过的字段以及字段的value\r\n\r\nrecord.getChanges() : Object\r\n\r\n我想有了这些,然后发挥你自己的创意肯定可以实现你的想法", "Konwledge_Point": "批量数据处理——数组", "Question": ["关于ｅｘｔｊｓ的批量更新到数据库", ["我在EditorGridPanel中编辑我的数据，现在是每次编辑一个字段就更新一下数据库，感觉这样效率很低啊。能不能批量的更新，有什么途径可以实现？"]], "Tag": "程序设计"}
{"Answer": "https://blog.csdn.net/LVAmber/article/details/79025568", "Konwledge_Point": "批量数据处理——数组", "Question": ["mybatis-Plus如何根据id批量更新呢", []], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;把txt文件里面的引号都去掉&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python wget.download txt 中读取下载地址 批量下载", ["问题遇到的现象和发生背景", "\n", "**** import wget", "file=open(\"test.txt\")", "data=file.readlines()", "for i in data:", "    wget.download(url=i,out=\"/Users/**/Desktop/\")", "TXT的内容", "\"", "https://aod.cos.tx.xmcdn.com/group13/M01/36/7D/wKgDXlWVxjfBIPYRACwHKmJkTe0657.m4a\"", "\"", "https://aod.cos.tx.xmcdn.com/group13/M01/36/7D/wKgDXlWVxjfBIPYRACwHKmJkTe0657.m4a\"", "\"", "https://aod.cos.tx.xmcdn.com/group13/M01/36/7D/wKgDXlWVxjfBIPYRACwHKmJkTe0657.m4a\"", "\n", "运行结果及报错内容 ValueError: unknown url type: '%22https%3A//aod.cos.tx.xmcdn.com/group13/M01/36/7D/wKgDXlWVxjfBIPYRACwHKmJkTe0657.m4a%22'", "\n", "我的解答思路和尝试过的方法", "\n", "import wget", "x=\"", "https://aod.cos.tx.xmcdn.com/group13/M01/36/7D/wKgDXlWVxjfBIPYRACwHKmJkTe0657.m4a\"", "wget.download(url=x,out=\"/Users/fcw/Desktop/wgetdownload\")", "是可行的", "######在终端使用wget -i a.txt这个方法我会，就是在想在python wget.download函数中学习使用批量下载"]], "Tag": "程序设计"}
{"Answer": "![图片说明](https://img-ask.csdn.net/upload/201902/19/1550590411_566675.png)", "Konwledge_Point": "批量数据处理——数组", "Question": ["使用SpringBoot+MybatisPlus做了一个单个删除DOM，请问批量怎么删除呢", ["ContentCatService", "\n\n", "//删除\n    public void delete(Integer id);\n", "\n\n", "public class ContentCatServiceImpl  implements ContentCatService{", "\n\n", "//删除\n    public void delete(Integer id){\n        List<Integer> idList = new ArrayList<>();\n        idList.add(id);\n        contentCatMapper.deleteBatchIds(idList);\n    }\n", "\n\n", "public class ContentCatController {", "\n\n", " //删除\n\n    private SysResult delete(@PathVariable Integer id){\n        try {\n            contentCatService.delete(id);\n            return SysResult.ok();\n        }catch (Exception e){\n            e.printStackTrace();\n            return SysResult.build(201,\"删除失败\");\n        }\n\n", "\n\n", "请问如果改为批量删除呢"]], "Tag": "程序设计"}
{"Answer": "&lt;update id=\"batchUpdate\" parameterType=\"java.util.List\"&gt;  \r\n\t\t\t\t\t\t\tUPDATE STUDENT\r\n\t\t\t\t\t\t\t&lt;set&gt; \r\n\t\t\t\t\t\t\t\t\t&lt;if test=\"bannerName != null\"&gt;\r\n\t\t\t\t\t\t\t\t\t\t\tt.banner_name = #{bannerName},\r\n\t\t\t\t\t\t\t\t\t&lt;/if&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;if test=\"bannerUrl != null\"&gt;\r\n\t\t\t\t\t\t\t\t\t\t\tt.banner_url = #{bannerUrl},\r\n\t\t\t\t\t\t\t\t\t&lt;/if&gt;\r\n\t\t\t\t\t\t\t&lt;/set&gt; \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tWHERE id IN  \r\n\t\t\t\t\t\t&lt;foreach collection=\"list\" item=\"item\" index=\"index\" open=\"(\" separator=\",\" close=\")\" &gt;  \r\n\t\t\t\t\t\t\t\t#{item}  \r\n\t\t\t\t\t\t&lt;/foreach&gt;  \r\n\t&lt;/update&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["mybatis 进行批量修改操作", ["批量修改时候传入多个数值不想在service层 进行循环修改，", "\n想在写sql语句的时候进行批量修改", "\n传入的有全部的id和需要修改的数据。怎么写sql语句。。。", "\n只会删除的时候传入id的语句，，现在多个参数不会写了。。"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;这能看出来个啥&amp;#xff0c;提示没那个id的属性&amp;#xff0c;又不把你那个类贴出来&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Mybatis 批量添加数据时找不到对象下面的属性值", ["在mapper接口中我用了一个对象数组，来存储对象，打算在mybatis中循环添加", "可结果却发现，执行方法的时候说找不到下面的属性值", "\n", "在mapper接口中 我也用了Parma属性值", "\n", "该类下面的属性", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;ul&gt;&lt;li&gt;这篇文章讲的很详细&amp;#xff0c;请看&amp;#xff1a;&lt;a href=\"https://blog.csdn.net/m0_46483236/article/details/115709868\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;&lt;font size=\"3\"&gt;matlab批量读取处理文件&lt;/font&gt;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["matlab批量删除文件", ["#在matlab如何批量删除不同文件夹中，名字相同的文件。", "例如：在rawdata文件夹中由50个子文件夹（sub_1...sub_50），每个子文件夹中都有一个 .mat 文件。如何批量删除每个子文件夹中的.mat文件？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;参考GPT和自己的思路&amp;#xff0c;你可以使用 Python 的 pandas 库来处理这个任务。下面是一个基本的代码框架&amp;#xff0c;它遍历一个文件夹中的所有 CSV 文件&amp;#xff0c;并将每个文件的第四列数据提取到一个新的 Excel 文件中&amp;#xff0c;文件名为原始 CSV 文件的名称。&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;&lt;span class=\"hljs-built_in\"&gt;import&lt;/span&gt; os\n&lt;span class=\"hljs-built_in\"&gt;import&lt;/span&gt; pandas as pd\n\n&lt;span class=\"hljs-comment\"&gt;# 定义输入和输出文件夹&lt;/span&gt;\n&lt;span class=\"hljs-attr\"&gt;input_folder&lt;/span&gt; &amp;#61; &amp;#39;path/to/csv/folder&amp;#39;\n&lt;span class=\"hljs-attr\"&gt;output_file&lt;/span&gt; &amp;#61; &amp;#39;path/to/output/excel/file.xlsx&amp;#39;\n\n&lt;span class=\"hljs-comment\"&gt;# 初始化结果 DataFrame&lt;/span&gt;\n&lt;span class=\"hljs-attr\"&gt;result_df&lt;/span&gt; &amp;#61; pd.DataFrame(&lt;span class=\"hljs-attr\"&gt;columns&amp;#61;[&amp;#39;file_name&amp;#39;,&lt;/span&gt; &amp;#39;column_4_data&amp;#39;])\n\n&lt;span class=\"hljs-comment\"&gt;# 遍历 CSV 文件&lt;/span&gt;\nfor file_name &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; os.listdir(input_folder):\n    &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; file_name.endswith(&amp;#39;.csv&amp;#39;):\n        &lt;span class=\"hljs-comment\"&gt;# 读取 CSV 文件&lt;/span&gt;\n        &lt;span class=\"hljs-attr\"&gt;file_path&lt;/span&gt; &amp;#61; os.path.join(input_folder, file_name)\n        &lt;span class=\"hljs-attr\"&gt;df&lt;/span&gt; &amp;#61; pd.read_csv(file_path, &lt;span class=\"hljs-attr\"&gt;usecols&amp;#61;[3])&lt;/span&gt;\n        \n        &lt;span class=\"hljs-comment\"&gt;# 将结果添加到结果 DataFrame 中&lt;/span&gt;\n        &lt;span class=\"hljs-attr\"&gt;column_4_data&lt;/span&gt; &amp;#61; df.iloc[:, &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;].values\n        &lt;span class=\"hljs-attr\"&gt;result_df&lt;/span&gt; &amp;#61; result_df.append({&amp;#39;file_name&amp;#39;: file_name, &amp;#39;column_4_data&amp;#39;: column_4_data}, &lt;span class=\"hljs-attr\"&gt;ignore_index&amp;#61;True)&lt;/span&gt;\n\n&lt;span class=\"hljs-comment\"&gt;# 将结果保存到 Excel 文件中&lt;/span&gt;\nresult_df.to_excel(output_file, &lt;span class=\"hljs-attr\"&gt;index&amp;#61;False)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;在上面的代码中&amp;#xff0c;input_folder 是存储 CSV 文件的文件夹路径&amp;#xff0c;output_file 是要生成的 Excel 文件的路径。代码使用 os.listdir 函数遍历输入文件夹中的所有文件&amp;#xff0c;然后使用 pandas 库的 read_csv 函数读取每个 CSV 文件的第四列数据。最后&amp;#xff0c;代码将每个文件的第四列数据添加到结果 DataFrame 中&amp;#xff0c;并使用 to_excel 函数将结果保存到 Excel 文件中。&lt;/p&gt;\n&lt;p&gt;请注意&amp;#xff0c;上述代码仅提供了一个基本的框架&amp;#xff0c;你可能需要根据你的具体需求进行更改。例如&amp;#xff0c;你可能需要处理文件中的缺失值&amp;#xff0c;或者需要根据其他列进行分组或筛选。你可以使用 pandas 库的其他函数来实现这些需求。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python 做CSV 批量数据分析处理", ["一个文件夹里有很多csv文件，每一个里面有四列数据，希望批量将每一个文件的第四列取出来，输出到一个excel文件里，表头是该csv文件的名称，仅此而已，望大神速回复"]], "Tag": "程序设计"}
{"Answer": "建议你用序列来实现，可以生成一个序列，然后根据你的需要，如需要１００个，然后重置序列即可。\r\n\r\nsys_guid，你这样试试，找个超过１００行记录的表(比如operator)，然后用这个sql\r\n\r\nselect sys_guid() from operator where rownum &lt;=100\r\n\r\n试试", "Konwledge_Point": "批量数据处理——数组", "Question": ["oracle+mybatis如何返回批量插入的id", ["oracle+mybatis如何返回批量插入的id", "\n没有用序列 id通过 select sys_guid()生成 如何解决 "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;查询的字段DQ_RpNr1,DQ_RpNr2,DQ_RpNr3,DQ_RpNr4可以动态生成&amp;#xff0c;现在示例中使用CET表只能查询一次&amp;#xff0c;改成实体表、表变量或者临时表都可以生成&amp;#xff0c;组成动态SQL再exec就可以了。&lt;br /&gt;另外如果t3的ID不是连续的话可以先生成一个行号来代替ID&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-sql\"&gt;\n;&lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; t3 &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt;(\n&lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;ID, &lt;span class=\"hljs-string\"&gt;&amp;#39;14&amp;#39;&lt;/span&gt;m1,&lt;span class=\"hljs-string\"&gt;&amp;#39;15&amp;#39;&lt;/span&gt;m2,&lt;span class=\"hljs-string\"&gt;&amp;#39;17&amp;#39;&lt;/span&gt;m3,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;m4,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;m5,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;m6,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;m7,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;m8\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt;  &lt;span class=\"hljs-string\"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;15&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;17&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt; \n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;25&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;27&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;28&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt; \n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;35&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;37&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;38&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt; \n)\n&lt;span class=\"hljs-comment\"&gt;----  表 t4 有多行数据 需要对表 #T4 进行查询 &lt;/span&gt;\n,t4 &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt;(\n&lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;11&amp;#39;&lt;/span&gt;m1,&lt;span class=\"hljs-string\"&gt;&amp;#39;12&amp;#39;&lt;/span&gt;m2,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;m3,&lt;span class=\"hljs-string\"&gt;&amp;#39;44&amp;#39;&lt;/span&gt;m4,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;m5,&lt;span class=\"hljs-string\"&gt;&amp;#39;56&amp;#39;&lt;/span&gt;m6,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;m7,&lt;span class=\"hljs-string\"&gt;&amp;#39;63&amp;#39;&lt;/span&gt;m8,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;m9,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;m10\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;11&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;12&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;56&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;63&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;11&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;56&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;63&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;11&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;56&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;11&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;57&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;15&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;21&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;53&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;17&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;18&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;25&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;27&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;28&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;74&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;union&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;all&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;select&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;&amp;#39;7&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;8&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;35&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;37&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;38&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;54&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;64&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;66&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;74&amp;#39;&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#39;77&amp;#39;&lt;/span&gt;\n),\nt4WithSeq &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt;(&lt;span class=\"hljs-keyword\"&gt;SELECT&lt;/span&gt; *,ROW_NUMBER() &lt;span class=\"hljs-keyword\"&gt;OVER&lt;/span&gt;(&lt;span class=\"hljs-keyword\"&gt;ORDER&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;BY&lt;/span&gt; t4.m1) seq &lt;span class=\"hljs-keyword\"&gt;FROM&lt;/span&gt; t4)\n, CTE &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; (\n&lt;span class=\"hljs-keyword\"&gt;SELECT&lt;/span&gt; pe.ID, QTY &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt;  t3\n unpivot (QTY &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;TYPE&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt;(m1,m2,m3,m4,m5,m6,m7,m8)) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; pe\n), list &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; (\n&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; \n ((&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m1 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m2 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m3 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m4 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m5 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m6 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m7 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m8 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m9 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m10 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n) &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; Val, &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; ID, CAST( &lt;span class=\"hljs-string\"&gt;&amp;#39;DQ_RpNr1&amp;#39;&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; &lt;span class=\"hljs-type\"&gt;VARCHAR&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;100&lt;/span&gt;)) &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; ColName,t4WithSeq.seq\n&lt;span class=\"hljs-keyword\"&gt;FROM&lt;/span&gt; t4WithSeq\n&lt;span class=\"hljs-keyword\"&gt;UNION&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;ALL&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; \n ((&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m1 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m2 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m3 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m4 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m5 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m6 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m7 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m8 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m9 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n&amp;#43; (&lt;span class=\"hljs-keyword\"&gt;Case&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;when&lt;/span&gt; m10 &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;Select&lt;/span&gt; Qty &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; CTE &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;then&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;)\n) &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; Val, b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; ID, CAST( &lt;span class=\"hljs-string\"&gt;&amp;#39;DQ_RpNr&amp;#39;&lt;/span&gt; &amp;#43; CAST(b.id&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; &lt;span class=\"hljs-type\"&gt;VARCHAR&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;10&lt;/span&gt;)) &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; &lt;span class=\"hljs-type\"&gt;VARCHAR&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;100&lt;/span&gt;)) &lt;span class=\"hljs-keyword\"&gt;AS&lt;/span&gt; ColName,a.seq\n&lt;span class=\"hljs-keyword\"&gt;FROM&lt;/span&gt; t4WithSeq a &lt;span class=\"hljs-keyword\"&gt;INNER&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;join&lt;/span&gt; list b &lt;span class=\"hljs-keyword\"&gt;on&lt;/span&gt; a.seq&amp;#61;b.seq &lt;span class=\"hljs-keyword\"&gt;WHERE&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;EXISTS&lt;/span&gt;(&lt;span class=\"hljs-keyword\"&gt;SELECT&lt;/span&gt; * &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; cte c &lt;span class=\"hljs-keyword\"&gt;where&lt;/span&gt; c.ID&amp;#61;b.ID&amp;#43;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;)\n)\n&lt;span class=\"hljs-keyword\"&gt;SELECT&lt;/span&gt; p.seq, DQ_RpNr1,DQ_RpNr2,DQ_RpNr3,DQ_RpNr4 &lt;span class=\"hljs-keyword\"&gt;FROM&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;SELECT&lt;/span&gt; val,colname,seq &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; list) l PIVOT (MAX(val) &lt;span class=\"hljs-keyword\"&gt;FOR&lt;/span&gt; ColName &lt;span class=\"hljs-keyword\"&gt;IN&lt;/span&gt; (DQ_RpNr1,DQ_RpNr2,DQ_RpNr3,DQ_RpNr4)) p &lt;span class=\"hljs-keyword\"&gt;ORDER&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;BY&lt;/span&gt; p.seq\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["SQL SERVER 用多条件如何进行批量查询?请专家答疑解惑", ["网页有问题     提示 ： 禁止重复输入同样的词汇或符号：m", "\n", "只好先上传截图，再想办法上传代码", "\n"]], "Tag": "程序设计"}
{"Answer": "批量的测试需要首先明确性能测试的的目标和需求，包括至少如下内容：\r\n1. 晚上跑批量Job的允许运行时间窗口，比如从24：00～06：00总共6小时是运行窗口，那么所有的批处理必须在这个时间范围内完成作业\r\n2. 明确在跑批处理的时候，是否允许前台在线程序继续运行，如果是的话，需要设计来支持如何避免数据的混乱\r\n3. 明确不同频率的批处理处理的处理数据量（比如一个每月处理的批处理需要处理的数据量一般来说都比Daily的批处理要多很多，那么需要明确数据量和估计处理时间）\r\n4. 对于不同批处理间是否允许并行运行，还是需要有一定的执行顺序依赖关系\r\n5. 是可以支持在同一个批处理中根据处理数据进行合理的分割来支持并发运行\r\n6. 对于CPU、IO、内存使用情况是否有一定的要求\r\n7. 实际运行环境的硬件（CPU核数量、内存大小、IO情况等）、软件（其他应用是否同时运行、JDK版本、JVM参数、被实际分配的CPU、内存等）情况\r\n\r\n测试数据的准备：\r\n1. 需要按照实际业务的数据的分布情况来准备测试使用的数据（包括数据库数据、数据文件等）\r\n2. 如果可能的话，可以先进行没有数据负载的测试（比如数据库数据比较少，批处理只进行新增数据处理），然后才进行大负载情况下的测试\r\n\r\n测试和性能监控工具：\r\n1. 批处理执行机器上部署和运行CPU、内存、IO监控工具 （比如Linux下的vmstat, top, sar等，监控时间间隔需要根据实际情况设置，一般在5秒～5分钟之间）\r\n2. 测试过程中数据Log（DB中的，Log文件中的等）的开始、结束时间；\r\n3. 测试过程中实际真正成功完成（有时候非正常完成和正常完成的性能相差很多，务必关注）的数据量\r\n4. 数据库Top SQL、CPU、IO、Wait等监控；可能有的网络带宽使用监控\r\n5. JVM GC的情况、ThreadSnapshot等\r\n6. JProfiler等用于详细分析工具\r\n\r\n测试过程：\r\n1. 先整体按照正常顺序执行的顺序跑一下所有的批处理程序，检测大致上哪些批处理是瓶颈、需要主要分析和优化的对象\r\n2. 重点对于瓶颈的批处理使用Jprofiler进行详细的跟踪分析（主要是CPU和GC，有时候还需要看是否有内存Leak），看具体批处理中哪段程序比较慢（这时候，使用小数据量&lt;100单的数据进行精细的跟踪）\r\n3. 同时Jprofiler中有JDBC访问的CPU时间可以参考DB端的TopSQL进行SQL的优化和调整\r\n4. 调整可以进行批处理分片处理（多线程并发或者多批处理并发）的并发数，看那个是合理的值（一般分片为CPU核心数量×2左右的数量比较合理，但是需要根据实际测试环境来决定）\r\n4. 重复以上过程，直到达到目标\r\n\r\n测试结果分析：\r\n1. 整体处理时间，以及平均CPU使用率和IO使用率、内存使用率等（如果执行慢，但是CPU使用不高，请检查是否有IO等待，或者是否需要提高线程数）\r\n2. CPU时间使用曲线，看是否有特别不正常的情况（比如有些点特别消耗CPU），其他IO和内存类似\r\n3. GC分析，用来调整JVM参数\r\n4. 其他", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量系统的性能测试", ["一般夜间批量系统的性能测试该如何执行呢？", "\n如何执行？是跑批测试时间呢？还是有特殊的技术或者工具来测试。", "\n\n", "一般在性能测试上，以及跑批的时间控制上，朋友们，你们一般开发的系统，是怎样的性能测试标准？", "\n\n", "谢谢"]], "Tag": "程序设计"}
{"Answer": "从语句上面似乎没有什么优化的余地 这个可能涉及到大量的锁争用 所以慢 这个查询列上面 建了索引 可以查起来快一点 再一个用innodb引擎", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何提高mysql大批量数据更新（update）的效率？", ["本人所写的sql语句如下：", "\n\n", " UPDATE result,tmp\nSET \n        result.forward_count=ROUND(tmp.fca_s),\n        result.comment_count=ROUND(tmp.cca_s),\n        result.like_count=ROUND(tmp.lca_s)\nWHERE result.uid=tmp.uid;\n", "\n\n", "两个表的数据都达到了一百万条，该语句执行起来非常慢，故请问各位，如何提高update效率。"]], "Tag": "程序设计"}
{"Answer": "&lt;ul&gt;&lt;li&gt;关于该问题&amp;#xff0c;我找了一篇非常好的博客&amp;#xff0c;你可以看看是否有帮助&amp;#xff0c;链接&amp;#xff1a;&lt;a href=\"https://blog.csdn.net/weixin_38645650/article/details/121704001\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;&lt;font size=\"3\"&gt;PIL数据读取与转换格式&amp;#xff0c;tensor形式转为图片&lt;/font&gt;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量化处理图片pil图像转化为tensor格式，初出现问题", ["Pil转化为tensor 数据格式时出现问题，说是没有torch 如何解决"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你的sdk下载的是否完整&amp;#xff0c;还有按照他的操作是可以发送的&amp;#xff0c;你的短信模板${houseno}他就是变量啊&amp;#xff0c;你根据手机号确定户号&amp;#xff0c;自己每次传那个户号就可以啊&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["阿里云批量发送短信怎么写？", ["阿里云发送短信通知", "\n", "\n", "短信模板： “尊敬的用户，您的户号是${houseno}。请关注xx进行缴费。”", "\n", "\n", "这样写只能给每个手机号发送一样的短信模板，", "怎么样才能对每个手机号发送同一模板， houseno参数不一样呢？", "\n", "\n ", "if", " (msgTemplate!=null&&msgTemplate.equals(", "\"户号信息\"", ")){\n                ticket = ", "Pattern", ".", "compile(regEx).matcher(strings.", "to", "String()", ").replace", "All(", "\"\"", ")", ".trim", "()", ";\n                hhs=", "StringUtils", ".", "join(yhbm.", "to", "Array()", ", ", "\",\"", ");\n                ", "System", ".", "out.println(strings);\n                ", "System", ".", "out.println(ticket);\n                Client client = get", "Client()", ";\n                JSONObject jsonObject2 = ", "new", " ", "JSONObject()", ";\n                jsonObject2.put(", "\"houseno\"", ",yhbm);\n                ", "System", ".", "out.println(yhbm);\n                \n                SendSmsRequest sendSmsRequest = ", "new", " ", "SendSmsRequest()", "\n                        .set", "PhoneNumbers(", "ticket", ")", "\n                        .set", "TemplateCode(", "\"123456\"", ")", "\n                        .set", "TemplateParam(", "jsonObject2", ".", "toString", "()", ")\n                        .set", "SignName(", "\"ASCEDSS\"", ")", ";\n                ", "System", ".", "err.println(hashMaps);\n                sendSmsResponse = client.send", "Sms(", "sendSmsRequest", ")", ";\n            }\n\n", "\n", "发出来的短信是这样的", "\n", "\n", "怎么样才能参数和手机号对应一一发送呢？", "\n", "\n", "批量发送短信接口文档", "https://help.aliyun.com/document_detail/66041.html?spm=a2c4g.11186623.0.0.1cd15d7aemuOpb", "\n", "\n", "\n", "短信发送接口文档", "https://help.aliyun.com/document_detail/55284.htm?spm=a2c4g.11186623.0.0.33a05d7aOxaJM7", "\n", "\n", "\n", "更新", "我改成了循环发送短信，但是现在报这个错，短信发不出去，debug没有问题", "\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;为啥不一次性批量插入呢&lt;br /&gt;可以说和事务有关,也有可能是写数据负载高&amp;#xff0c;有延迟&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["请教一个pg数据库批量插入的问题", ["我一次性插入200条数据，是通过for循环，然后通过mapper的insert方法循环插入数据库的，但是有个问题，插入后1,2秒内，可以获取到最大id,但是select数据却查不到，过几秒钟以后才可以，请问这个是和事务有关系吗？"]], "Tag": "程序设计"}
{"Answer": "&lt;ul&gt;&lt;li&gt;你可以用文件大小和公式算出来有多少行&amp;#xff0c;例如N&lt;/li&gt;&lt;li&gt;维持一个长度11的数组 avg&lt;/li&gt;&lt;li&gt;依次读取StreamRead&amp;#xff0c;计算每个数字num 对应的列 index&lt;/li&gt;&lt;li&gt;avg[index] &amp;#43;&amp;#61; num/N&lt;/li&gt;&lt;li&gt;反复执行&lt;/li&gt;&lt;/ul&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["C# 对txt文件里面的大量数据如何快速计算", ["一个txt文件里面可能有几百行×11列的数据，用StreamReader读取之后，怎么快速计算所有列的数据的平均数？", "\n\n", "有想过用数组来计算，比如用循环把第一行第一个数据赋值给array[0][0]，第一行第二个数据为array[0][1]，依此类推直到赋值到最后一行的第11个数据，然后又用循环把每一列数据对应的数组相加在求平均，这样计算会不会很慢？有没有方便快速的方法计算呢？", "\n\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;运行效果如图&amp;#xff1a;&lt;br /&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/136181842136125.png\" width=\"600px\" align=\"left\" /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-python\"&gt;&lt;span class=\"hljs-keyword\"&gt;import&lt;/span&gt; os\n\n\n&lt;span class=\"hljs-comment\"&gt;# 遍历文件夹&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;def&lt;/span&gt; &lt;span class=\"hljs-title function_\"&gt;walkFile&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;file&lt;/span&gt;):\n    &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; root, dirs, files &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; os.walk(file):\n        &lt;span class=\"hljs-comment\"&gt;# 遍历文件&lt;/span&gt;\n        &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; f &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; files:\n            &lt;span class=\"hljs-comment\"&gt;# 非txt跳过文件&lt;/span&gt;\n            &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; (&lt;span class=\"hljs-keyword\"&gt;not&lt;/span&gt; f.endswith(&lt;span class=\"hljs-string\"&gt;&amp;#39;.txt&amp;#39;&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;or&lt;/span&gt; f.endswith(&lt;span class=\"hljs-string\"&gt;&amp;#34;_transfer.txt&amp;#34;&lt;/span&gt;)):\n                &lt;span class=\"hljs-keyword\"&gt;continue&lt;/span&gt;\n            new_file &amp;#61; os.path.join(root, f.replace(&lt;span class=\"hljs-string\"&gt;&amp;#39;.txt&amp;#39;&lt;/span&gt;, &lt;span class=\"hljs-string\"&gt;&amp;#39;_transfer.pts&amp;#39;&lt;/span&gt;))\n            &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(os.path.join(root, f))\n            &lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(os.path.join(root, f), &lt;span class=\"hljs-string\"&gt;&amp;#34;r&amp;#34;&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; f:  &lt;span class=\"hljs-comment\"&gt;# 打开文件&lt;/span&gt;\n                strs &amp;#61; &lt;span class=\"hljs-built_in\"&gt;str&lt;/span&gt;(f.read())  &lt;span class=\"hljs-comment\"&gt;# 读取文件&lt;/span&gt;\n                &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(strs)\n                strs &amp;#61; strs.split(&lt;span class=\"hljs-string\"&gt;&amp;#39;\\n&amp;#39;&lt;/span&gt;)\n\n                replace_str &amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;&amp;#39;&lt;/span&gt;\n                &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; i, coords &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;enumerate&lt;/span&gt;(strs):\n                    &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; (i &amp;#61;&amp;#61; &lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;):  &lt;span class=\"hljs-comment\"&gt;# 跳过第一行数字&lt;/span&gt;\n                        &lt;span class=\"hljs-keyword\"&gt;continue&lt;/span&gt;\n                    coords &amp;#61; [&lt;span class=\"hljs-built_in\"&gt;str&lt;/span&gt;(&lt;span class=\"hljs-built_in\"&gt;round&lt;/span&gt;(&lt;span class=\"hljs-built_in\"&gt;float&lt;/span&gt;(i), &lt;span class=\"hljs-number\"&gt;3&lt;/span&gt;)) &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; i &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; coords.replace(&lt;span class=\"hljs-string\"&gt;&amp;#34;\\n&amp;#34;&lt;/span&gt;, &lt;span class=\"hljs-string\"&gt;&amp;#39;&amp;#39;&lt;/span&gt;).split(&lt;span class=\"hljs-string\"&gt;&amp;#34; &amp;#34;&lt;/span&gt;)]\n                    format_str &amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39; &amp;#39;&lt;/span&gt;.join(coords)\n                    replace_str &amp;#61; replace_str &amp;#43; format_str &amp;#43; &lt;span class=\"hljs-string\"&gt;&amp;#39;\\n&amp;#39;&lt;/span&gt;\n\n                &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;after transfer: &amp;#39;&lt;/span&gt;)\n                &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(new_file)\n                &lt;span class=\"hljs-built_in\"&gt;print&lt;/span&gt;(replace_str)\n                &lt;span class=\"hljs-keyword\"&gt;with&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(new_file, &lt;span class=\"hljs-string\"&gt;&amp;#34;w&amp;#34;&lt;/span&gt;) &lt;span class=\"hljs-keyword\"&gt;as&lt;/span&gt; f2:  &lt;span class=\"hljs-comment\"&gt;# 写入新文件&lt;/span&gt;\n                    f2.write(replace_str)\n\nwalkFile(&lt;span class=\"hljs-string\"&gt;&amp;#34;txts/&amp;#34;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;如有帮助&amp;#xff0c;请点个采纳哦~&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python 批量处理TXT文档内容", ["python 批量处理txt文件内容", "使用python 完成txt文档内容转换", "\n", "\n", "\n", "转换前", "文件夹中有批量的txt文档", "内容为", "第一行 为总坐标数量", "第二、三、四、五行 为坐标信息", "目标", "转换后", "去除第一行总坐标数量、", "只保留坐标信息、且浮点转换为三位数百位数整数", "\n", "*另外将txt文档全部转换为.pts文件类型"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;mybatis plus的批量更新用的是batchexecutor&amp;#xff01;这玩意是将多个sql写入到一个事务提交的&amp;#xff01;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["mybatis-plus批量更新是几条sql?", ["保存的话使用", "\n\n", "\nsaveBatch", "\n\n", "猜测应该是生成这样一条.", "\n\n", "\n", "insert into user (id, name) values\n    (200,'haha' ),\n    (201,'haha2'),\n    (202,'haha3');", "\n\n", "既保证了io次数只有一次,也保证了sql语句执行一条.感觉性能还不错.", "\n\n", "那我有一个问题,我更新操作的时候,我循环更新.", "\n\n", "和使用", "\n\n", "\nsaveOrUpdateBatch", "\n\n", "除了io变成一次之外,sql语句上有什么区别?", "\n\n", "他也会生成一条update语句么?", "\n\n", "但是用一条update语句,我手写sql也不知道怎么写啊.", "\n\n", "请高人指点.", "\n\n", "PS:mysql数据库."]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;I would say the most likely answer to this is that you need to pass the URL values through &lt;code&gt;urlencode()&lt;/code&gt; - particularly the JSON string.&lt;/p&gt;\n\n&lt;p&gt;Also, you should be &lt;code&gt;POST&lt;/code&gt;ing the data.&lt;/p&gt;\n\n&lt;p&gt;Try this code:&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;NB: I presume you are building the URL from several variables. If you edit the question with your actual code, I will provide a solution using that code&lt;/em&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;?php\n\n  $baseURL = 'https://graph.facebook.com/';\n\n  $requestFields = array (\n    'batch' =&amp;gt; '[{\"method\":\"POST\",\"relative_url\":\"method/fql.query?query=SELECT+first_name+from+user+where+uid=12345678\"}]',\n    'access_to‌ken' =&amp;gt; 'whatever'\n  );\n  $requestBody = http_build_query($requestFields);\n\n  $opts = array(\n    'http'=&amp;gt;array(\n      'method' =&amp;gt; 'POST',\n      'header' =&amp;gt; \"Content-Type: application/x-www-form-urlencoded\r\n\"\n                . \"Content-Length: \".strlen($requestBody).\"\r\n\"\n                . \"Connection: close\r\n\",\n      'content' =&amp;gt; $requestBody\n    )\n  );\n\n  $context = stream_context_create($opts);\n\n  $result = file_get_contents($baseURL, FALSE, $context);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A \"more standard\" way to do this these days is with cURL:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;?php\n\n  $baseURL = 'https://graph.facebook.com/';\n\n  $requestFields = array (\n    'batch' =&amp;gt; '[{\"method\":\"POST\",\"relative_url\":\"method/fql.query?query=SELECT+first_name+from+user+where+uid=12345678\"}]',\n    'access_to‌ken' =&amp;gt; 'whatever'\n  );\n  $requestBody = http_build_query($requestFields);\n\n  $ch = curl_init();\n  curl_setopt($ch, CURLOPT_URL, $baseURL);\n  curl_setopt($ch, CURLOPT_POST, TRUE);\n  curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);\n  curl_setopt($ch, CURLOPT_POSTFIELDS, $requestBody);\n  curl_setopt($ch, CURLOPT_HTTPHEADER, array(\n    'Content-Type: application/x-www-form-urlencoded',\n    'Content-Length: '.strlen($requestBody),\n    'Connection: close'\n  ));\n\n  $post = curl_exec($ch);\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["file_get_contents无法使用批量请求从Facebook获取数据", ["\n\n", "file_get_contents not working for fetching fata from facebook using batch requests.Am  using the code below:", "\n\n", "  $url='https://graph.facebook.com/?batch=[{ \"method\": \"POST\", \"relative_url\":\"method/fql.query?query=SELECT+first_name+from+user+where+uid=12345678\"}]&  access_token=xxxxxxx&method=post';\n echo  $post = file_get_contents($url,true);\nit produces \n    Warning: file_get_contents(graph.facebook.com/?batch=[{ \"method\": \"POST\", \"relative_url\": \"method/fql.query?query=SELECT+first_name+from+user+where+uid=12345\"}]&access_to‌ ​ken=xxxx&method=post): failed to open stream: HTTP request failed! HTTP/1.1 400 Bad Request in /home/user/workspace/fslo/test.php on line 9\n", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;字符集不匹配&amp;#xff0c;&amp;#39;\\xE5\\xBC\\xA0\\xE9\\x80\\x9A&amp;#39;是UTF8字符集的&amp;#34;张通&amp;#34; ,所以至少你表的这个字段得是UTF8字符集的&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["使用DBeaver想在表中导入excel的数据只能导入列", ["使用DBeaver想在表中导入excel的数据，但总是无法导入完整的数据，只导入了列。", "错误提醒为：Error occurred during 批量插入（您可以禁用批量插入以跳过特定行）。原因：SQL 错误 [1366] [HY000]: Incorrect string value: '\\xE5\\xBC\\xA0\\xE9\\x80\\x9A' for column 'name' at row 1", "还有我想了解如何彻底删除DBeaver中新建的数据表和表格，因为我发现换一个表格名称就能成功导入数据。"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;给个例子&amp;#xff0c;我自己建了几个文件和目录&amp;#xff0c;你可以参考一下&amp;#xff0c;按你的目录结构修改&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-python\"&gt;import os\ntxts &amp;#61; os.listdir(&lt;span class=\"hljs-string\"&gt;&amp;#39;floder&amp;#39;&lt;/span&gt;)\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; txt &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; txts:\n    &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; txt.endswith(&lt;span class=\"hljs-string\"&gt;&amp;#39;txt&amp;#39;&lt;/span&gt;):\n        f &amp;#61; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;floder/&amp;#39;&lt;/span&gt;&amp;#43;txt, &lt;span class=\"hljs-string\"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;)\n        &lt;span class=\"hljs-keyword\"&gt;lines&lt;/span&gt; &amp;#61; f.readlines()\n        f1 &amp;#61; &lt;span class=\"hljs-built_in\"&gt;open&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;floder/change/&amp;#39;&lt;/span&gt;&amp;#43;txt, &lt;span class=\"hljs-string\"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;)\n        &lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;line&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;lines&lt;/span&gt;:\n            &lt;span class=\"hljs-built_in\"&gt;line&lt;/span&gt; &amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&amp;#43; &lt;span class=\"hljs-built_in\"&gt;line&lt;/span&gt;[&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:]\n            f1.&lt;span class=\"hljs-built_in\"&gt;write&lt;/span&gt;(&lt;span class=\"hljs-built_in\"&gt;line&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img align=\"left\" alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/985863589156166.png\" class=\"md_img\" /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Python 批量更改txt文件中的第一列数值  求解", ["我想要达到的结果", "\n", "\n", " 如上图就是将第一列的1 全部改成0  想一次性批量更改很多txt文件"]], "Tag": "程序设计"}
{"Answer": "有的 , 有的 , 很简单的呀  ...   鼠标左键选中要修改的方法名     然后 shift + f6   直接修改   一键搞定", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量替换项目中同一变量", ["android studio中修改某一方法名时，有没有什么快捷键或者方法可以", "\n将用到该方法名的也批量改掉？"]], "Tag": "程序设计"}
{"Answer": "用vs的性能分析,看看各行语句的运行时间", "Konwledge_Point": "批量数据处理——数组", "Question": ["c#向数据库添加大量数据为何我的这么慢", ["public void ShuaXin()", "\n        {", "\n\n", "        SqlCommand com = new SqlCommand(\"delete from priceavg\", DBHelper.con);\n        DBHelper.con.Open();\n        com.ExecuteNonQuery();\n        DBHelper.con.Close();\n        pros = new List<ProPrice>();\n        com.CommandText = \"select proid from proprice where newprice=1\";\n        DBHelper.con.Open();\n        SqlDataReader re = com.ExecuteReader();\n        ProPrice pp = null;\n        while (re.Read())\n        {\n            pp = new ProPrice() { ProID = Convert.ToInt32(re[\"ProID\"]) };\n            pros.Add(pp);\n        }\n        re.Close();\n        DBHelper.con.Close();\n        //刷新上个月价格\n        for (int i = 0; i < pros.Count; i++)\n        {\n            com.CommandText = string.Format(\"select ptype from product where id={0} \", pros[i].ProID);\n            com.Connection = DBHelper.con;\n            DBHelper.con.Open();\n            if (com.ExecuteScalar() == null)\n            {\n                DBHelper.con.Close();\n                continue;\n            }\n            int id = (int)com.ExecuteScalar();\n            DBHelper.con.Close();\n            DateTime beginTime = DateTime.Parse(DateTime.Now.ToString(\"yyyy-MM-01\")).AddMonths(-1);  //获取本月的月份然后减去一个月\n            DateTime finishTime = DateTime.Parse(DateTime.Now.ToString(\"yyyy-MM-01\")).AddDays(-1);\n\n            if (set.Tables[\"Avg1\"] != null)\n            {\n                set.Tables.Remove(\"Avg1\");\n            }\n            string sql = string.Format(\"select \" + getSqlWhere(id) + \" from proprice  where proid={0} and addtime between '{1}' and '{2}'\", pros[i].ProID, beginTime, finishTime);\n            adapter = new SqlDataAdapter(sql, DBHelper.con);\n            adapter.Fill(set, \"Avg1\");\n            DataTable dt = set.Tables[\"Avg1\"];\n            string[] strs = new string[dt.Columns.Count + 1];\n            int count1 = 0;\n            if (dt.Columns.Count == 1)\n            {\n                strs = new string[dt.Columns.Count + 1];\n            }\n            double avg = 0;\n            for (int j = 0; j < dt.Columns.Count; j++)\n            {\n\n                double num = 0;\n                int count = 0;\n                for (int c = 0; c < dt.Rows.Count; c++)\n                {\n                    if (dt.Rows[c][j] is DBNull || dt.Rows[c][j] == null)\n                    {\n                        count++;\n                        continue;\n                    }\n\n                    if ((dt.Rows[c][j]).ToString() == \"非数字\")\n                    {\n                        count++;\n                        continue;\n                    }\n\n                    if (Convert.ToDouble(dt.Rows[c][j]) == 0)\n                    {\n                        count++;\n                        continue;\n                    }\n                    num += Convert.ToDouble(dt.Rows[c][j]);\n\n                }\n\n                strs[j] = Math.Round(num / (dt.Rows.Count - count), 2).ToString();\n\n                if (strs[j] == \"非数字\")\n                {\n                    count1++;\n                }\n                else\n                {\n                    avg += Convert.ToDouble(strs[j]);\n                }\n\n            }\n            strs[strs.Length - 1] = Math.Round((avg / (strs.Length - 1 - count1)), 2).ToString();\n\n            com.CommandText = string.Format(\"select count(*) from product where id={0} \", pros[i].ProID);\n            DBHelper.con.Open();\n            if ((int)com.ExecuteScalar() == 0)\n            {\n                DBHelper.con.Close();\n                continue;\n            }\n            DBHelper.con.Close();\n\n            com.CommandText = string.Format(\"select IsSeason,ProDescription,ID,ProductImage,Spec,ProAddress,MaoZhong,JingZhong from product where id={0}\", Convert.ToInt32(pros[i].ProID));\n            DBHelper.con.Open();\n            re = com.ExecuteReader();\n            Model.Product p1 = null;\n            if (re.Read())\n            {\n                p1 = new Model.Product()\n                {\n                    IsSeason = Convert.ToInt32(re[\"IsSeason\"]),\n                    ProDescription = re[\"ProDescription\"].ToString(),\n                    ID = Convert.ToInt32(re[\"ID\"]),\n                    ProductImage = re[\"ProductImage\"].ToString(),\n                    Spec = re[\"Spec\"].ToString(),\n                    ProAddress = re[\"ProAddress\"].ToString(),\n                    MaoZhong = re[\"MaoZhong\"].ToString(),\n                    JingZhong = re[\"JingZhong\"].ToString()\n                };\n            }\n            re.Close();\n            DBHelper.con.Close();\n            string sqlstr = @\"INSERT INTO priceAvg ([IsSeason],[ProDescription],[编号],[图片],[品名],[规格],[产地],[毛重],[净重],[isnoBiaoZhunJin],[isnoBiaoZhunJinls],\" + insertSql(id) + \",timetype) values('\" + p1.IsSeason + \"','\" + p1.ProDescription + \"','\" + p1.ID + \"','\" + p1.ProductImage + \"','\" + PinMing(Convert.ToInt32(pros[i].ProID)) + \"','\" + p1.Spec + \"','\" + p1.ProAddress + \"','\" + p1.MaoZhong + \"','\";\n            sqlstr = sqlstr + p1.JingZhong + \"','\" + 0 + \"','\" + 0 + \"','\";\n            if (insertSql(id).Trim() == \"pavgprice\")\n            {\n                strs = new string[] { strs[0] };\n            }\n            int nb = 0;\n            for (int m = 0; m < strs.Length; m++)\n            {\n                if (strs[m] == \"非数字\")\n                {\n                    strs[m] = \"0\";\n                }\n                if (strs[m] == null)\n                {\n                    strs[m] = \"0\";\n                }\n                if (strs[m] == \"0\")\n                {\n                    nb++;\n                }\n                sqlstr = sqlstr + strs[m] + \"','\";\n            }\n            if (nb == strs.Length)\n            {\n                continue;\n            }\n            sqlstr = sqlstr + 1 + \"')\";\n            com.CommandText = sqlstr;\n            DBHelper.con.Open();\n            com.ExecuteNonQuery();\n            DBHelper.con.Close();\n        }\n    }\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;update table set staTime &amp;#61; date_sub(staTime , interval 1 day)&amp;#xff1b;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["sql语句批量更新 时间减去1天", ["\n", "A", "表中字段 StaTime 时间格式为 ", "2022-07-02", " ", "00", ":", "00:00.000", " \n想使用sql语句批量更新 update  ", "A", " 将StaTime 时间减去", "1", "天，怎样写呢？\n"]], "Tag": "程序设计"}
{"Answer": "def edit(self, op, num):\r\n\tsetattr(self. op, num)\r\n\r\n```\r\n \r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["python批量修改类的属性？", ["class test():\n    def __init__(self):\n        self.op=1\n        self.ed=2\n          self.et=3\n    def edit(self,op,num):\n        self.eval(op)=num\ntest1=test()\ntest1.edit(op='ed',num=4) #<—我希望达到的效果\n", "\n\n", "这样的。我定义了一个类，初始化后有多个属性。", "\n想定义一个方法 （例中的edit），输入一个字符串和值；之后将这个对象的指定属性改为默认值。", "\n\n", "我换了几种写法都报错。。", "\n非要为每一个属性的修改定一个方法吗？没有简洁的办法吗？", "\n谢谢大家"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;给你写了一段代码&amp;#xff0c;自己按要求修改&amp;#xff0c;都有注释&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;clc&lt;span class=\"hljs-comment\"&gt;;clear&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;DIR &lt;/span&gt;&amp;#61; &lt;span class=\"hljs-keyword\"&gt;dir(&amp;#39;2019-*-ipa.txt&amp;#39;);\n&lt;/span&gt;&lt;span class=\"hljs-keyword\"&gt;dirCell &lt;/span&gt;&amp;#61; {&lt;!-- --&gt;&lt;span class=\"hljs-keyword\"&gt;DIR.name};\n&lt;/span&gt;&lt;span class=\"hljs-keyword\"&gt;dirCell &lt;/span&gt;&amp;#61; arrayfun(&amp;#64;(i)replace(&lt;span class=\"hljs-keyword\"&gt;dirCell(i),&amp;#39;-ipa.txt&amp;#39;,&amp;#39;&amp;#39;), &lt;/span&gt;&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:numel(&lt;span class=\"hljs-keyword\"&gt;dirCell));\n&lt;/span&gt;[~,idx] &amp;#61; sort(datetime(&lt;span class=\"hljs-keyword\"&gt;dirCell)); &lt;/span&gt;% 把文件按照文件名给出的时间顺序先后排序\n&lt;span class=\"hljs-keyword\"&gt;DIR &lt;/span&gt;&amp;#61; &lt;span class=\"hljs-keyword\"&gt;DIR(idx);\n&lt;/span&gt;col_num &amp;#61; &lt;span class=\"hljs-number\"&gt;4&lt;/span&gt;&lt;span class=\"hljs-comment\"&gt;; % 每个文件提取第几列数据&amp;#xff0c;自己根据需求改&amp;#xff08;我这里写第4列是你说的&amp;#xff09;&lt;/span&gt;\ntotalColumns &amp;#61; []&lt;span class=\"hljs-comment\"&gt;; % 用于存储每个文件指定那列的数据组成新矩阵&lt;/span&gt;\nfor i &amp;#61; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;:numel(&lt;span class=\"hljs-keyword\"&gt;DIR)\n&lt;/span&gt;    q &amp;#61; load(&lt;span class=\"hljs-keyword\"&gt;DIR(i).name);\n&lt;/span&gt;    totalColumns &amp;#61; [totalColumns, q(:,col_num)];\nend\nT &amp;#61; array2table(totalColumns,&lt;span class=\"hljs-string\"&gt;&amp;#39;variablenames&amp;#39;&lt;/span&gt;, &lt;span class=\"hljs-keyword\"&gt;dirCell(idx)); &lt;/span&gt;% 把提取的数据弄成table方便查阅\nwritetable(T,&lt;span class=\"hljs-string\"&gt;&amp;#39;newExtratedColumns.txt&amp;#39;&lt;/span&gt;) % 提取的数据写入到文件\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何用matlab批量提取txt文件里的某一列数据并组成新矩阵", ["目的：提取所有“2019-*-ipa.txt”文件中的第4列的所有数据组成一个新矩阵；", "问题：并不清楚有多少个这样的文件，只知道文件名共同点是前缀为日期，后缀为“-ipa”。", "\n", "本人matlab新生，网上也搜过很多方法，但都没有成功，希望各位帮帮忙，谢谢！", "\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;\nimport sqlite3\n&lt;span class=\"hljs-keyword\"&gt;con&lt;/span&gt; &amp;#61; sqlite3.connect(&lt;span class=\"hljs-string\"&gt;&amp;#39;example.db&amp;#39;&lt;/span&gt;)\ncur &amp;#61; &lt;span class=\"hljs-keyword\"&gt;con&lt;/span&gt;.&lt;span class=\"hljs-built_in\"&gt;cursor&lt;/span&gt;()\nlang_list &amp;#61; [\n(&lt;span class=\"hljs-string\"&gt;&amp;#34;Fortran&amp;#34;&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;1957&lt;/span&gt;),\n(&lt;span class=\"hljs-string\"&gt;&amp;#34;Python&amp;#34;&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;1991&lt;/span&gt;),\n(&lt;span class=\"hljs-string\"&gt;&amp;#34;Go&amp;#34;&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;2009&lt;/span&gt;),\n]\ncur.executemany(&lt;span class=\"hljs-string\"&gt;&amp;#34;insert into lang values (?, ?)&amp;#34;&lt;/span&gt;, lang_list)\n&lt;span class=\"hljs-keyword\"&gt;con&lt;/span&gt;.&lt;span class=\"hljs-keyword\"&gt;close&lt;/span&gt;()\n\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python,sqlite批量插入数值问题", ["第一次接触数据库，怎么把datalist列表数据加入到sql表格里吖，批量操作的方法。", "datalist = ['zhangsan',5000,'jz',2,56,'mnopq'", "            'liwangba',8000,'qz',5,87,'hijkl'", "            'xiaoqiang',7000,'qz',12,580,'abcde']", "sql2 = '''", "    insert into Parttime (", "    Wname,saraly,Wstyle,Nnumber,hits,request", "    )", "    values (%s)'''%(datalist)", "conn = sqlite3.connect(saveDB)", "cursor = conn.cursor()", "cursor.execute(sql2)", "conn.commit()", "conn.close()"]], "Tag": "程序设计"}
{"Answer": "替换a.txt中的\r\n\r\n```\r\n sed -i \"s@//#define LOG 0@#define LOG 0@\" a.txt\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["linux 批量替换带有空格的字符串", ["将多个文件中的", "\n//#define LOG 0", "\n批量替换成", "\n#define LOG 0", "\n求linux指令，或者是一个脚本", "\n\n", "重复写一遍：", "\n将多个文件中的", "\n//#define LOG 0", "\n批量替换成", "\n#define LOG 0", "\n求linux指令，或者是一个脚本"]], "Tag": "程序设计"}
{"Answer": "```\r\n update 表名 set 日期字段=replace(日期字段,'-','')\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["SQL中如何批量修改列表中的日期", ["各位大师请教一个问题！", "\nSQL中如何批量修改列表中的日期，表的类型是char（例如将2016-01-01改为20160101）"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;已解决&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["C#自定义控件集合属性的修改", ["我想要实现增加删除或者修改颜色和名字，现在在编辑器内能够修改，但是显示不出来，没有保存一样，该怎么办", "\n", "\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;您好&amp;#xff0c;我是有问必答小助手&amp;#xff0c;你的问题已经有小伙伴为您解答了问题&amp;#xff0c;您看下是否解决了您的问题&amp;#xff0c;可以追评进行沟通哦~&lt;br /&gt;\n&lt;br /&gt;\n如果有您比较满意的答案 / 帮您提供解决思路的答案&amp;#xff0c;可以点击【采纳】按钮&amp;#xff0c;给回答的小伙伴一些鼓励哦&amp;#xff5e;&amp;#xff5e;&lt;br /&gt;\n&lt;br /&gt;\nps:问答VIP仅需29元&amp;#xff0c;即可享受5次/月 有问必答服务&amp;#xff0c;了解详情&amp;gt;&amp;gt;&amp;gt;&lt;a href=\"https://vip.csdn.net/askvip?utm_source&amp;#61;1146287632\"&gt;https://vip.csdn.net/askvip?utm_source&amp;#61;1146287632&lt;/a&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["mybatis-generator如何生成oracle的批量插入和批量新增", ["现在用  mybatis-generator  完成了基于mysql的批量插入和批量新增，", "\n但在切换oracle库的时候出现了如下提示：", "\n\n", "批量插入和批量新增的方法也没有生成，想问下要怎么做？"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;第一张图中&amp;#xff0c;你的files是在函数中定义的&amp;#xff0c;全局变量中并不存在&amp;#xff0c;所以就会报错。&lt;br /&gt;在函数代码的第一行添加global files试一试&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["python批量读取文件出现问题", ["首先，批量读取移动硬盘里的nc文件", "\n", "之后，选取需要的变量", "\n", "尝试运行一下程序，结果报错", "\n", "报错原因是第二张图for i in files：中“files”没有定义，但是在第一张图中有定义啊，请问这个问题该怎么解决呢？谢谢啦"]], "Tag": "程序设计"}
{"Answer": "解决，把主键的uuid改成字符串的1,2,3.。。。就正常了。\r\n插入10000条，已用时0秒\r\n插入20000条，已用时1秒\r\n插入30000条，已用时2秒\r\n插入40000条，已用时3秒\r\n插入50000条，已用时4秒\r\n插入60000条，已用时5秒\r\n插入70000条，已用时6秒\r\n插入80000条，已用时7秒\r\n插入90000条，已用时7秒\r\n插入100000条，已用时8秒\r\n插入110000条，已用时9秒\r\n插入120000条，已用时10秒\r\n插入130000条，已用时11秒\r\n插入140000条，已用时12秒\r\n插入150000条，已用时13秒\r\n插入160000条，已用时14秒\r\n插入170000条，已用时14秒\r\n插入180000条，已用时15秒\r\n插入190000条，已用时16秒\r\n插入200000条，已用时17秒\r\n插入210000条，已用时18秒\r\n插入220000条，已用时19秒\r\n插入230000条，已用时20秒\r\n插入240000条，已用时21秒\r\n插入250000条，已用时21秒\r\n插入260000条，已用时22秒\r\n插入270000条，已用时23秒\r\n插入280000条，已用时24秒\r\n插入290000条，已用时25秒\r\n插入300000条，已用时26秒\r\n插入310000条，已用时27秒\r\n插入320000条，已用时28秒\r\n插入330000条，已用时28秒\r\n插入340000条，已用时29秒\r\n插入350000条，已用时30秒\r\n插入360000条，已用时31秒\r\n插入370000条，已用时32秒\r\n插入380000条，已用时33秒\r\n插入390000条，已用时34秒\r\n插入400000条，已用时34秒\r\n插入410000条，已用时35秒\r\n插入420000条，已用时36秒\r\n插入430000条，已用时37秒\r\n插入440000条，已用时38秒\r\n插入450000条，已用时40秒\r\n插入460000条，已用时41秒\r\n插入470000条，已用时42秒\r\n插入480000条，已用时43秒\r\n插入490000条，已用时44秒\r\n插入500000条，已用时45秒\r\n插入510000条，已用时46秒\r\n插入520000条，已用时47秒\r\n插入530000条，已用时48秒\r\n插入540000条，已用时49秒\r\n插入550000条，已用时50秒\r\n插入560000条，已用时51秒\r\n插入570000条，已用时52秒\r\n插入580000条，已用时53秒\r\n插入590000条，已用时54秒\r\n插入600000条，已用时55秒\r\n插入610000条，已用时56秒\r\n插入620000条，已用时57秒\r\n插入630000条，已用时58秒\r\n插入640000条，已用时59秒\r\n插入650000条，已用时60秒\r\n插入660000条，已用时61秒\r\n插入670000条，已用时62秒\r\n插入680000条，已用时63秒\r\n插入690000条，已用时64秒\r\n插入700000条，已用时65秒\r\n插入710000条，已用时66秒\r\n插入720000条，已用时67秒\r\n插入730000条，已用时68秒\r\n插入740000条，已用时69秒\r\n插入750000条，已用时70秒\r\n插入760000条，已用时71秒\r\n插入770000条，已用时73秒\r\n插入780000条，已用时74秒\r\n插入790000条，已用时75秒\r\n插入800000条，已用时76秒\r\n插入810000条，已用时77秒\r\n插入820000条，已用时78秒\r\n插入830000条，已用时80秒\r\n插入840000条，已用时81秒\r\n插入850000条，已用时82秒\r\n插入860000条，已用时83秒\r\n插入870000条，已用时84秒\r\n插入880000条，已用时85秒\r\n插入890000条，已用时86秒\r\n插入900000条，已用时87秒\r\n插入910000条，已用时88秒\r\n插入920000条，已用时90秒\r\n插入930000条，已用时91秒\r\n插入940000条，已用时92秒\r\n插入950000条，已用时93秒\r\n插入960000条，已用时94秒\r\n插入970000条，已用时95秒\r\n插入980000条，已用时97秒\r\n插入990000条，已用时98秒\r\n插入1000000条，已用时99秒\r\n插入1010000条，已用时100秒\r\n插入1020000条，已用时101秒\r\n插入1030000条，已用时102秒\r\n插入1040000条，已用时104秒\r\n插入1050000条，已用时105秒\r\n插入1060000条，已用时106秒\r\n插入1070000条，已用时107秒\r\n插入1080000条，已用时108秒\r\n插入1090000条，已用时110秒\r\n插入1100000条，已用时111秒\r\n插入1110000条，已用时113秒\r\n插入1120000条，已用时114秒\r\n插入1130000条，已用时116秒\r\n插入1140000条，已用时117秒\r\n插入1150000条，已用时118秒\r\n插入1160000条，已用时119秒\r\n插入1170000条，已用时121秒\r\n插入1180000条，已用时122秒\r\n插入1190000条，已用时123秒\r\n插入1200000条，已用时124秒\r\n插入1210000条，已用时125秒\r\n插入1220000条，已用时126秒\r\n插入1230000条，已用时128秒\r\n插入1240000条，已用时129秒\r\n插入1250000条，已用时130秒\r\n插入1260000条，已用时131秒\r\n插入1270000条，已用时133秒\r\n插入1280000条，已用时134秒\r\n插入1290000条，已用时135秒\r\n插入1300000条，已用时136秒\r\n插入1310000条，已用时138秒\r\n插入1320000条，已用时139秒\r\n插入1330000条，已用时140秒\r\n插入1340000条，已用时141秒\r\n插入1350000条，已用时143秒\r\n插入1360000条，已用时144秒\r\n插入1370000条，已用时145秒\r\n插入1380000条，已用时146秒\r\n插入1390000条，已用时148秒\r\n插入1400000条，已用时149秒\r\n插入1410000条，已用时150秒\r\n插入1420000条，已用时151秒\r\n插入1430000条，已用时153秒\r\n插入1440000条，已用时154秒\r\n插入1450000条，已用时155秒\r\n插入1460000条，已用时157秒\r\n插入1470000条，已用时158秒\r\n插入1480000条，已用时159秒\r\n插入1490000条，已用时160秒\r\n插入1500000条，已用时161秒\r\n插入1510000条，已用时163秒\r\n插入1520000条，已用时164秒\r\n插入1530000条，已用时165秒\r\n插入1540000条，已用时166秒\r\n插入1550000条，已用时168秒\r\n插入1560000条，已用时169秒\r\n插入1570000条，已用时170秒\r\n插入1580000条，已用时171秒\r\n插入1590000条，已用时172秒\r\n插入1600000条，已用时173秒\r\n插入1610000条，已用时175秒\r\n插入1620000条，已用时176秒\r\n插入1630000条，已用时178秒\r\n插入1640000条，已用时179秒\r\n插入1650000条，已用时180秒\r\n插入1660000条，已用时182秒\r\n插入1670000条，已用时183秒\r\n插入1680000条，已用时184秒\r\n插入1690000条，已用时185秒\r\n插入1700000条，已用时186秒\r\n插入1710000条，已用时188秒\r\n插入1720000条，已用时189秒\r\n插入1730000条，已用时190秒\r\n插入1740000条，已用时192秒\r\n插入1750000条，已用时193秒\r\n插入1760000条，已用时194秒\r\n插入1770000条，已用时195秒\r\n插入1780000条，已用时197秒\r\n插入1790000条，已用时198秒\r\n插入1800000条，已用时199秒\r\n插入1810000条，已用时201秒\r\n插入1820000条，已用时202秒\r\n插入1830000条，已用时203秒\r\n插入1840000条，已用时205秒\r\n插入1850000条，已用时206秒\r\n插入1860000条，已用时207秒\r\n插入1870000条，已用时209秒\r\n插入1880000条，已用时210秒\r\n插入1890000条，已用时211秒\r\n插入1900000条，已用时212秒\r\n插入1910000条，已用时213秒\r\n插入1920000条，已用时215秒\r\n插入1930000条，已用时216秒\r\n插入1940000条，已用时217秒\r\n插入1950000条，已用时218秒\r\n插入1960000条，已用时220秒\r\n插入1970000条，已用时221秒\r\n插入1980000条，已用时222秒\r\n插入1990000条，已用时223秒\r\n插入2000000条，已用时225秒\r\n插入2010000条，已用时226秒\r\n插入2020000条，已用时227秒\r\n插入2030000条，已用时228秒\r\n插入2040000条，已用时229秒\r\n插入2050000条，已用时230秒\r\n插入2060000条，已用时231秒\r\n插入2070000条，已用时233秒\r\n插入2080000条，已用时234秒\r\n插入2090000条，已用时236秒\r\n插入2100000条，已用时237秒\r\n插入2110000条，已用时238秒\r\n插入2120000条，已用时239秒\r\n插入2130000条，已用时241秒\r\n插入2140000条，已用时242秒\r\n插入2150000条，已用时243秒\r\n插入2160000条，已用时244秒\r\n插入2170000条，已用时246秒\r\n插入2180000条，已用时247秒\r\n插入2190000条，已用时249秒\r\n插入2200000条，已用时250秒\r\n插入2210000条，已用时251秒\r\n插入2220000条，已用时253秒\r\n插入2230000条，已用时254秒\r\n插入2240000条，已用时255秒\r\n插入2250000条，已用时256秒\r\n插入2260000条，已用时258秒\r\n插入2270000条，已用时259秒\r\n插入2280000条，已用时261秒\r\n插入2290000条，已用时263秒\r\n插入2300000条，已用时265秒\r\n插入2310000条，已用时266秒\r\n插入2320000条，已用时267秒\r\n插入2330000条，已用时268秒\r\n插入2340000条，已用时269秒\r\n插入2350000条，已用时270秒\r\n插入2360000条，已用时271秒\r\n插入2370000条，已用时272秒\r\n插入2380000条，已用时273秒\r\n插入2390000条，已用时275秒\r\n插入2400000条，已用时276秒\r\n插入2410000条，已用时277秒\r\n插入2420000条，已用时279秒\r\n插入2430000条，已用时280秒\r\n插入2440000条，已用时281秒\r\n插入2450000条，已用时282秒\r\n插入2460000条，已用时283秒\r\n插入2470000条，已用时284秒\r\n插入2480000条，已用时285秒\r\n插入2490000条，已用时286秒\r\n插入2500000条，已用时288秒\r\n插入2510000条，已用时289秒\r\n插入2520000条，已用时290秒\r\n插入2530000条，已用时292秒\r\n插入2540000条，已用时293秒\r\n插入2550000条，已用时294秒\r\n插入2560000条，已用时295秒\r\n插入2570000条，已用时296秒\r\n插入2580000条，已用时298秒\r\n插入2590000条，已用时299秒\r\n插入2600000条，已用时300秒\r\n插入2610000条，已用时301秒\r\n插入2620000条，已用时302秒\r\n插入2630000条，已用时304秒\r\n插入2640000条，已用时305秒\r\n插入2650000条，已用时306秒\r\n插入2660000条，已用时308秒\r\n插入2670000条，已用时309秒\r\n插入2680000条，已用时310秒\r\n插入2690000条，已用时311秒\r\n插入2700000条，已用时313秒\r\n插入2710000条，已用时314秒\r\n插入2720000条，已用时315秒\r\n插入2730000条，已用时316秒\r\n插入2740000条，已用时317秒\r\n插入2750000条，已用时319秒\r\n插入2760000条，已用时320秒\r\n插入2770000条，已用时321秒\r\n插入2780000条，已用时322秒\r\n插入2790000条，已用时324秒\r\n插入2800000条，已用时325秒\r\n插入2810000条，已用时326秒\r\n插入2820000条，已用时327秒\r\n插入2830000条，已用时329秒\r\n插入2840000条，已用时330秒\r\n插入2850000条，已用时331秒\r\n插入2860000条，已用时332秒\r\n插入2870000条，已用时334秒\r\n插入2880000条，已用时335秒\r\n插入2890000条，已用时336秒\r\n插入2900000条，已用时337秒\r\n插入2910000条，已用时339秒\r\n插入2920000条，已用时340秒\r\n插入2930000条，已用时341秒\r\n插入2940000条，已用时342秒\r\n插入2950000条，已用时343秒\r\n插入2960000条，已用时344秒\r\n插入2970000条，已用时345秒\r\n插入2980000条，已用时347秒\r\n插入2990000条，已用时348秒\r\n插入3000000条，已用时349秒\r\n插入3010000条，已用时351秒\r\n插入3020000条，已用时352秒\r\n插入3030000条，已用时353秒\r\n插入3040000条，已用时355秒\r\n插入3050000条，已用时356秒\r\n插入3060000条，已用时358秒\r\n插入3070000条，已用时359秒\r\n插入3080000条，已用时360秒\r\n插入3090000条，已用时361秒\r\n插入3100000条，已用时362秒", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql（表：InnoDB，无索引），批量插入50万条记录后，越来越慢。", ["插入10000条，已用时0秒", "\n插入20000条，已用时2秒", "\n插入30000条，已用时3秒", "\n插入40000条，已用时3秒", "\n插入50000条，已用时4秒", "\n插入60000条，已用时5秒", "\n插入70000条，已用时6秒", "\n插入80000条，已用时7秒", "\n插入90000条，已用时8秒", "\n插入100000条，已用时9秒", "\n插入110000条，已用时11秒", "\n插入120000条，已用时12秒", "\n插入130000条，已用时13秒", "\n插入140000条，已用时14秒", "\n插入150000条，已用时15秒", "\n插入160000条，已用时16秒", "\n插入170000条，已用时17秒", "\n插入180000条，已用时18秒", "\n插入190000条，已用时19秒", "\n插入200000条，已用时21秒", "\n插入210000条，已用时22秒", "\n插入220000条，已用时23秒", "\n插入230000条，已用时25秒", "\n插入240000条，已用时26秒", "\n插入250000条，已用时27秒", "\n插入260000条，已用时28秒", "\n插入270000条，已用时30秒", "\n插入280000条，已用时31秒", "\n插入290000条，已用时32秒", "\n插入300000条，已用时33秒", "\n插入310000条，已用时34秒", "\n插入320000条，已用时36秒", "\n插入330000条，已用时37秒", "\n插入340000条，已用时38秒", "\n插入350000条，已用时39秒", "\n插入360000条，已用时41秒", "\n插入370000条，已用时42秒", "\n插入380000条，已用时43秒", "\n插入390000条，已用时44秒", "\n插入400000条，已用时45秒", "\n插入410000条，已用时46秒", "\n插入420000条，已用时48秒", "\n插入430000条，已用时49秒", "\n插入440000条，已用时50秒", "\n插入450000条，已用时52秒", "\n插入460000条，已用时57秒", "\n插入470000条，已用时66秒", "\n插入480000条，已用时76秒", "\n插入490000条，已用时90秒", "\n插入500000条，已用时105秒", "\n插入510000条，已用时123秒", "\n插入520000条，已用时142秒", "\n插入530000条，已用时164秒", "\n插入540000条，已用时187秒", "\n插入550000条，已用时212秒", "\n插入560000条，已用时239秒", "\n插入570000条，已用时266秒", "\n插入580000条，已用时294秒", "\n插入590000条，已用时323秒", "\n插入600000条，已用时358秒", "\n插入610000条，已用时389秒", "\n插入620000条，已用时421秒", "\n插入630000条，已用时458秒", "\n插入640000条，已用时496秒", "\n\n", "停止程序，再次运行，一万条需几十秒。", "\n清空该表，重新运行，很快。在将近插入50万条记录时，一万条需几十秒。", "\n\n", "public static void main(String[] args) {\n    PreparedStatement pstmt = null;\n    Connection conn = null;\n    try {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        String url = \"jdbc:mysql://localhost:3306/pis\";\n        String username = \"root\";\n        String password = \"root\";\n        conn = DriverManager.getConnection(url, username, password);\n\n        conn.setAutoCommit(false);\n\n        String sql = \"SELECT T.ID FROM PIS_PERSON_EX T WHERE T.NAME LIKE 'TEST%'\";\n        PreparedStatement statement = conn.prepareStatement(sql);\n        ResultSet result = statement.executeQuery();\n\n        String sql2 = \"INSERT INTO PIS_RECORD (ID, RCTIMES, RCTIMEP, YEARS, MONTHS, DAYS, YMD, PERSONID, DEVICEID, NOTESTR) \"\n                + \" VALUES (?,?,?,?,?,?,?,?,?,?)\";\n        pstmt = conn.prepareStatement(sql2);\n\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMddHHmmss\");\n        Random random = new Random();\n        int pos = 0;\n        Date t1 = new Date();\n        while (result.next()) {\n            for (int i = 1; i <= 31; i++) {\n                String day = i + \"\";\n                if (i < 10) {\n                    day = \"0\" + i;\n                }\n\n                for(int j = 0; j < 5; j++){\n                    Date checkStartTime = new Date(\n                            sdf.parse(\"201601\" + day + \"090000\").getTime() - (random.nextInt(21600000) - 10800000));\n                    Date checkEndTime = new Date(\n                            sdf.parse(\"201601\" + day + \"180000\").getTime() - (random.nextInt(21600000) - 10800000));\n                    String checkStartTimeStr = sdf.format(checkStartTime);\n                    String checkEndTimeStr = sdf.format(checkEndTime);\n\n                    pstmt.setString(1, UUID.randomUUID().toString().replaceAll(\"-\", \"\"));\n                    pstmt.setString(2, checkStartTimeStr);\n                    pstmt.setTimestamp(3, new Timestamp(checkStartTime.getTime()));\n                    pstmt.setString(4, checkStartTimeStr.substring(0, 4));\n                    pstmt.setString(5, checkStartTimeStr.substring(4, 6));\n                    pstmt.setString(6, checkStartTimeStr.substring(6, 8));\n                    pstmt.setString(7, checkStartTimeStr.substring(0, 8));\n                    pstmt.setString(8, result.getString(1));\n                    pstmt.setString(9, \"402888634f5d7f28014f62f346af1268\");\n                    pstmt.setString(10, \"NONE\");\n                    pos++;\n                    pstmt.addBatch();\n\n                    pstmt.setString(1, UUID.randomUUID().toString().replaceAll(\"-\", \"\"));\n                    pstmt.setString(2, checkEndTimeStr);\n                    pstmt.setTimestamp(3, new Timestamp(checkEndTime.getTime()));\n                    pstmt.setString(4, checkEndTimeStr.substring(0, 4));\n                    pstmt.setString(5, checkEndTimeStr.substring(4, 6));\n                    pstmt.setString(6, checkEndTimeStr.substring(6, 8));\n                    pstmt.setString(7, checkEndTimeStr.substring(0, 8));\n                    pstmt.setString(8, result.getString(1));\n                    pstmt.setString(9, \"402888634f5d7f28014f62f346af1268\");\n                    pstmt.setString(10, \"NONE\");\n                    pos++;\n                    pstmt.addBatch();\n\n                    if (pos % 10000 == 0) {\n                        long sj = (new Date().getTime() - t1.getTime()) / 1000;\n                        pstmt.executeBatch();\n                        conn.commit();\n                        System.out.println(\"插入\" + pos + \"条，已用时\"+sj+\"秒\");\n                    }\n                }\n            }\n        }\n\n        pstmt.executeBatch();\n        conn.commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (pstmt != null) {\n            try {\n                pstmt.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Shouldn't the &lt;code&gt;.$files[0]&lt;/code&gt; be just &lt;code&gt;$fname&lt;/code&gt; in your fourth-from-last line? Like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$upload_result = curl_upload('http://...','torrent','public_html/download_folder/'.$fname);\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["curl不循环遍历此数组", ["\n\n", "<?php\n// open the current directory\n$dhandle = opendir('.');\n// define an array to hold the files\n$files = array();\n\nif ($dhandle) {\n   // loop through all of the files\n   while (false !== ($fname = readdir($dhandle))) {\n      // if the file is not this file, and does not start with a '.' or '..',\n      // then store it for later display\n      if (($fname != 'index.htm') && ($fname != 'torcache.php')&& ($fname != 'error_log') && (substr($fname, 0, 5) != 'other') && (substr($fname, 0, 2) != 'dd') &&\n          ($fname != basename($_SERVER['PHP_SELF']))) {\n          // store the filename\n          $files[] = (is_dir( \"./$fname\" )) ? \"(Dir) {$fname}\" : $fname;\n      }\n   }\n   // close the directory\n   closedir($dhandle);\n}\n\n\nfunction curl_upload($url,$fileFormAttribute,$file){\n        $ch = curl_init();\n        curl_setopt($ch, CURLOPT_HEADER, 0);\n        curl_setopt($ch, CURLOPT_VERBOSE, 1);\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n        curl_setopt($ch, CURLOPT_USERAGENT, \"Mozilla/4.0 (compatible;)\");\n        curl_setopt($ch, CURLOPT_URL, $url);\n        curl_setopt($ch,CURLOPT_SSL_VERIFYPEER, false);\n        curl_setopt($ch,CURLOPT_REFERER, 'https://torcache.net/');\n        curl_setopt($ch,CURLOPT_ENCODING,\"gzip\");\n        curl_setopt($ch, CURLOPT_POST, true);\n        $post = array($fileFormAttribute=>\"@\".$file);\n        curl_setopt($ch, CURLOPT_POSTFIELDS, $post);\n        $response = curl_exec($ch);\n        return $response;\n}\nforeach( $files as $fname )\n{\nerror_reporting(E_ALL);\n\n\n$upload_result = curl_upload('http://torcache.net/autoupload.php','torrent','public_html/download_folder/'.$files[0]);\n}\nvar_dump($upload_result);\n?>\n", "\n\n", "when i run this script it only posts the first item in the array instead of looping through the entire array\nwhat am i doing wrong? I want to have it loop through all the files in the dir then post them to torcache and then give me back the string;", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;You are not using the right way and hooks. Also the right custom field meta key should be &lt;code&gt;_wc_acof_3&lt;/code&gt; when using WooCommerce Admin Custom Order Fields plugin. &lt;/p&gt;\n\n&lt;p&gt;So try the following instead:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Add a bulk action to Orders bulk actions dropdown\nadd_filter( 'bulk_actions-edit-shop_order', 'decrease_meals_orders_bulk_actions' );\nfunction decrease_meals_orders_bulk_actions( $bulk_actions ) {\n    $bulk_actions['decrease_meals'] = 'Decrease Number of Meals by 1';\n    return $bulk_actions;\n}\n\n// Process the bulk action from selected orders\nadd_filter( 'handle_bulk_actions-edit-shop_order', 'decrease_meals_bulk_action_edit_shop_order', 10, 3 );\nfunction decrease_meals_bulk_action_edit_shop_order( $redirect_to, $action, $post_ids ) {\n    if ( $action === 'decrease_meals' ){\n        $processed_ids = array(); // Initializing\n\n        foreach ( $post_ids as $post_id ) {\n            // Get number of meals\n            $nb_meal = (int) get_post_meta( $post_id, '_wc_acof_3', true );\n\n            // Save the decreased number of meals ($meals - 1)\n            update_post_meta( $post_id, '_wc_acof_3', $nb_meal - 1 );\n\n            $processed_ids[] = $post_id; // Adding processed order IDs to an array\n        }\n\n        // Adding the right query vars to the returned URL\n        $redirect_to = add_query_arg( array(\n            'decrease_meals' =&amp;gt; '1',\n            'processed_count' =&amp;gt; count( $processed_ids ),\n            'processed_ids' =&amp;gt; implode( ',', $processed_ids ),\n        ), $redirect_to );\n    }\n    return $redirect_to;\n}\n\n// Display the results notice from bulk action on orders\nadd_action( 'admin_notices', 'decrease_meals_bulk_action_admin_notice' );\nfunction decrease_meals_bulk_action_admin_notice() {\n    global $pagenow;\n\n    if ( 'edit.php' === $pagenow &amp;amp;&amp;amp; isset($_GET['post_type']) \n    &amp;amp;&amp;amp; 'shop_order' === $_GET['post_type'] &amp;amp;&amp;amp; isset($_GET['decrease_meals']) {\n\n        $count = intval( $_REQUEST['processed_count'] );\n\n        printf( '&amp;lt;div class=\"notice notice-success fade is-dismissible\"&amp;gt;&amp;lt;p&amp;gt;' .\n            _n( 'Decreased meals for %s Order.',\n            'Decreased meals for %s Orders.',\n            $count,\n            'woocommerce'\n        ) . '&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;', $count );\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Code goes in function.php file of your active child theme (or active theme). Tested and works.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://i.stack.imgur.com/KBDPQ.png\" rel=\"nofollow noreferrer\"&gt;&lt;img src=\"https://i.stack.imgur.com/KBDPQ.png\" alt=\"enter image description here\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://i.stack.imgur.com/wp8hW.png\" rel=\"nofollow noreferrer\"&gt;&lt;img src=\"https://i.stack.imgur.com/wp8hW.png\" alt=\"enter image description here\"&gt;&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["在Woocommerce中的管理订单列表上处理自定义批量操作", ["\n\n", "I have added a custom action in my woocommerce orders page like shown below, and I also have a custom order field \"number of meals\". Now what I want is when I select the orders in bulk and use that custom action then count of number of meals should get decreased by 1. ", "\nFor example if order id 1 & 2 had 15 & 12 number of meals respectively then after using the action it should become 14 & 11…", "\n\n", "The screenshot of my orders page, the custom hook and the custom order field I created:", "\n\n", "\n\n", "My code:", "\n\n", "add_filter( 'bulk_actions-edit-shop_order', 'decrease_number_of_meals_by_1' );\nfunction decrease_number_of_meals_by_1( $bulk_actions ) {\n    $bulk_actions['decrease_number_of_meals'] = 'Decrease Number of Meals by 1';\n    return $bulk_actions;\n}\n\nadd_action( 'admin_action_decrease_number_of_meals', 'fire_my_hook' );\nfunction fire_my_hook() {\n    if( !isset( $_REQUEST['post'] ) && !is_array( $_REQUEST['post'] ) )\n        return;\n\n    foreach( $_REQUEST['post'] as $order_id ) {\n\n        $order = new WC_Order( $order_id );\n        $no_of_meals = $order->get_post_meta( $order_id, '_wc_acof_{3}', true );\n    }\n}\n", "\n\n", "I am stuck here and have no idea on how to do it further. ", "\nPlease guide me on how can I achieve this. ", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;先上一张图&lt;br /&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img align=\"left\" alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/964240927146116.png\" class=\"md_img\" /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;然后嵌套函数更新,没有报错&lt;br /&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img align=\"left\" alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/607091927146177.png\" class=\"md_img\" /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;查询结果,已经被正常更新&lt;br /&gt;&lt;/p&gt;&lt;p class=\"md_img_container\"&gt;&lt;img align=\"left\" alt=\"img\" src=\"https://img-mid.csdnimg.cn/release/static/image/mid/ask/141062927146189.png\" class=\"md_img\" /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;所以,请提供你的报错信息看看,应该不是嵌套函数的问题&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["MYSQL 在做批量更新的时候需要多个函数，怎么做", ["MYSQL 批量添加日志,需要使用字符串合并，如果使用MSSQL嵌套函数会报错，我知道MYSQL 不能嵌套，那应该怎么做呢？", "\n", "\n", "update", " ", "table", " ", "set", "  p_log=CONCAT(", "'123456'", " ,round(P1,", "0", "),p_log)   ", "where", " id=", "1", ";\n\n"]], "Tag": "程序设计"}
{"Answer": "spring这个批量插入有点限制，比如你这个特殊需要，我感觉它实现不了，所以你用我上面说的那个方法迂回实现。我感觉性能方面应该不会有太大的影响。你看spring的批量插入的时候这个BatchPreparedStatementSetter借口的方法setValues(PreparedStatement ps, int i)  ,提供了一个索引i，它肯定也遍历了，要么怎么知道i的值。所以有特殊需求的时候就用上面那种方案，没有的时候推荐用spring提供了批量操作，我们项目中就这么做的。", "Konwledge_Point": "批量数据处理——数组", "Question": ["spring JdbcTemplate批量插入 怎么获得数据库自动增长的id", ["如下，插入一条记录的时候可以这样返回id(一下代码只是说明事例):", "\n[code=\"java\"]", "\n//保存一个test对象,并返回该对象", "\npublic Test save(Test test){", "\n  KeyHolder keyHolder = new GeneratedKeyHolder();", "\n                        getJdbcTemplate().update(new PreparedStatementCreator() {", "\n                    @Override", "\n                    public PreparedStatement createPreparedStatement(", "\n                            Connection con) throws SQLException {", "\n                        PreparedStatement ps = con.prepareStatement(\"insert into tb_test (name,sex) values (?,?)\",", "\n                                Statement.RETURN_GENERATED_KEYS);", "\n                        ps.setString(1, test.getName());", "\n                        ps.setString(2, test.getSex());", "\n                        return ps;", "\n                    }", "\n                }, keyHolder);", "\n                               //这里可以获得数据库id", "\n                test.setId(Integer.valueOf(keyHolder.getKeyList().get(0)", "\n                        .toString()));", "\n                               return test;", "\n}", "\n    // 批量插入,", "\n    public List saveOrUpdateAll(final List list) {", "\n        getJdbcTemplate().batchUpdate(", "\n                \"insert into tb_test (name,sex) values (?,?)\",", "\n                new BatchPreparedStatementSetter() {", "\n                    @Override", "\n                    public void setValues(PreparedStatement ps, int i)", "\n                            throws SQLException {", "\n                        ps.setString(1, list.get(i).getName());", "\n                        ps.setString(2, list.get(i).getSex());", "\n                    }", "\n                    @Override", "\n                    public int getBatchSize() {", "\n                        return list.size();", "\n                    }", "\n                });", "\n                //哪个方法可以获得list中每个test对象的id?我不想重新进行查询", "\n        return list;", "\n    }", "\n[/code]"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;你好&amp;#xff0c;我是有问必答小助手&amp;#xff0c;非常抱歉&amp;#xff0c;本次您提出的有问必答问题&amp;#xff0c;技术专家团超时未为您做出解答&lt;br /&gt; &lt;br /&gt;&lt;br /&gt;本次提问扣除的有问必答次数&amp;#xff0c;已经为您补发到账户&amp;#xff0c;我们后续会持续优化&amp;#xff0c;扩大我们的服务范围&amp;#xff0c;为您带来更好地服务。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["R语言如何批量处理Word文件？", ["按照论坛批量处理csv文件的方法处理word。总是会报错", "\n", "问题相关代码，请勿粘贴截图", "\n", "\n", "library(docxtractr)", "path <- \"C:/r4r/PLFA/try/\"", "files <- list.files(path=path, pattern=\"*.docx\")", "for(file in files)", " {", "perpos <- which(strsplit(file, \"\")[[1]]==\".\")", "assign(", "gsub(\" \",\"\",substr(file, 1, perpos-1)),", "read_docx(paste(path,file)))", " }", "Error: Cannot find 'C:/r4r/PLFA/try/ 1.docx’", "\n", "\n", "求一个批量处理Word文件的办法！！感谢！！"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;提供参考链接&amp;#xff1a;&lt;a href=\"https://zhuanlan.zhihu.com/p/388277883\" id=\"textarea_1667721598537_1667721957461_0\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;&lt;span class=\"md_link_url\"&gt;https://zhuanlan.zhihu.com/p/388277883&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["macbook可以实现批量下载微信公众号推送保存为PDF之类的吗？", ["问题遇到的现象和发生背景", "\n", "请问macbook有可以实现批量下载微信公众号推送以及其评论的工具吗？目前搜到的相关批量抓取下载工具只支持Windows系统，想请教一下有没有mac能用的工具呀。", "\n", "PS：属于无法登陆微信公众号平台后台的情况；希望是现成平台可用的那种；代码基础薄弱技术不精，但如果有能运行的程序也欢迎呀", "\n", "用代码块功能插入代码，请勿粘贴截图"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;新建一个bat批处理文件比如t.bat&amp;#xff0c;放在你当前文件夹比如d:\\mydir\\下&amp;#xff0c;内容为&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-bash\"&gt;&lt;span class=\"hljs-built_in\"&gt;cd&lt;/span&gt; /d d:\\mydir\\\n&lt;span class=\"hljs-built_in\"&gt;md&lt;/span&gt; A\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; /f &lt;span class=\"hljs-variable\"&gt;%%a&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&amp;#39;&lt;span class=\"hljs-built_in\"&gt;dir&lt;/span&gt; /ad /b &lt;span class=\"hljs-number\"&gt;123&lt;/span&gt;A*&amp;#39;) &lt;span class=\"hljs-keyword\"&gt;do&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;copy&lt;/span&gt; &lt;span class=\"hljs-variable\"&gt;%%a&lt;/span&gt;\\*.* A\n&lt;span class=\"hljs-built_in\"&gt;md&lt;/span&gt; Z\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; /f &lt;span class=\"hljs-variable\"&gt;%%a&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&amp;#39;&lt;span class=\"hljs-built_in\"&gt;dir&lt;/span&gt; /ad /b &lt;span class=\"hljs-number\"&gt;123&lt;/span&gt;Z*&amp;#39;) &lt;span class=\"hljs-keyword\"&gt;do&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;copy&lt;/span&gt; &lt;span class=\"hljs-variable\"&gt;%%a&lt;/span&gt;\\*.* Z\n&lt;span class=\"hljs-built_in\"&gt;md&lt;/span&gt; C\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; /f &lt;span class=\"hljs-variable\"&gt;%%a&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; (&amp;#39;&lt;span class=\"hljs-built_in\"&gt;dir&lt;/span&gt; /ad /b &lt;span class=\"hljs-number\"&gt;123&lt;/span&gt;C*&amp;#39;) &lt;span class=\"hljs-keyword\"&gt;do&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;copy&lt;/span&gt; &lt;span class=\"hljs-variable\"&gt;%%a&lt;/span&gt;\\*.* C\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;然后在资源管理器中&amp;#xff0c;以管理员身份运行这个t.bat&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["文件如何批量归档问题", ["有多个文件加、", "如：123A12、123A13、123A14", "123Z12、123Z13、123Z14", "123C12、123C13、123C14文件夹内都包含了不同名字的图片，EXCEL文件等", "如何批量123A12、123A13、123A14归到A文件夹，123Z12、123Z13、123Z14归到Z文件夹,123C12、123C13、123C14归到C文件夹内"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;用如下代码就可以的&amp;#xff0c;你试一下&amp;#xff1a;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\"language-javascript\"&gt;&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;getwd&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;library&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;(dgof)&lt;/span&gt;&lt;/span&gt;\ndf&amp;#61;read&lt;span class=\"hljs-selector-class\"&gt;.csv&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;&amp;#39;data4r.csv&amp;#39;&lt;/span&gt;,sep&amp;#61;&lt;span class=\"hljs-string\"&gt;&amp;#39; &amp;#39;&lt;/span&gt;,header&amp;#61;T)\n&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;print&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;(df&lt;span class=\"hljs-variable\"&gt;$F1_ShapeConvex&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\"hljs-function\"&gt;&lt;span class=\"hljs-title\"&gt;attach&lt;/span&gt;&lt;span class=\"hljs-params\"&gt;(df)&lt;/span&gt;&lt;/span&gt;\nvariableR&amp;#61;list(F1_ShapeCompactness1,F1_ShapeCompactness2,F1_ShapeConvex,F1_ShapeConvexHullVolume)\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; (&lt;span class=\"hljs-selector-tag\"&gt;i&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; variableR){\n        print(ks&lt;span class=\"hljs-selector-class\"&gt;.test&lt;/span&gt;(&lt;span class=\"hljs-selector-tag\"&gt;i&lt;/span&gt;,&lt;span class=\"hljs-string\"&gt;&amp;#34;pnorm&amp;#34;&lt;/span&gt;))}\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["R语言 如何进行多列数据的正态分布的检验！", ["尊敬的各位R语言的朋友，有个问题请教：", "我在分析一个数据的每一列是否符合正态分布，因为正态分布检验一次只能检验一列数据，如果有多列数据需要检验，则需要运行多次，数据结构如下：", "diagnosis F1_ShapeCompactness1 F1_ShapeCompactness2 F1_ShapeConvex F1_ShapeConvexHullVolume", "1         3           -0.6082260           -0.4716234    -0.04256966               0.41542968", "2         1           -0.8739602           -0.4461997    -0.04540545              -0.06083073", "3         1           -1.0683939           -0.5854250    -0.07018161              -0.32101565", "4         1           -0.3223201           -0.7408305    -0.05732012               1.05622575", "5         1           -0.4515446           -0.8546835    -0.07743922               0.89721721", "6         1           -1.0859284           -0.5042789    -0.04929866              -0.3921340", "我想分析从第2列开始到第5列的数据是否符合正态分布，如果单独用如下", "data <- read.csv(\"anovasample.csv\", header = TRUE)", "ks.test(F1_ShapeCompactness2,\"pnorm\")", "把每一列变量输入后一共需要手工赋值操作4次，我尝试用for循环：", "variableR=list(F1_ShapeCompactness1,F1_ShapeCompactness2,F1_ShapeConvex,F1_ShapeConvexHullVolume)", "\n", "\n", "for (i in variableR){", "\n", "\n", "        ks", ".test", "(", "i", ",", "\"pnorm\"", ")}\n", "\nWarning messages:", "1: In ks.test(i, \"pnorm\") :", "ties should not be present for the Kolmogorov-Smirnov test", "2: In ks.test(i, \"pnorm\") :", "ties should not be present for the Kolmogorov-Smirnov test", "3: In ks.test(i, \"pnorm\") :", "ties should not be present for the Kolmogorov-Smirnov test", "4: In ks.test(i, \"pnorm\") :", "ties should not be present for the Kolmogorov-Smirnov test", "我想用shapiro.test()：但是结果也不行", "\n", "for (i in variableR){", "\n", "\n", "    shapiro.", "test", "(i)}\n", "\n", "\n", "哪个同学能够给我点建议~！？不甚感激！"]], "Tag": "程序设计"}
{"Answer": "python\r\nwith open（文件，‘a+’）as f：\r\n\tf.seek(0)\r\n\tf.write(需要添加的文本内容)", "Konwledge_Point": "批量数据处理——数组", "Question": ["怎么批量在txt文件头部添加文本并换行？", ["怎么批量在txt文件头部添加文本并换行？", "\n最好不要下载软件，用bat就行。"]], "Tag": "程序设计"}
{"Answer": "你可以试试这个：\r\n     &lt;sql id='TABLE_NAME'&gt;TEST_USER&lt;/sql&gt;\r\n     &lt;sql id='TABLE_SEQUENCE'&gt;SEQ_TEST_USER_ID.nextval&lt;/sql&gt;\r\n\r\n     &lt;!-- 注意这里直接调用sequence的nextval函数 --&gt;\r\n     &lt;insert id=\"insert\" parameterType=\"User\"&gt;\r\n         insert into &lt;include refid=\"TABLE_NAME\" /&gt; (ID,NAME,AGE)\r\n             values ( &lt;include refid=\"TABLE_SEQUENCE\" /&gt; ,#{name}, #{age} )\r\n     &lt;/insert&gt;\r\n\t\t\r\n\t\t\r\n\t\t或者参考下这个\r\n\t\t\r\n\t\t    &lt;insert id=\"addTrainRecordBatch\" useGeneratedKeys=\"true\" parameterType=\"java.util.List\"&gt;  \r\n        &lt;selectKey resultType=\"long\" keyProperty=\"id\" order=\"AFTER\"&gt;  \r\n            SELECT  \r\n            LAST_INSERT_ID()  \r\n        &lt;/selectKey&gt;  \r\n        insert into t_train_record (add_time,emp_id,activity_id,flag)   \r\n        values  \r\n        &lt;foreach collection=\"list\" item=\"item\" index=\"index\" separator=\",\" &gt;  \r\n            (#{item.addTime},#{item.empId},#{item.activityId},#{item.flag})  \r\n        &lt;/foreach&gt;  \r\n    &lt;/insert&gt;  \r\n\t\t\r\n\t\t\r\n\t\t发现你的错误了吗？ 对了  insert的sql中不用写id字段。", "Konwledge_Point": "批量数据处理——数组", "Question": ["Mybatis怎么实现批量的id自增插入到oracle中", ["因为oracle中并不支持自增id,所以使用下面这种批量的先查询id，再把id的值加1后放到id字段中去，老是报ORA-00933: SQL 命令未正确结束，请大神帮帮忙。", "\n\n", " <insert id=\"addRoleInfo\" parameterType=\"java.util.List\" useGeneratedKeys=\"false\" >  \n        <selectKey resultType=\"int\" keyProperty=\"ID\" order=\"BEFORE\">  \n            SELECT  MAX(ID)+1 FROM PORTAL_SYSTEM_ROLE \n        </selectKey>  \n        insert into PORTAL_SYSTEM_ROLE (ID,ROLE_ID,ROLE_NAME,CREATE_TIME,UPDATE_TIME)   \n        values  \n        <foreach collection=\"list\" item=\"item\" index=\"index\" separator=\",\" >  \n               (#{item.id,jdbcType=VARCHAR},\n                #{item.roleId,jdbcType=VARCHAR},\n                #{item.roleName,jdbcType=VARCHAR},\n                #{item.createTime,jdbcType=TIMESTAMP},\n                #{item.updateTime,jdbcType=TIMESTAMP})  \n        </foreach>  \n    </insert>\n", "\n\n", " org.springframework.jdbc.BadSqlGrammarException: \n### Error updating database.  Cause: java.sql.SQLException: ORA-00933: SQL 命令未正确结束\n\n### The error may exist in file [E:\\HTML\\apache-tomcat-7.0.69\\webapps\\4asyn\\WEB-INF\\classes\\mybatis\\RoleMapper.xml]\n### The error may involve com.boco.eoms.portal.role.mapper.RoleMapper.addRoleInfo-Inline\n### The error occurred while setting parameters\n### SQL: insert into PORTAL_SYSTEM_ROLE (ID,ROLE_ID,ROLE_NAME,CREATE_TIME,UPDATE_TIME)         values                         (?,     ?,     ?,     ?,     ?)         ,                (?,     ?,     ?,     ?,     ?)\n### Cause: java.sql.SQLException: ORA-00933: SQL 命令未正确结束\n\n; bad SQL grammar []; nested exception is java.sql.SQLException: ORA-00933: SQL 命令未正确结束\n"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;select * from table t where t.hospital_expire_flag&amp;#61;1&lt;br /&gt;union all&lt;br /&gt;select 表字段 from&lt;br /&gt;(&lt;br /&gt;select t.*, rank()over(order by 升序 desc) rn  from table t where t.hospital_expire_flag&amp;#61;0&lt;br /&gt;) t1 where t1.rn&amp;#61;1&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["sql语句，想根据两列条件保留重复项，该怎么做", ["如图，当hospital_expire_flag出现1时则保留此行，否则取升序列最大值那行"]], "Tag": "程序设计"}
{"Answer": "**问题解决后兴奋地写下：**\r\n       程序批量删除无法删除的主要问题最终还是在sql语句上，虽然debug日志上能看到sql语句和参数都没有问题，但是！sql语句执行的时候并没有拿到这些个参数。经调试，将foreach中参数赋值的写法由原先的\r\n\r\n\r\n```\r\n &lt;foreach collection=\"list\" item=\"item\" index=\"index\" separator=\"union all\"&gt;  \r\n     。。。B.dscd=#{item.dscd} and B.unit_id=#{item.unitId} 。。。\r\n    &lt;/foreach&gt;\r\n```\r\n修改为：\r\n\r\n\r\n```\r\n &lt;foreach collection=\"list\" item=\"item\" index=\"index\" separator=\"union all\"&gt;  \r\n     。。。B.dscd=${item.dscd} and B.unit_id=${item.unitId} 。。。\r\n    &lt;/foreach&gt;\r\n```\r\n**至此，困扰我许久的问题得以解决！**\r\n附：Mybatis针对Oracle数据库“多条件”批量删除的mapper.xml\r\n\r\n\r\n```\r\n &lt;!-- 批量删除值班表 --&gt;\r\n &lt;delete id=\"delMultiByIds2\" parameterType=\"java.util.List\"&gt; \r\n  delete from tb_duty A\r\n  where exists \r\n  ( \r\n   select 1 from(\r\n    &lt;foreach collection=\"list\" item=\"item\" index=\"index\" separator=\"union all\"&gt;  \r\n     select  B.* from tb_duty B where 1=1 and  B.dscd=${item.dscd} and B.unit_id=${item.unitId} and \r\n      B.year=${item.year} and B.month=${item.month} and B.flag=${item.flag} \r\n    &lt;/foreach&gt;\r\n    )S where  A.duty_id=S.duty_id\r\n  )\r\n&lt;/delete&gt;\r\n\r\n\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["求经验！Mybatis 针对Oracle数据库如何写“多条件”批量删除语句？", ["我的写法：", "\n\n", "  <delete id=\"delMultiByIds2\" parameterType=\"java.util.List\">  \n  delete from tb_duty where\n    <foreach collection=\"list\" item=\"item\" index=\"index\" separator=\"or\">  \n       ( dscd=#{item.dscd}, \n       and unit_id=#{item.unitId},\n       and year=#{item.year},\n       and month=#{item.month},\n       and flag=#{item.flag} )\n    </foreach> \n</delete>\n", "\n\n", "语句的语法没错，只是无法删除数据库中的记录，肯定是语句的写法有问题。", "\n希望有经验的高手指教一把！"]], "Tag": "程序设计"}
{"Answer": "这个不是很简单,设置一个变量记录下,\r\nint count = 0;\r\nwhile(readline) {\r\n   count++;\r\n   if(count==2000){\r\n      executeBatch();\r\n      count = 0;\r\n   }\r\n}\r\nif(count&gt;0){\r\n   executeBatch();\r\n}", "Konwledge_Point": "批量数据处理——数组", "Question": ["关于jdbc事务处理，批量插入数据的问题", ["部分代码如下：", "\n\n", "Class.forName(driver).newInstance(); ", "\ncon = DriverManager.getConnection(url,\"root\",\"123456\");", "\nif (con==null){", "\n   System.out.println(\"NULL\");", "\n}", "\nString SQL = \"Insert into test.test value (null,?,?,?,?,?,?,?,?,?,?,?,?,?);\" ;", "\ncon.setAutoCommit(false);", "\nPreparedStatement pst = (PreparedStatement) con.prepareStatement(SQL);", "\nwhile((dbtxtcontent = br.readLine())!=null)", "\n{", "\ndbtxtcontent = dbtxtcontent.replaceAll(\"\\'\",\"\");", "\nString[] val = dbtxtcontent.split(\",\");", "\nboolean flag = false;", "\ntry {", "\n    pst.setInt(1, k);", "\n    k++;", "\n    pst.setString(2, \"\"+val[0]);", "\n    pst.setString(3, \"\"+val[1]);", "\n    pst.setString(4, \"\"+val[2]);", "\n    pst.setString(5, \"\"+val[3]);", "\n    pst.setString(6, \"\"+val[4]);", "\n    pst.setString(7, \"\"+val[5]);", "\n    pst.setString(8, \"\"+val[6]);", "\n    pst.setString(9, \"\"+val[7]);", "\n    pst.setString(10, \"\"+val[8]);", "\n    pst.setString(11, \"\"+val[9]);", "\n    pst.setString(12, \"\"+val[10]);", "\n    pst.setString(13, \"\"+val[11]);", "\n    pst.addBatch();", "\n} ", "\ncatch (Exception e) ", "\n{", "\n    System.err.println(\"Error CODE:\" + e);", "\n} ", "\nline++;", "\n}", "\npst.executeBatch();", "\ncon.commit(); ", "\npst.close();", "\ncon.close();", "\n\n", "原程序目的是获取一数据文件内容，并将数据插入数据库。", "\n现在的问题是，数据量较大，全部加入到addBatch，执行时提示内存溢出，", "\n读一条插一条的方法不能在指定的时间内将数据插入数据库，", "\n我想分多次插入，例如每次20000条，数据不是整万的，有零头，尝试了很多次，都没有找到方法", "\n请问大神们该如何修改这段代码？？？？？                   "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;每次导入得时候&amp;#xff0c;正常解析导入得数据&amp;#xff0c;导入之前&amp;#xff0c;都要校验下此IP是否已经存在&amp;#xff0c;如&amp;#xff1a;导入李四&amp;#xff1a;1:1:1:1&amp;#xff0c;如果张三存在则修改&amp;#xff0c;如不存在则添加到李四&lt;br /&gt;几千条&amp;#xff0c;几万条得校验来说&amp;#xff0c;对于mysql数据库不是瓶颈&lt;br /&gt;如数据量会持续累加到百万级别&amp;#xff0c;则考虑分区分表。&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["批量导入数据和数据重复，唯一索引", ["1.管理员可以给用户导入ip，用户也可以自己导入ip，ip是唯一的，即某个ip只能属于一个用户", "2.张三有个ip：1.1.1.1，已经在数据库存在 ，如果管理员又往张三导入一个IP是 1.1.1.1，这时需要做修改操作(修改时间、描述等等)；如果管理员往李四导入1.1.1.1 则这条数据导入失败", "3.一次只会给一个用户导入数据，数据几千条到几万条都有，数据库是mysql，cloud项目", "\n", "4.怎么做能使效率比较高？想了很久没有想到合适的方法", "5.不考虑并发情况"]], "Tag": "程序设计"}
{"Answer": "merge into t1\r\nusing t2\r\non t1.col1 = t2.col1\r\nwhen matched then \r\n    update set t1.col2 = t2.col2\r\n    delete where (t1.col3 condition) \r\nwhen not matched then \r\n    insert (col_list)\r\n    values (col_list)", "Konwledge_Point": "批量数据处理——数组", "Question": ["Sql Server 除了union之外有没有其他方法批量更新数据", ["现希望通过传入一个集合来实现批量更新数据", "\n传入的集合包括主键id和用户id", "\n因为通过Union拼接的话虽然减少了连接数据库的次数，但效率依然不太高", "\n希望问一下有没有其他更高效的方法只用一条SQL语句根据多个不同的主键id来分别更新用户id", "\n\n", "update user set user_id = (\ncase \nwhen id = '02' then '1'\nwhen id = '03' then '2'\nwhen id = '04' then '3'\nend\n) where id in ('02','03','04')\n", "\n\n", "目前想到了这一种方法，想问一下大佬们还有没有更好的办法"]], "Tag": "程序设计"}
{"Answer": "&lt;pre&gt;&lt;code class=\"language-python\"&gt;\nimport os\n&lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; openpyxl import Workbook\nimport datetime\n\n&lt;span class=\"hljs-meta\"&gt;# 创建文件夹&lt;/span&gt;\ndir_name &amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;D:\\\\xlsx文件夹\\\\&amp;#39;&lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; os.path.&lt;span class=\"hljs-keyword\"&gt;exists&lt;/span&gt;(dir_name):\n    &lt;span class=\"hljs-keyword\"&gt;print&lt;/span&gt;(f&lt;span class=\"hljs-string\"&gt;&amp;#39;{dir_name}已存在&amp;#39;&lt;/span&gt;)\n&lt;span class=\"hljs-keyword\"&gt;else&lt;/span&gt;:\n    os.mkdir(dir_name)\n\nstart_time &amp;#61; datetime.&lt;span class=\"hljs-built_in\"&gt;date&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2021&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;)  &lt;span class=\"hljs-meta\"&gt;# 开始日期&lt;/span&gt;\nend_time &amp;#61; datetime.&lt;span class=\"hljs-built_in\"&gt;date&lt;/span&gt;(&lt;span class=\"hljs-number\"&gt;2021&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;9&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;4&lt;/span&gt;)  &lt;span class=\"hljs-meta\"&gt;# 结束日期&lt;/span&gt;\ndays &amp;#61; end_time - start_time  &lt;span class=\"hljs-meta\"&gt;# 开始日期与结束日期差值对象&lt;/span&gt;\n\n&lt;span class=\"hljs-meta\"&gt;# 自己的名字&lt;/span&gt;\nname &amp;#61; &lt;span class=\"hljs-string\"&gt;&amp;#39;test&amp;#39;&lt;/span&gt;\nworkbook &amp;#61; Workbook()  &lt;span class=\"hljs-meta\"&gt;# 创建Excel文件对象 &lt;/span&gt;\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; i &lt;span class=\"hljs-keyword\"&gt;in&lt;/span&gt; range(days.days &amp;#43; &lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;):\n    &lt;span class=\"hljs-meta\"&gt;# 日期对象&lt;/span&gt;\n    &lt;span class=\"hljs-built_in\"&gt;date&lt;/span&gt; &amp;#61; start_time &amp;#43; datetime.timedelta(days&amp;#61;i)\n    &lt;span class=\"hljs-meta\"&gt;# date.strftime(&amp;#39;%Y%m%d&amp;#39;)日期格式化,file_name文件名&amp;#43;路径&lt;/span&gt;\n    file_name &amp;#61; dir_name &amp;#43; name &amp;#43; &lt;span class=\"hljs-built_in\"&gt;date&lt;/span&gt;.strftime(&lt;span class=\"hljs-string\"&gt;&amp;#39;%Y%m%d&amp;#39;&lt;/span&gt;) &amp;#43; &lt;span class=\"hljs-string\"&gt;&amp;#39;.xlsx&amp;#39;&lt;/span&gt;\n    &lt;span class=\"hljs-meta\"&gt;# 判断文件是否存在&lt;/span&gt;\n    &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; os.path.&lt;span class=\"hljs-keyword\"&gt;exists&lt;/span&gt;(file_name) &amp;#61;&amp;#61; False:\n        workbook.save(file_name)  &lt;span class=\"hljs-meta\"&gt;# 保存文件&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Python按日期批量建立xlsx文件", ["1、按照日期批量建立xlsx文件 ==》日期从2021年1月1日至2021年9月4日 ==》典型文件名为test20210101.xlsx至test20210904.xlsx", "\n", "2、将建立好的文件批量移动至D盘的新建文件夹中，并命名为自己的名字+日期"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;Since you have that kind of results, \nyou can still access them using &lt;code&gt;foreach&lt;/code&gt; loop and save them to your table\njust like below&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;foreach ($result as $key =&amp;gt; $value) {\n    /* do your saving codes here\n    * the values of $key are (1,2,3,4,..,10)\n    * and $values will be (1 or 0) */\n\n    $DriverPreDepartureItems = new DriverPreDepartureItems();\n    $DriverPreDepartureItems-&amp;gt;user_id = $driver_id-&amp;gt;id;\n\n    $DriverPreDepartureItems-&amp;gt;shift_id = $find_shift-&amp;gt;id;\n    $DriverPreDepartureItems-&amp;gt;type = $value;\n    $DriverPreDepartureItems-&amp;gt;value = $key;\n\n    $DriverPreDepartureItems-&amp;gt;save();\n\n }\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["如何在db laravel中保存多个数组", ["\n\n", "im getting these data from service ", "\n\n", "value = 1:1,2:0,3:1,4:0,5:1,6:1,7:0,8:0,9:1,10:0", "\n\n", "and i splitt it using arrayas", "\n\n", "$result = array();\n                foreach (explode(',',$value) as $sub)\n                {\n                    $subAry = explode(':',$sub);\n                    $result[$subAry[0]] = $subAry[1];\n\n                }\n                return $result;\n\nhere how its return\n  \"1\": \"1\",\n  \"2\": \"0\",\n  \"3\": \"1\",\n  \"4\": \"0\",\n  \"5\": \"1\",\n  \"6\": \"1\",\n  \"7\": \"0\",\n  \"8\": \"0\",\n  \"9\": \"1\",\n  \"10\": \"0\"\n}\n", "\n\n", "i want to save these values in table in two columns, please advice", "\n\n", "first number set should goes to $value column and other one should goes to $type column, ", "\n\n", "here is my controller,", "\n\n", "$DriverPreDepartureItems = new DriverPreDepartureItems();\n                    $DriverPreDepartureItems->user_id = $driver_id->id;\n\n                    $DriverPreDepartureItems->shift_id = $find_shift->id;\n                    $DriverPreDepartureItems->type = ;\n                    $DriverPreDepartureItems->value = ;\n\n                    $DriverPreDepartureItems->save();\n", "\n\n", "pls advice", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;可以&amp;#xff0c;发几个asc 文件给我&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["利用python将ASC文件批量转为Excel文件", ["现有数据整理的需求，需要将大量的ASC文件转化为规定格式的Excel文件，完全玩不转这些语言，想找人帮忙做个python的批处理文件，可以将ASC批量转化。", "\n\n", "ASC文件", "\n\n", "\n\n", " 收工转化的Excel文件", "\n\n", "\n\n", "因为不是学计算机的，所以描述可能不清晰，有问题可以直接消息问我。", "\n\n", " ", "\n\n", "谢谢"]], "Tag": "程序设计"}
{"Answer": "query.executeUpdate()也可以执行原生的插入语句。\r\nQuery query = em.createNativeQuery(\"insert into table(column1,column2) values (), (),()\");\r\n query.executeUpdate();", "Konwledge_Point": "批量数据处理——数组", "Question": ["spring data jpa hibernate批量插入", ["原生的sql，在mysql中可以insert into table(column1,column2) values (), (),()这样批量插入很多数据，jpa中我看好像没有可以批量插入的。请问各位有吗？", "\n看好多帖说EntityManager.persist()，然后多少条flush(), clear()。我看这种方式hibernate也是一条一条insert执行的，效率并不高。"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;You can try this approach, but before that, are you giving it the full URL?&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;function get_content($url){\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_VERBOSE, 1);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_AUTOREFERER, false);\n    curl_setopt($ch, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1);\n    curl_setopt($ch, CURLOPT_HEADER, 0);\n    $result = curl_exec($ch);\n    curl_close($ch);\n    return($result);\n}\n\nfunction save_content($text,$new_filename){\n    $fp = fopen($new_filename, 'w');\n    fwrite($fp, $text);\n    fclose($fp);\n}\n\n// replace this with your array of urls from the database (make sure it is an array)\n$urls = ['http://domain.com/path/to/file.zip', 'http://another.com/path/to/image.img'];\n\nforeach($urls as $url){\n    $new_filename = basename($url);\n    $temp = get_content($url);\n    save_content($temp,$new_filename);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This would get the file contents via its complete url and save it to disk, thus the being downloaded.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;If you are not limited to curl, you may try something like:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$urls = ['http://domain.com/path/to/file.zip', 'http://another.com/path/to/image.img'];\n\nforeach($urls as $url){\n    $new_filename = basename($url);\n    // or fopen can be file_get_contents: file_get_contents($url)\n    file_put_contents($new_filename, fopen($url, 'r'));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or even&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;foreach($urls as $url){\n    $new_filename = basename($url);\n    shell_exec(\"wget $url -O $new_filename\");\n}\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["自动批量文件下载的最佳方法", ["\n\n", "I am attempting to create a cron job that downloads image files that are stored in a queue in our database.  ", "\n\n", "All of the functions that we are using work properly when run on our web server, however when I run the cron job using the following command: ", "php index.php cron image_download", " I receive a ", "Segmentation Fault", " error.", "\n\n", "Debugging the cron job shows that this error occurs when the data is passed to the get_url_content function, which is called here:", "\n\n", "foreach($urls as $url){\n\n    $content = $this->get_url_content($url); \n}\n", "\n\n", "And the function is here:", "\n\n", "function get_url_content($url){\n    $agent= 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 1.0.3705; .NET CLR 1.1.4322)';\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n    curl_setopt($ch, CURLOPT_VERBOSE, true);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_USERAGENT, $agent);\n    curl_setopt($ch, CURLOPT_URL,$url);\n    return curl_exec($ch);\n}\n", "\n\n", "Is there a better way to download these files? Is it likely that a different method would not cause the same segmentation fault error? Thank you!", "\n\n", "UPDATE: It appears that various methods I am trying are continually causing issues.  I am seeing either \"Segmentation Fault\" or \"Killed\" errors returned from the cron job.  Someone recommended that I look into using ", "Iron.io", " for this so I am going to check that out.  If anyone has other recommendations for how to manage this best I would appreciate additional information, thanks.", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;已处理&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["wps表格中格式批量处理问题", ["需要把表格中的数据整理成固定格式的", "\n\n", "整理前的数据：", "\n\n", "\n\n", " 整理后的数据：", "\n\n", "\n\n", "这种可以通过VB代码来实现吗？或者是用其他语言来达到此种目的？如果能实现，可以详聊"]], "Tag": "程序设计"}
{"Answer": "upload.jsp\r\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=GB18030\"\r\n\tpageEncoding=\"GB18030\"%&gt;\r\n\r\n&lt;%@ taglib prefix=\"s\" uri=\"/struts-tags\"%&gt;\r\n\r\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=GB18030\"&gt;\r\n\t\t&lt;title&gt;Insert title here&lt;/title&gt;\r\n\r\n\t\t&lt;script type=\"text/javascript\"&gt;\r\n\r\nfunction addMore()\r\n{\r\n\tvar td = document.getElementById(\"more\");\r\n\t\r\n\tvar br = document.createElement(\"br\");\r\n\tvar input = document.createElement(\"input\");\r\n\tvar button = document.createElement(\"input\");\r\n\t\r\n\tinput.type = \"file\";\r\n\tinput.name = \"file\";\r\n\t\r\n\tbutton.type = \"button\";\r\n\tbutton.value = \"Remove\";\r\n\t\r\n\tbutton.onclick = function()\r\n\t{\r\n\t\ttd.removeChild(br);\r\n\t\ttd.removeChild(input);\r\n\t\ttd.removeChild(button);\r\n\t}\r\n\t\r\n\ttd.appendChild(br);\r\n\ttd.appendChild(input);\r\n\ttd.appendChild(button);\r\n\t\r\n}\r\n\r\n&lt;/script&gt;\r\n\r\n\t&lt;/head&gt;\r\n\r\n\t&lt;body&gt;\r\n\r\n\t\t&lt;table align=\"center\" width=\"50%\"&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;\r\n\r\n\t\t\t\t\t&lt;s:fielderror cssStyle=\"color:red\" /&gt;\r\n\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/table&gt;\r\n\r\n\r\n\t\t&lt;s:form action=\"fileupAction\" theme=\"simple\"\r\n\t\t\tenctype=\"multipart/form-data\" method=\"post\"&gt;\r\n\t\t\t&lt;table align=\"center\" width=\"50%\" border=\"1\"&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\tusername\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\t&lt;s:textfield name=\"username\"&gt;&lt;/s:textfield&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\tpassword\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\t&lt;s:password name=\"password\"&gt;&lt;/s:password&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\r\n\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\tfile\r\n\t\t\t\t\t&lt;/td&gt;\r\n\r\n\t\t\t\t\t&lt;td id=\"more\"&gt;\r\n\t\t\t\t\t\t&lt;s:file name=\"file\" disabled=\"false\"&gt;&lt;/s:file&gt;\r\n\t\t\t\t\t\t&lt;input type=\"button\" value=\"Add More..\" onclick=\"addMore()\"&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\t&lt;s:submit value=\" submit \"&gt;&lt;/s:submit&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t\t&lt;s:reset value=\" reset \"&gt;&lt;/s:reset&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t&lt;/s:form&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["请教一个structs2批量上传例子？", ["现在工作需要用到批量上传 ？希望大家给个例子看下"]], "Tag": "程序设计"}
{"Answer": "&lt;p&gt;通过vba进行遍历&amp;#xff0c;然后把文件名读取下来&amp;#xff0c;并同时通过word的dom对象打开word读取页数&lt;/p&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Vba批量提取word文件名和每个word的总页数", ["Vba批量提取word文件名和每个word的总页数"]], "Tag": "程序设计"}
{"Answer": "参考如下示例代码：\r\n\r\n\r\n\r\n```\r\n package com.example.test;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        int maxRange = 2600;\r\n        int[] ids = new int[maxRange];\r\n        for (int i = 0; i &lt; maxRange; i++) {\r\n            ids[i] = i;\r\n        }\r\n\r\n        int PER_QUERY_COUNT = 1000; //每次查询数量\r\n\r\n        int from = 0; //起始索引\r\n        int to = PER_QUERY_COUNT; //结束索引\r\n\r\n        for (int j = 0; j &lt; ids.length; j += PER_QUERY_COUNT) {\r\n            //将一个原始的数组original，从小标from开始复制，复制到小标to，生成一个新的数组。\r\n            // 注意这里包括下标from，不包括下标to。\r\n            System.out.println(\"from=\" + from + \",to=\" + to);\r\n            int[] temp = Arrays.copyOfRange(ids, from, to);\r\n            for (int id : temp) {\r\n                System.out.print(id + \",\");\r\n            }\r\n            from += PER_QUERY_COUNT;\r\n            to += PER_QUERY_COUNT;\r\n            if (to &gt; ids.length) {\r\n                to = ids.length;\r\n            }\r\n            System.out.println(\"\\r\");\r\n        }\r\n    }\r\n}\r\n\r\n```", "Konwledge_Point": "批量数据处理——数组", "Question": ["java 每从数组里面获取1000条数据", ["批量删除用户，传过来的是一个integer[] ids,长度0~100万不定，当数据量大的时候删除太慢或者删除不了，现在想每次删1000条，时间长点可以接受，想知道怎么每次从ids取1000条，或者其他有更好的方案也可以，删除用户需要删除关联的东西太多，不能直接用sql in来删"]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;You have to use &lt;code&gt;mysqli&lt;/code&gt; functions instead of &lt;code&gt;mysql_&lt;/code&gt;* . Also, you need the &lt;code&gt;*&lt;/code&gt; in your &lt;code&gt;SELECT&lt;/code&gt; statement.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$sql = \"SELECT * FROM `Tablename`\";\n$result = mysqli_query($sql, $conn);\n\n$var = array();\nwhile ($row = mysqli_fetch_array($result)) {\n  $var[] = $row['PROFILEID'];\n}\n&lt;/code&gt;&lt;/pre&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["使用数据库中的列填充数组", ["\n\n", "I need to populate an array with some datas taken from a database. My DB Table looks like this:", "\n\n", "Tablename\n\nID | PROFILEID  |    PAGEID   | VOTE\n------------------------------------\n1  | 1563187610 | /example.php| 1\n2  | 1563187610 | /example.php| 2\n3  | 1946357685 | /example.php| 1\n------------------------------------\n", "\n\n", "And with every code I try to use I always get an array that looks like: ", "Array ( )", "\n\n", "This is the code that I use to populate the array:", "\n\n", "<?php\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"test\";\n\n// Create connection\n$conn = mysqli_connect($servername, $username, $password, $dbname);\n// Check connection\nif (!$conn) {\n    die(\"Connection failed: \" . mysqli_connect_error());\n}\n\n$sql = \"SELECT FROM `Tablename`\";\n$result = mysql_query($sql);\n\n$var = array();\nwhile ($row = mysql_fetch_array($result)) {\n  $var[] = $row['PROFILEID'];\n}\n\nprint_r($var);\n$conn->close();\n\n?>\n", "\n\n", "UPDATE 1", "\n\n", "$sql = \"SELECT * FROM `Tablename`\";\n$result = mysqli_query($sql, $conn);\n\n$var = array();\nwhile ($row = mysqli_fetch_array($result)) {\n  $var[] = $row['PROFILEID'];\n}\n\nprint_r($var);\n", "\n\n", "still gives the Array() problem. ", "\n\n", "If I put the \"", "or die(mysqli_error($conn))", "\" it doesn't say anything and I have a blank screen", "\n\n", "SOLVED", "\n\n", "$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"test\";\n\n// Create connection\n$conn = mysqli_connect($servername, $username, $password, $dbname);\n// Check connection\nif (!$conn) {\n    die(\"Connection failed: \" . mysqli_connect_error());\n}\n\n\n\n$sql = \"SELECT * FROM `Tablename`\";\n$result = $conn->query($sql);\n$var = array();\n\nif ($result->num_rows > 0) {\n    // output data of each row\n    while ($row = mysqli_fetch_array($result)) {\n        $var[] = $row[\"PROFILEID\"];\n    }\n} else {\n    echo \"0 results\";\n}\n\nprint_r ($var);\n$conn->close();\n", "\n    "]], "Tag": "程序设计"}
{"Answer": "&lt;div class=\"post-text\" itemprop=\"text\"&gt;\r\n&lt;p&gt;First in your code:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$product-&amp;gt;setCategory(\"category A\");\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You couldn't have this because it should require object, but i will assume you have simplified your code for sake of question.&lt;/p&gt;\n\n&lt;p&gt;Your problem is that you add association to product, but you don't add association to your category entity.&lt;/p&gt;\n\n&lt;p&gt;This has generally two solutions:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// In your Product entity add cascade persist, this will check your categories as well and schedule them for persist during flush\n/**\n * @ORM\\ManyToOne(targetEntity=\"AppBundle\\Entity\\Category\", inversedBy=\"products\", cascade={\"persist\"})\n * @ORM\\JoinColumn(name=\"category_id\", referencedColumnName=\"id\", nullable=false)\n */\nprotected $category;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Next solution (I prefer this one, because you have all the time control around everything).&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// In your product entity set Category\npublic function setCategory(Category $category) {\n    $this-&amp;gt;category = $category;\n    $category-&amp;gt;addProduct($this);\n}\n\n// In you Category entity\npublic function addProduct(Product $product) {\n    if (!$this-&amp;gt;products-&amp;gt;contains($product)) {\n        $this-&amp;gt;product-&amp;gt;add($product);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can use both at the same time as well.&lt;/p&gt;\n    &lt;/div&gt;", "Konwledge_Point": "批量数据处理——数组", "Question": ["Symfony主义批量插入", ["\n\n", "I am trying to optimize my doctrine save with bulk insert. But during the save i get the following error:", "\n\n", "\n  ", "A new entity was found through the relationship\n  'AppBundle\\Entity\\Product#category' that was not configured to cascade\n  persist operations for entity:\n  AppBundle\\Entity\\Category@00000000351492f00000000072328419. To solve\n  this issue: Either explicitly call EntityManager#persist() on this\n  unknown entity or configure cascade persist this association in the\n  mapping for example @ManyToOne(..,cascade={\"persist\"}). If you cannot\n  find out which entity causes the problem implement\n  'AppBundle\\Entity\\Category#__toString()' to get a clue.", "\n", "\n\n", "My Category Entity:", "\n\n", "class Category\n{\n\n    /**\n     * @var string\n     *\n     * @ORM\\Id()\n     * @ORM\\Column(type=\"string\", nullable=false, unique=true)\n     * @ORM\\GeneratedValue(strategy=\"UUID\")\n     */\n    private $id;\n\n    /**\n     * @var Category\n     * @ORM\\ManyToOne(targetEntity=\"AppBundle\\Entity\\Category\", inversedBy=\"children\")\n     * @ORM\\JoinColumn(name=\"parent_id\", referencedColumnName=\"id\", nullable=true)\n     */\n    private $parent;\n\n    /**\n     * @var ArrayCollection\n     * @ORM\\OneToMany(targetEntity=\"AppBundle\\Entity\\Category\", mappedBy=\"parent\", fetch=\"EAGER\")\n     */\n    private $children;\n\n    /**\n     * @var ArrayCollection;\n     * @ORM\\OneToMany(targetEntity=\"AppBundle\\Entity\\Product\", mappedBy=\"category\", fetch=\"EAGER\")\n     */\n    private $products;\n\n    /**\n     * @var string\n     * @ORM\\Column(type=\"string\", nullable=false)\n     */\n    private $title;\n}\n", "\n\n", "My Product Entity:", "\n\n", "class Product\n{\n\n    /**\n     * @ORM\\Column(type=\"integer\")\n     * @ORM\\Id\n     * @ORM\\GeneratedValue(strategy=\"AUTO\")\n     */\n    private $id;\n\n    /**\n     * @ORM\\Column(type=\"string\", length=100)\n     */\n    private $name;\n\n    /**\n     * @ORM\\ManyToOne(targetEntity=\"AppBundle\\Entity\\Category\", inversedBy=\"products\")\n     * @ORM\\JoinColumn(name=\"category_id\", referencedColumnName=\"id\", nullable=false)\n     */\n    protected $category;\n\n    /**\n    * @ORM\\Column(type=\"integer\",nullable=true)\n    */\n    private $stock;\n\n}\n", "\n\n", "My save method:", "\n\n", "$em = $this->getDoctrine()->getManager();\n$batchCount = 10;\nfor ($i = 0; $i < 10000; $i++) {\n     $product = new Product();\n     $product->setName(\"Product A\");\n     $product->setCategory(\"category A\");\n     $em->persist($product);\n     if (($i % $batchCount) == 0) {\n         $em->flush();\n         $em->clear();\n    }\n}\n", "\n    "]], "Tag": "程序设计"}
{"Answer": "http://blog.csdn.net/jubincn/article/details/7446316", "Konwledge_Point": "批量数据处理——数组", "Question": ["mybatis如何实现一次性对多表的字段数据插入", ["看了网上说用事务，可是mybatis的xml的sql文件该如何使用事务呢"]], "Tag": "程序设计"}
{"Answer": "语句必须要用到索引才能快起来，否则速度没有本质上的提高。\n楼主可以写语句看下执行计划。", "Konwledge_Point": "批量数据处理——数组", "Question": ["Oracle里批量更新列数据的问题", ["各位大侠好，现在遇到一个问题求教", "Oracle里有两张表，一张人员信息表，里面包含了人员和各项基本信息，其中包括了银行代码和银行卡号两个字段。", "另一张表是记录的银行代码和所有人的银行卡号。", "现在人员表里只存了银行卡号，我想把银行代码先根据卡号从银行表里查出来，再写入到人员表里的银行代码字段。", "使用了游标，发现效率很低，约20W条数据，已经执行一个多小时了，各位高手有没有其他更好的办法", "问题补充", "首先感谢楼上的兄弟。", "我现在用的就是方法一，但是银行表里会有重复的银行卡号，要取重复的卡号中银行代码较大的那个数据，这个问题没法解决啊。"]], "Tag": "程序设计"}
{"Answer": "不需，可以写一条SQL，更新条件的ID是查询出来的这100条的ID。\r\nupdate tabl1 set aaa='AAA' where id in (select ID from table1 where 1=1 limit 10 )", "Konwledge_Point": "批量数据处理——数组", "Question": ["mysql 批量更新怎么写", ["MYSQL更新查询前100条数据的aaa字段为AAA，可以有一条sql写完吗，还是要写存储过程循环这一千条数据。", "\n    我只知道", "\n    select * from table1 where 1=1 limit 10 查前十条", "\n    那怎么批量更新呢"]], "Tag": "程序设计"}
